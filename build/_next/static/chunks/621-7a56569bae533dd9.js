(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{5930:function(e,t,r){var n,i,s;i=[],void 0!==(s="function"==typeof(n=function(){"use strict";function e(t,r,n,i){this.message=t,this.expected=r,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),e.buildMessage=function(e,t){var r={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?s(e.parts[t][0])+"-"+s(e.parts[t][1]):s(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function s(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}return"Expected "+function(e){var t,n,i,s=Array(e.length);for(n=0;n<e.length;n++)s[n]=r[(t=e[n]).type](t);if(s.sort(),s.length>0){for(n=1,i=1;n<s.length;n++)s[n-1]!==s[n]&&(s[i]=s[n],i++);s.length=i}switch(s.length){case 1:return s[0];case 2:return s[0]+" or "+s[1];default:return s.slice(0,-1).join(", ")+", or "+s[s.length-1]}}(e)+" but "+(t?'"'+i(t)+'"':"end of input")+" found."},{SyntaxError:e,parse:function(t,n){n=void 0!==n?n:{};var i,s,a,o,u={},c={turtleDoc:tE},l=tE,h=function(e){var t=tQ.toJSON();return t["@graph"]=[],e.filter(e=>Array.isArray(e)).forEach(e=>{e.forEach(e=>{t["@graph"].push(e)})}),1===t["@graph"].length&&(Object.assign(t,t["@graph"][0]),delete t["@graph"]),t},f=tb(".",!1),d=function(e){return e},p=tb("#",!1),g=/^[^\n]/,y=t_(["\n"],!0,!1),m=tb("\n",!1),v=function(e){return e.join("")},w="@prefix",b=tb("@prefix",!1),_=function(e,t){return tQ.addPrefix(""===e?"0":e,t),{}},A="@base",x=tb("@base",!1),T=function(e){return tQ.addBase(e),{}},E=/^[Bb]/,k=t_(["B","b"],!1,!1),N=/^[Aa]/,D=t_(["A","a"],!1,!1),S=/^[Ss]/,I=t_(["S","s"],!1,!1),R=/^[Ee]/,C=t_(["E","e"],!1,!1),O=/^[Pp]/,U=t_(["P","p"],!1,!1),j=/^[Rr]/,L=t_(["R","r"],!1,!1),P=/^[Ff]/,F=t_(["F","f"],!1,!1),M=/^[Ii]/,q=t_(["I","i"],!1,!1),B=/^[Xx]/,H=t_(["X","x"],!1,!1),$=function(e,t){var r={};return"string"==typeof e&&"[]"!==e?r["@id"]=e:"object"==typeof e&&Object.assign(r,e),t&&Object.assign(r,t),[r]},V=function(e,t){var r={};return e&&Object.assign(r,e),t&&Object.assign(r,t),[r]},z=tb(";",!1),K=function(e,t,r,n){var i={};return i[r]=n,i},X=function(e,t,r){return r},W=function(e,t,r){var n,i={};return r.unshift(((n={})[e]=t,n)),r.forEach(e=>{e&&Object.keys(e).forEach(t=>{e[t].forEach(e=>{"@type"===t&&void 0!==e["@id"]&&(e=e["@id"]),void 0===i[t]?i[t]=e:Array.isArray(i[t])?i[t].push(e):i[t]=[i[t],e]})})}),i},G=tb(",",!1),J=function(e,t){return t},Q=tb("a",!1),Y=tb("[",!1),Z=tb("]",!1),ee=tb("(",!1),et=tb(")",!1),er=tb("^^",!1),en=function(e,t){if("http://www.w3.org/2001/XMLSchema#boolean"===t&&"true"===e)return!0;if("http://www.w3.org/2001/XMLSchema#boolean"===t&&"false"===e)return!1;if("http://www.w3.org/2001/XMLSchema#integer"===t)return parseInt(e);if("http://www.w3.org/2001/XMLSchema#double"===t)return parseFloat(e);let r=tQ.resolve(t,!0);if(r){let n=t.split(":")[0];if("http://www.w3.org/2001/XMLSchema#boolean"===r&&"true"===e)return tQ.decrement(n),!0;if("http://www.w3.org/2001/XMLSchema#boolean"===r&&"false"===e)return tQ.decrement(n),!1;if("http://www.w3.org/2001/XMLSchema#integer"===r)return tQ.decrement(n),parseInt(e);if("http://www.w3.org/2001/XMLSchema#double"===r)return tQ.decrement(n),parseFloat(e)}return{"@value":e,"@type":t}},ei="true",es=tb("true",!1),ea="false",eo=tb("false",!1),eu=tb("<",!1),ec=/^[^\0- <>"{}|\^`\\]/,el=t_([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),eh=tb(">",!1),ef=function(e){let t=e.map(e=>65536<=e.codePointAt(0)&&983039>=e.codePointAt(0)?"a":1===e.length?e:6===e.length?String.fromCharCode("0x"+e.substring(2)):10===e.length?String.fromCodePoint("0x"+e.substring(2)):e).join("");if(t.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var r=e.join("");try{return tQ.resolve(r)}catch(e){tw("Invalid IRIREF "+r)}}else tw("Invalid IRIREF "+e.join("")+" / "+t)},ed=tb(":",!1),ep=tb("_:",!1),eg=/^[0-9]/,ey=t_([["0","9"]],!1,!1),em=tb("@",!1),ev=/^[a-zA-Z]/,ew=t_([["a","z"],["A","Z"]],!1,!1),eb=tb("-",!1),e_=/^[a-zA-Z0-9]/,eA=t_([["a","z"],["A","Z"],["0","9"]],!1,!1),ex=function(e,t){return"-"+t.join("")},eT=/^[+\-]/,eE=t_(["+","-"],!1,!1),ek=/^[eE]/,eN=t_(["e","E"],!1,!1),eD=tb('"',!1),eS=/^[^"\\\n\r]/,eI=t_(['"',"\\","\n","\r"],!0,!1),eR=tb("'",!1),eC=/^[^'\\\n\r]/,eO=t_(["'","\\","\n","\r"],!0,!1),eU=tb("'''",!1),ej=/^[^'\\]/,eL=t_(["'","\\"],!0,!1),eP=tb("''",!1),eF=function(e,t){return"''"+t.join("")},eM=function(e,t){return"'"+t.join("")},eq=function(e,t){return e.join("")+t.join("")},eB=tb('"""',!1),eH=/^[^"\\]/,e$=t_(['"',"\\"],!0,!1),eV=tb('""',!1),ez=function(e,t){return'""'+t.join("")},eK=function(e,t){return'"'+t.join("")},eX=tb("\\U",!1),eW=tb("\\u",!1),eG=tb("\\t",!1),eJ=tb("\\b",!1),eQ=tb("\\n",!1),eY=tb("\\r",!1),eZ=tb("\\f",!1),e0=tb('\\"',!1),e1=tb("\\'",!1),e2=tb("\\\\",!1),e3=/^[ \t\r\n]/,e5=t_([" ","	","\r","\n"],!1,!1),e8=/^[\uD800-\uDBFF]/,e9=t_([["\uD800","\uDBFF"]],!1,!1),e6=/^[\uDC00-\uDFFF]/,e4=t_([["\uDC00","\uDFFF"]],!1,!1),e7=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,te=t_([["A","Z"],["a","z"],["\xc0","\xd6"],["\xd8","\xf6"],["\xf8","˿"],["Ͱ","ͽ"],["Ϳ","῿"],["‌","‍"],["⁰","↏"],["Ⰰ","⿯"],["、","퟿"],["豈","﷏"],["ﷰ","�"]],!1,!1),tt=tb("_",!1),tr=tb("\xb7",!1),tn=/^[\u0300-\u036F]/,ti=t_([["̀","ͯ"]],!1,!1),ts=/^[\u203F-\u2040]/,ta=t_([["‿","⁀"]],!1,!1),to=function(e,t,r,n){return r.join("")+n.join("")},tu=tb("%",!1),tc=/^[0-9A-Fa-f]/,tl=t_([["0","9"],["A","F"],["a","f"]],!1,!1),th=tb("\\",!1),tf=/^[_~.!$&'()*+,;=\/?#@%\-]/,td=t_(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),tp=0,tg=0,ty=[{line:1,column:1}],tm=0,tv=[];if("startRule"in n){if(!(n.startRule in c))throw Error("Can't start parsing from rule \""+n.startRule+'".');l=c[n.startRule]}function tw(t,r){throw new e(t,null,null,r=void 0!==r?r:tx(tg,tp))}function tb(e,t){return{type:"literal",text:e,ignoreCase:t}}function t_(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function tA(e){var r,n=ty[e];if(n)return n;for(r=e-1;!ty[r];)r--;for(n={line:(n=ty[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return ty[e]=n,n}function tx(e,t){var r=tA(e),n=tA(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function tT(e){tp<tm||(tp>tm&&(tm=tp,tv=[]),tv.push(e))}function tE(){var e,t,r,n;for(e=tp,t=[],r=tk();r!==u;)t.push(r),r=tk();if(t!==u){for(r=[],n=tN();n!==u;)r.push(n),n=tN();r!==u?(tg=e,e=t=h(t)):(tp=e,e=u)}else tp=e,e=u;return e}function tk(){var e,r,n,i,s,a,o,c,l,h;if((s=function(){var e,r,n,i,s,a,o,c,l;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u){if(t.substr(tp,7)===w?(n=w,tp+=7):(n=u,tT(b)),n!==u){for(i=[],s=tN();s!==u;)i.push(s),s=tN();if(i!==u){if((s=tM())!==u){for(a=[],o=tN();o!==u;)a.push(o),o=tN();if(a!==u){if((o=tP())!==u){for(c=[],l=tN();l!==u;)c.push(l),l=tN();c!==u?(46===t.charCodeAt(tp)?(l=".",tp++):(l=u,tT(f)),l!==u?(tg=e,e=r=_(s,o)):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u;return e}())===u&&(s=function(){var e,r,n,i,s,a,o;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u){if(t.substr(tp,5)===A?(n=A,tp+=5):(n=u,tT(x)),n!==u){for(i=[],s=tN();s!==u;)i.push(s),s=tN();if(i!==u){if((s=tP())!==u){for(a=[],o=tN();o!==u;)a.push(o),o=tN();a!==u?(46===t.charCodeAt(tp)?(o=".",tp++):(o=u,tT(f)),o!==u?(tg=e,e=r=T(s)):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u;return e}())===u&&(s=function(){var e,r,n,i,s,a,o,c,l,h,f,d;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u){if(O.test(t.charAt(tp))?(n=t.charAt(tp),tp++):(n=u,tT(U)),n!==u){if(j.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(L)),i!==u){if(R.test(t.charAt(tp))?(s=t.charAt(tp),tp++):(s=u,tT(C)),s!==u){if(P.test(t.charAt(tp))?(a=t.charAt(tp),tp++):(a=u,tT(F)),a!==u){if(M.test(t.charAt(tp))?(o=t.charAt(tp),tp++):(o=u,tT(q)),o!==u){if(B.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(H)),c!==u){for(l=[],h=tN();h!==u;)l.push(h),h=tN();if(l!==u){if((h=tM())!==u){for(f=[],d=tN();d!==u;)f.push(d),d=tN();f!==u&&(d=tP())!==u?(tg=e,e=r=_(h,d)):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u;return e}())===u&&(s=function(){var e,r,n,i,s,a,o,c;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u){if(E.test(t.charAt(tp))?(n=t.charAt(tp),tp++):(n=u,tT(k)),n!==u){if(N.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(D)),i!==u){if(S.test(t.charAt(tp))?(s=t.charAt(tp),tp++):(s=u,tT(I)),s!==u){if(R.test(t.charAt(tp))?(a=t.charAt(tp),tp++):(a=u,tT(C)),a!==u){for(o=[],c=tN();c!==u;)o.push(c),c=tN();o!==u&&(c=tP())!==u?(tg=e,e=r=T(c)):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u;return e}()),(e=s)===u){if(e=tp,a=tp,(l=tp,(h=tO())!==u&&(tg=l,h=tY(h,!0)),(l=h)===u&&(l=tL())===u&&(l=tj()),(o=l)!==u&&(c=tD())!==u)?(tg=a,a=o=$(o,c)):(tp=a,a=u),a===u&&(a=tp,(o=tC())!==u?((c=tD())===u&&(c=null),c!==u?(tg=a,a=o=V(o,c)):(tp=a,a=u)):(tp=a,a=u)),(r=a)!==u){for(n=[],i=tN();i!==u;)n.push(i),i=tN();n!==u?(46===t.charCodeAt(tp)?(i=".",tp++):(i=u,tT(f)),i!==u?(tg=e,e=r=d(r)):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u}return e}function tN(){var e,r;return e3.test(t.charAt(tp))?(r=t.charAt(tp),tp++):(r=u,tT(e5)),(e=r)===u&&(e=function(){var e,r,n,i;if(e=tp,35===t.charCodeAt(tp)?(r="#",tp++):(r=u,tT(p)),r!==u){for(n=[],g.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(y));i!==u;)n.push(i),g.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(y));n!==u?(10===t.charCodeAt(tp)?(i="\n",tp++):(i=u,tT(m)),i!==u?(tg=e,e=r=v(n)):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u;return e}()),e}function tD(){var e,r,n,i,s,a,o,c,l,h;if(e=tp,(r=tI())!==u){if((n=tS())!==u){for(i=[],s=tp,a=[],o=tN();o!==u;)a.push(o),o=tN();for(a!==u?(59===t.charCodeAt(tp)?(o=";",tp++):(o=u,tT(z)),o!==u?(c=tp,(l=tI())!==u&&(h=tS())!==u?(tg=c,c=l=K(r,n,l,h)):(tp=c,c=u),c===u&&(c=null),c!==u?(tg=s,s=a=X(r,n,c)):(tp=s,s=u)):(tp=s,s=u)):(tp=s,s=u);s!==u;){for(i.push(s),s=tp,a=[],o=tN();o!==u;)a.push(o),o=tN();a!==u?(59===t.charCodeAt(tp)?(o=";",tp++):(o=u,tT(z)),o!==u?(c=tp,(l=tI())!==u&&(h=tS())!==u?(tg=c,c=l=K(r,n,l,h)):(tp=c,c=u),c===u&&(c=null),c!==u?(tg=s,s=a=X(r,n,c)):(tp=s,s=u)):(tp=s,s=u)):(tp=s,s=u)}i!==u?(tg=e,e=r=W(r,n,i)):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u;return e}function tS(){var e,r,n,i,s,a,o,c;if(e=tp,(r=tR())!==u){for(n=[],i=tp,s=[],a=tN();a!==u;)s.push(a),a=tN();for(s!==u?(44===t.charCodeAt(tp)?(a=",",tp++):(a=u,tT(G)),a!==u&&(o=tR())!==u?(tg=i,i=s=J(r,o)):(tp=i,i=u)):(tp=i,i=u);i!==u;){for(n.push(i),i=tp,s=[],a=tN();a!==u;)s.push(a),a=tN();s!==u?(44===t.charCodeAt(tp)?(a=",",tp++):(a=u,tT(G)),a!==u&&(o=tR())!==u?(tg=i,i=s=J(r,o)):(tp=i,i=u)):(tp=i,i=u)}n!==u?(tg=e,c=r,n.unshift(c),e=r=n):(tp=e,e=u)}else tp=e,e=u;return e}function tI(){var e,r,n;if(e=tp,(r=function(){var e,t,r;for(e=tp,t=[],r=tN();r!==u;)t.push(r),r=tN();return t!==u&&(r=tj())!==u?(tg=e,e=t=d(r)):(tp=e,e=u),e}())!==u&&(tg=e,r=d(r)),(e=r)===u){for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();r!==u?(97===t.charCodeAt(tp)?(n="a",tp++):(n=u,tT(Q)),n!==u?(tg=e,e=r="@type"):(tp=e,e=u)):(tp=e,e=u)}return e}function tR(){var e,r,n,i;return(i=function(){var e,r,n,i,s,a,o;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u){if((n=tU())!==u){for(i=[],s=tN();s!==u;)i.push(s),s=tN();i!==u&&(s=function(){var e,r,n,i,s,a,o,c,l,h;if(e=tp,64===t.charCodeAt(tp)?(r="@",tp++):(r=u,tT(em)),r!==u){if(n=[],ev.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(ew)),i!==u)for(;i!==u;)n.push(i),ev.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(ew));else n=u;if(n!==u){if(i=[],s=tp,45===t.charCodeAt(tp)?(a="-",tp++):(a=u,tT(eb)),a!==u){if(o=[],e_.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eA)),c!==u)for(;c!==u;)o.push(c),e_.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eA));else o=u;o!==u?(tg=s,s=a=ex(n,o)):(tp=s,s=u)}else tp=s,s=u;for(;s!==u;)if(i.push(s),s=tp,45===t.charCodeAt(tp)?(a="-",tp++):(a=u,tT(eb)),a!==u){if(o=[],e_.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eA)),c!==u)for(;c!==u;)o.push(c),e_.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eA));else o=u;o!==u?(tg=s,s=a=ex(n,o)):(tp=s,s=u)}else tp=s,s=u;i!==u?(tg=e,l=n,h=i,e=r=l.join("")+h.join("")):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u;return e}())!==u?(tg=e,e=r={"@value":n,"@language":s}):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u;if(e===u){for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u){if((n=tU())!==u){for(i=[],s=tN();s!==u;)i.push(s),s=tN();if(i!==u){if("^^"===t.substr(tp,2)?(s="^^",tp+=2):(s=u,tT(er)),s!==u){for(a=[],o=tN();o!==u;)a.push(o),o=tN();a!==u&&(o=tj())!==u?(tg=e,e=r=en(n,o)):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u;if(e===u){for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();r!==u&&(n=tU())!==u?(tg=e,e=r=d(n)):(tp=e,e=u)}}return e}())===u&&(i=function(){var e,r,n;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();return r!==u?((n=function(){var e,r,n,i,s,a,o,c,l;if(e=tp,r=tp,n=tp,eT.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(eE)),i===u&&(i=null),i!==u){if(s=tp,a=[],eg.test(t.charAt(tp))?(o=t.charAt(tp),tp++):(o=u,tT(ey)),o!==u)for(;o!==u;)a.push(o),eg.test(t.charAt(tp))?(o=t.charAt(tp),tp++):(o=u,tT(ey));else a=u;if(a!==u){if(46===t.charCodeAt(tp)?(o=".",tp++):(o=u,tT(f)),o!==u){for(c=[],eg.test(t.charAt(tp))?(l=t.charAt(tp),tp++):(l=u,tT(ey));l!==u;)c.push(l),eg.test(t.charAt(tp))?(l=t.charAt(tp),tp++):(l=u,tT(ey));c!==u&&(l=tq())!==u?s=a=[a,o,c,l]:(tp=s,s=u)}else tp=s,s=u}else tp=s,s=u;if(s===u){if(s=tp,46===t.charCodeAt(tp)?(a=".",tp++):(a=u,tT(f)),a!==u){if(o=[],eg.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(ey)),c!==u)for(;c!==u;)o.push(c),eg.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(ey));else o=u;o!==u&&(c=tq())!==u?s=a=[a,o,c]:(tp=s,s=u)}else tp=s,s=u;if(s===u){if(s=tp,a=[],eg.test(t.charAt(tp))?(o=t.charAt(tp),tp++):(o=u,tT(ey)),o!==u)for(;o!==u;)a.push(o),eg.test(t.charAt(tp))?(o=t.charAt(tp),tp++):(o=u,tT(ey));else a=u;a!==u&&(o=tq())!==u?s=a=[a,o]:(tp=s,s=u)}}s!==u?n=i=[i,s]:(tp=n,n=u)}else tp=n,n=u;return(r=n!==u?t.substring(r,tp):n)!==u&&(tg=e,r={"@value":r,"@type":"http://www.w3.org/2001/XMLSchema#double"}),r}())===u&&(n=function(){var e,r,n,i,s,a,o,c;if(e=tp,r=tp,n=tp,eT.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(eE)),i===u&&(i=null),i!==u){for(s=[],eg.test(t.charAt(tp))?(a=t.charAt(tp),tp++):(a=u,tT(ey));a!==u;)s.push(a),eg.test(t.charAt(tp))?(a=t.charAt(tp),tp++):(a=u,tT(ey));if(s!==u){if(46===t.charCodeAt(tp)?(a=".",tp++):(a=u,tT(f)),a!==u){if(o=[],eg.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(ey)),c!==u)for(;c!==u;)o.push(c),eg.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(ey));else o=u;o!==u?n=i=[i,s,a,o]:(tp=n,n=u)}else tp=n,n=u}else tp=n,n=u}else tp=n,n=u;return(r=n!==u?t.substring(r,tp):n)!==u&&(tg=e,r={"@value":r,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}),r}())===u&&(n=function(){var e,r,n,i,s,a,o;if(e=tp,r=tp,n=tp,eT.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(eE)),i===u&&(i=null),i!==u){if(s=[],eg.test(t.charAt(tp))?(a=t.charAt(tp),tp++):(a=u,tT(ey)),a!==u)for(;a!==u;)s.push(a),eg.test(t.charAt(tp))?(a=t.charAt(tp),tp++):(a=u,tT(ey));else s=u;s!==u?n=i=[i,s]:(tp=n,n=u)}else tp=n,n=u;return(r=n!==u?t.substring(r,tp):n)!==u&&(tg=e,r=(o=r).match(/^[0+][0-9]+$/)?{"@value":o,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(o)),r}()),n!==u?(tg=e,e=r=d(n)):(tp=e,e=u)):(tp=e,e=u),e}())===u&&(i=function(){var e,r,n;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u?(t.substr(tp,4)===ei?(n=ei,tp+=4):(n=u,tT(es)),n!==u?(tg=e,e=r=!0):(tp=e,e=u)):(tp=e,e=u),e===u){for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();r!==u?(t.substr(tp,5)===ea?(n=ea,tp+=5):(n=u,tT(eo)),n!==u?(tg=e,e=r=!1):(tp=e,e=u)):(tp=e,e=u)}return e}()),(e=i)===u&&(e=tp,(r=tO())!==u&&(tg=e,r=tY(r,!1)),(e=r)===u&&(e=tp,(r=tL())!==u&&(tg=e,r="[]"===(n=r)?{}:{"@id":n}),(e=r)===u&&(e=tp,(r=tC())!==u&&(tg=e,r=d(r)),(e=r)===u)&&(e=tp,(r=tj())!==u&&(tg=e,r={"@id":r}),e=r))),e}function tC(){var e,r,n,i,s,a;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u){if(91===t.charCodeAt(tp)?(n="[",tp++):(n=u,tT(Y)),n!==u){if((i=tD())!==u){for(s=[],a=tN();a!==u;)s.push(a),a=tN();s!==u?(93===t.charCodeAt(tp)?(a="]",tp++):(a=u,tT(Z)),a!==u?(tg=e,e=r=d(i)):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u;return e}function tO(){var e,r,n,i,s,a;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u){if(40===t.charCodeAt(tp)?(n="(",tp++):(n=u,tT(ee)),n!==u){for(i=[],s=tR();s!==u;)i.push(s),s=tR();if(i!==u){for(s=[],a=tN();a!==u;)s.push(a),a=tN();s!==u&&(41===t.charCodeAt(tp)?(a=")",tp++):(a=u,tT(et)),a!==u)?(tg=e,e=r={"@list":i}):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u}else tp=e,e=u;return e}function tU(){var e,r,n;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();return r!==u?((n=function(){var e,r,n,i,s,a,o,c;if(e=tp,"'''"===t.substr(tp,3)?(r="'''",tp+=3):(r=u,tT(eU)),r!==u){for(n=[],ej.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(eL)),i===u&&(i=tH())===u&&(i=tB());i!==u;)n.push(i),ej.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(eL)),i===u&&(i=tH())===u&&(i=tB());if(n!==u){if(i=[],s=tp,"''"===t.substr(tp,2)?(a="''",tp+=2):(a=u,tT(eP)),a!==u){if(o=[],ej.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eL)),c===u&&(c=tH())===u&&(c=tB()),c!==u)for(;c!==u;)o.push(c),ej.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eL)),c===u&&(c=tH())===u&&(c=tB());else o=u;o!==u?(tg=s,s=a=eF(n,o)):(tp=s,s=u)}else tp=s,s=u;if(s===u){if(s=tp,39===t.charCodeAt(tp)?(a="'",tp++):(a=u,tT(eR)),a!==u){if(o=[],ej.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eL)),c===u&&(c=tH())===u&&(c=tB()),c!==u)for(;c!==u;)o.push(c),ej.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eL)),c===u&&(c=tH())===u&&(c=tB());else o=u;o!==u?(tg=s,s=a=eM(n,o)):(tp=s,s=u)}else tp=s,s=u}for(;s!==u;){if(i.push(s),s=tp,"''"===t.substr(tp,2)?(a="''",tp+=2):(a=u,tT(eP)),a!==u){if(o=[],ej.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eL)),c===u&&(c=tH())===u&&(c=tB()),c!==u)for(;c!==u;)o.push(c),ej.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eL)),c===u&&(c=tH())===u&&(c=tB());else o=u;o!==u?(tg=s,s=a=eF(n,o)):(tp=s,s=u)}else tp=s,s=u;if(s===u){if(s=tp,39===t.charCodeAt(tp)?(a="'",tp++):(a=u,tT(eR)),a!==u){if(o=[],ej.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eL)),c===u&&(c=tH())===u&&(c=tB()),c!==u)for(;c!==u;)o.push(c),ej.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(eL)),c===u&&(c=tH())===u&&(c=tB());else o=u;o!==u?(tg=s,s=a=eM(n,o)):(tp=s,s=u)}else tp=s,s=u}}i!==u?("'''"===t.substr(tp,3)?(s="'''",tp+=3):(s=u,tT(eU)),s!==u?(tg=e,e=r=eq(n,i)):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u;return e}())===u&&(n=function(){var e,r,n,i,s,a,o,c;if(e=tp,'"""'===t.substr(tp,3)?(r='"""',tp+=3):(r=u,tT(eB)),r!==u){for(n=[],eH.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(e$)),i===u&&(i=tH())===u&&(i=tB());i!==u;)n.push(i),eH.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(e$)),i===u&&(i=tH())===u&&(i=tB());if(n!==u){if(i=[],s=tp,'""'===t.substr(tp,2)?(a='""',tp+=2):(a=u,tT(eV)),a!==u){if(o=[],eH.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(e$)),c===u&&(c=tH())===u&&(c=tB()),c!==u)for(;c!==u;)o.push(c),eH.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(e$)),c===u&&(c=tH())===u&&(c=tB());else o=u;o!==u?(tg=s,s=a=ez(n,o)):(tp=s,s=u)}else tp=s,s=u;if(s===u){if(s=tp,34===t.charCodeAt(tp)?(a='"',tp++):(a=u,tT(eD)),a!==u){if(o=[],eH.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(e$)),c===u&&(c=tH())===u&&(c=tB()),c!==u)for(;c!==u;)o.push(c),eH.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(e$)),c===u&&(c=tH())===u&&(c=tB());else o=u;o!==u?(tg=s,s=a=eK(n,o)):(tp=s,s=u)}else tp=s,s=u}for(;s!==u;){if(i.push(s),s=tp,'""'===t.substr(tp,2)?(a='""',tp+=2):(a=u,tT(eV)),a!==u){if(o=[],eH.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(e$)),c===u&&(c=tH())===u&&(c=tB()),c!==u)for(;c!==u;)o.push(c),eH.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(e$)),c===u&&(c=tH())===u&&(c=tB());else o=u;o!==u?(tg=s,s=a=ez(n,o)):(tp=s,s=u)}else tp=s,s=u;if(s===u){if(s=tp,34===t.charCodeAt(tp)?(a='"',tp++):(a=u,tT(eD)),a!==u){if(o=[],eH.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(e$)),c===u&&(c=tH())===u&&(c=tB()),c!==u)for(;c!==u;)o.push(c),eH.test(t.charAt(tp))?(c=t.charAt(tp),tp++):(c=u,tT(e$)),c===u&&(c=tH())===u&&(c=tB());else o=u;o!==u?(tg=s,s=a=eK(n,o)):(tp=s,s=u)}else tp=s,s=u}}i!==u?('"""'===t.substr(tp,3)?(s='"""',tp+=3):(s=u,tT(eB)),s!==u?(tg=e,e=r=eq(n,i)):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u;return e}())===u&&(n=function(){var e,r,n,i;if(e=tp,39===t.charCodeAt(tp)?(r="'",tp++):(r=u,tT(eR)),r!==u){for(n=[],eC.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(eO)),i===u&&(i=tH())===u&&(i=tB());i!==u;)n.push(i),eC.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(eO)),i===u&&(i=tH())===u&&(i=tB());n!==u?(39===t.charCodeAt(tp)?(i="'",tp++):(i=u,tT(eR)),i!==u?(tg=e,e=r=v(n)):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u;return e}())===u&&(n=function(){var e,r,n,i;if(e=tp,34===t.charCodeAt(tp)?(r='"',tp++):(r=u,tT(eD)),r!==u){for(n=[],eS.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(eI)),i===u&&(i=tH())===u&&(i=tB());i!==u;)n.push(i),eS.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(eI)),i===u&&(i=tH())===u&&(i=tB());n!==u?(34===t.charCodeAt(tp)?(i='"',tp++):(i=u,tT(eD)),i!==u?(tg=e,e=r=v(n)):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u;return e}()),n!==u?(tg=e,e=r=d(n)):(tp=e,e=u)):(tp=e,e=u),e}function tj(){var e,r,n,i,s,a,o,c,l;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u&&(n=tP())!==u?(tg=e,e=r=d(n)):(tp=e,e=u),e===u){for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();r!==u&&((a=tp,(o=tF())!==u&&(c=function(){var e,r,n,i,s,a,o,c,l,h;if(e=tp,(r=tV())===u&&(58===t.charCodeAt(tp)?(r=":",tp++):(r=u,tT(ed)),r===u&&(eg.test(t.charAt(tp))?(r=t.charAt(tp),tp++):(r=u,tT(ey)),r===u&&(r=tX()))),r!==u){for(n=[],(i=tz())===u&&(58===t.charCodeAt(tp)?(i=":",tp++):(i=u,tT(ed)),i===u&&(i=tX()));i!==u;)n.push(i),(i=tz())===u&&(58===t.charCodeAt(tp)?(i=":",tp++):(i=u,tT(ed)),i===u&&(i=tX()));if(n!==u){if(i=[],s=tp,a=[],46===t.charCodeAt(tp)?(o=".",tp++):(o=u,tT(f)),o!==u)for(;o!==u;)a.push(o),46===t.charCodeAt(tp)?(o=".",tp++):(o=u,tT(f));else a=u;if(a!==u){if(o=[],(c=tz())===u&&(58===t.charCodeAt(tp)?(c=":",tp++):(c=u,tT(ed)),c===u&&(c=tX())),c!==u)for(;c!==u;)o.push(c),(c=tz())===u&&(58===t.charCodeAt(tp)?(c=":",tp++):(c=u,tT(ed)),c===u&&(c=tX()));else o=u;o!==u?(tg=s,s=a=to(r,n,a,o)):(tp=s,s=u)}else tp=s,s=u;for(;s!==u;){if(i.push(s),s=tp,a=[],46===t.charCodeAt(tp)?(o=".",tp++):(o=u,tT(f)),o!==u)for(;o!==u;)a.push(o),46===t.charCodeAt(tp)?(o=".",tp++):(o=u,tT(f));else a=u;if(a!==u){if(o=[],(c=tz())===u&&(58===t.charCodeAt(tp)?(c=":",tp++):(c=u,tT(ed)),c===u&&(c=tX())),c!==u)for(;c!==u;)o.push(c),(c=tz())===u&&(58===t.charCodeAt(tp)?(c=":",tp++):(c=u,tT(ed)),c===u&&(c=tX()));else o=u;o!==u?(tg=s,s=a=to(r,n,a,o)):(tp=s,s=u)}else tp=s,s=u}i!==u?(tg=e,l=r,h=i,e=r=l+n.join("")+h.join("")):(tp=e,e=u)}else tp=e,e=u}else tp=e,e=u;return e}())!==u)?(tg=a,l=o,tQ.increment(l),a=o=tQ.resolve(l+":"+c)):(tp=a,a=u),(i=a)===u&&(i=tp,(s=tF())!==u&&(tg=i,s+=":"),i=s),(n=i)!==u)?(tg=e,e=r=d(n)):(tp=e,e=u)}return e}function tL(){var e,r,n;for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();if(r!==u&&(n=function(){var e,r,n,i,s,a,o,c,l,h;if(e=tp,r=tp,"_:"===t.substr(tp,2)?(n="_:",tp+=2):(n=u,tT(ep)),n!==u){if((i=tV())===u&&(eg.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(ey))),i!==u){for(s=[],a=tz();a!==u;)s.push(a),a=tz();if(s!==u){if(a=[],o=tp,c=[],46===t.charCodeAt(tp)?(l=".",tp++):(l=u,tT(f)),l!==u)for(;l!==u;)c.push(l),46===t.charCodeAt(tp)?(l=".",tp++):(l=u,tT(f));else c=u;if(c!==u){if(l=[],(h=tz())!==u)for(;h!==u;)l.push(h),h=tz();else l=u;l!==u?o=c=[c,l]:(tp=o,o=u)}else tp=o,o=u;for(;o!==u;){if(a.push(o),o=tp,c=[],46===t.charCodeAt(tp)?(l=".",tp++):(l=u,tT(f)),l!==u)for(;l!==u;)c.push(l),46===t.charCodeAt(tp)?(l=".",tp++):(l=u,tT(f));else c=u;if(c!==u){if(l=[],(h=tz())!==u)for(;h!==u;)l.push(h),h=tz();else l=u;l!==u?o=c=[c,l]:(tp=o,o=u)}else tp=o,o=u}a!==u?r=n=[n,i,s,a]:(tp=r,r=u)}else tp=r,r=u}else tp=r,r=u}else tp=r,r=u;return r!==u?t.substring(e,tp):r}())!==u?(tg=e,e=r=d(n)):(tp=e,e=u),e===u){for(e=tp,r=[],n=tN();n!==u;)r.push(n),n=tN();r!==u&&(n=function(){var e,r,n,i;if(e=tp,91===t.charCodeAt(tp)?(r="[",tp++):(r=u,tT(Y)),r!==u){for(n=[],i=tN();i!==u;)n.push(i),i=tN();n!==u?(93===t.charCodeAt(tp)?(i="]",tp++):(i=u,tT(Z)),i!==u?(tg=e,e=r="[]"):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u;return e}())!==u?(tg=e,e=r=d(n)):(tp=e,e=u)}return e}function tP(){var e,r,n,i;if(e=tp,60===t.charCodeAt(tp)?(r="<",tp++):(r=u,tT(eu)),r!==u){for(n=[],ec.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(el)),i===u&&(i=tB());i!==u;)n.push(i),ec.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(el)),i===u&&(i=tB());n!==u?(62===t.charCodeAt(tp)?(i=">",tp++):(i=u,tT(eh)),i!==u?(tg=e,e=r=ef(n)):(tp=e,e=u)):(tp=e,e=u)}else tp=e,e=u;return e}function tF(){var e,r,n,i;return(e=tp,(r=tK())===u&&(r=null),r!==u&&(58===t.charCodeAt(tp)?(n=":",tp++):(n=u,tT(ed)),n!==u))?(tg=e,i=(i=r)||"0",!1===tQ.hasPrefix(i)&&tw("undefined prefix "+i),e=r=i):(tp=e,e=u),e}function tM(){var e,r,n;return(e=tp,(r=tK())===u&&(r=null),r!==u&&(58===t.charCodeAt(tp)?(n=":",tp++):(n=u,tT(ed)),n!==u))?(tg=e,e=r=r||""):(tp=e,e=u),e}function tq(){var e,r,n,i,s,a;if(e=tp,r=tp,ek.test(t.charAt(tp))?(n=t.charAt(tp),tp++):(n=u,tT(eN)),n!==u){if(eT.test(t.charAt(tp))?(i=t.charAt(tp),tp++):(i=u,tT(eE)),i===u&&(i=null),i!==u){if(s=[],eg.test(t.charAt(tp))?(a=t.charAt(tp),tp++):(a=u,tT(ey)),a!==u)for(;a!==u;)s.push(a),eg.test(t.charAt(tp))?(a=t.charAt(tp),tp++):(a=u,tT(ey));else s=u;s!==u?r=n=[n,i,s]:(tp=r,r=u)}else tp=r,r=u}else tp=r,r=u;return r!==u?t.substring(e,tp):r}function tB(){var e,r,n,i,s,a,o,c,l,h,f;return(e=tp,"\\U"===t.substr(tp,2)?(r="\\U",tp+=2):(r=u,tT(eX)),r!==u&&(n=tp,(i=tW())!==u&&(s=tW())!==u&&(a=tW())!==u&&(o=tW())!==u&&(c=tW())!==u&&(l=tW())!==u&&(h=tW())!==u&&(f=tW())!==u?n=i=[i,s,a,o,c,l,h,f]:(tp=n,n=u),n!==u))?(tg=e,e=r=String.fromCodePoint(parseInt(n.join(""),16))):(tp=e,e=u),e===u&&((e=tp,"\\u"===t.substr(tp,2)?(r="\\u",tp+=2):(r=u,tT(eW)),r!==u&&(n=tp,(i=tW())!==u&&(s=tW())!==u&&(a=tW())!==u&&(o=tW())!==u?n=i=[i,s,a,o]:(tp=n,n=u),n!==u))?(tg=e,e=r=String.fromCharCode(parseInt(n.join(""),16))):(tp=e,e=u)),e}function tH(){var e,r;return e=tp,"\\t"===t.substr(tp,2)?(r="\\t",tp+=2):(r=u,tT(eG)),r!==u&&(tg=e,r="	"),(e=r)===u&&(e=tp,"\\b"===t.substr(tp,2)?(r="\\b",tp+=2):(r=u,tT(eJ)),r!==u&&(tg=e,r="\b"),(e=r)===u&&(e=tp,"\\n"===t.substr(tp,2)?(r="\\n",tp+=2):(r=u,tT(eQ)),r!==u&&(tg=e,r="\n"),(e=r)===u&&(e=tp,"\\r"===t.substr(tp,2)?(r="\\r",tp+=2):(r=u,tT(eY)),r!==u&&(tg=e,r="\r"),(e=r)===u&&(e=tp,"\\f"===t.substr(tp,2)?(r="\\f",tp+=2):(r=u,tT(eZ)),r!==u&&(tg=e,r="\f"),(e=r)===u&&(e=tp,'\\"'===t.substr(tp,2)?(r='\\"',tp+=2):(r=u,tT(e0)),r!==u&&(tg=e,r='"'),(e=r)===u&&(e=tp,"\\'"===t.substr(tp,2)?(r="\\'",tp+=2):(r=u,tT(e1)),r!==u&&(tg=e,r="'"),(e=r)===u&&(e=tp,"\\\\"===t.substr(tp,2)?(r="\\\\",tp+=2):(r=u,tT(e2)),r!==u&&(tg=e,r="\\"),e=r))))))),e}function t$(){var e,r,n;return(e=tp,e8.test(t.charAt(tp))?(r=t.charAt(tp),tp++):(r=u,tT(e9)),r!==u&&(e6.test(t.charAt(tp))?(n=t.charAt(tp),tp++):(n=u,tT(e4)),n!==u))?(tg=e,r+=n,e=r):(tp=e,e=u),e===u&&(e7.test(t.charAt(tp))?(e=t.charAt(tp),tp++):(e=u,tT(te))),e}function tV(){var e;return(e=t$())===u&&(95===t.charCodeAt(tp)?(e="_",tp++):(e=u,tT(tt))),e}function tz(){var e;return(e=tV())===u&&(45===t.charCodeAt(tp)?(e="-",tp++):(e=u,tT(eb)),e===u&&(eg.test(t.charAt(tp))?(e=t.charAt(tp),tp++):(e=u,tT(ey)),e===u&&(183===t.charCodeAt(tp)?(e="\xb7",tp++):(e=u,tT(tr)),e===u&&(tn.test(t.charAt(tp))?(e=t.charAt(tp),tp++):(e=u,tT(ti)),e===u&&(ts.test(t.charAt(tp))?(e=t.charAt(tp),tp++):(e=u,tT(ta))))))),e}function tK(){var e,r,n,i,s,a,o,c,l;if(e=tp,r=tp,(n=t$())!==u){for(i=[],s=tz();s!==u;)i.push(s),s=tz();if(i!==u){if(s=[],a=tp,o=[],46===t.charCodeAt(tp)?(c=".",tp++):(c=u,tT(f)),c!==u)for(;c!==u;)o.push(c),46===t.charCodeAt(tp)?(c=".",tp++):(c=u,tT(f));else o=u;if(o!==u){if(c=[],(l=tz())!==u)for(;l!==u;)c.push(l),l=tz();else c=u;c!==u?a=o=[o,c]:(tp=a,a=u)}else tp=a,a=u;for(;a!==u;){if(s.push(a),a=tp,o=[],46===t.charCodeAt(tp)?(c=".",tp++):(c=u,tT(f)),c!==u)for(;c!==u;)o.push(c),46===t.charCodeAt(tp)?(c=".",tp++):(c=u,tT(f));else o=u;if(o!==u){if(c=[],(l=tz())!==u)for(;l!==u;)c.push(l),l=tz();else c=u;c!==u?a=o=[o,c]:(tp=a,a=u)}else tp=a,a=u}s!==u?r=n=[n,i,s]:(tp=r,r=u)}else tp=r,r=u}else tp=r,r=u;return r!==u?t.substring(e,tp):r}function tX(){var e,r,n,i,s,a,o,c,l;return r=tp,n=tp,37===t.charCodeAt(tp)?(i="%",tp++):(i=u,tT(tu)),i!==u&&(s=tW())!==u&&(a=tW())!==u?n=i=[i,s,a]:(tp=n,n=u),(e=r=n!==u?t.substring(r,tp):n)===u&&(o=tp,92===t.charCodeAt(tp)?(c="\\",tp++):(c=u,tT(th)),c!==u?(tf.test(t.charAt(tp))?(l=t.charAt(tp),tp++):(l=u,tT(td)),l!==u?(tg=o,o=c=d(l)):(tp=o,o=u)):(tp=o,o=u),e=o),e}function tW(){var e;return tc.test(t.charAt(tp))?(e=t.charAt(tp),tp++):(e=u,tT(tl)),e}var tG=Function("try {return this===window;}catch(e){ return false;}")()?window.URL:r(6679).URL,tJ=function(e){return e.match(/^[a-z](.*?):(.+?)/g)},tQ={base:[],data:{},addBase:function(e){if(0===tQ.base.length){tQ.base.push(e);return}let t=tQ.base[tQ.base.length-1];t!==e&&tQ.base.push(new tG(e,t).toString())},addPrefix:function(e,t){let r=tQ.data[e];void 0===r?tQ.data[e]=[{uri:t,count:0}]:r[r.length-1].uri!==t&&r.push({uri:t,count:0})},hasPrefix:function(e){return void 0!==this.data[e]},resolve:function(e,t){let r=Object.keys(tQ.data).find(t=>0===e.indexOf(t+":"));if(void 0!==r){let n=tQ.data[r];if(1===n.length&&!0!==t&&tJ(n[0].uri))return e;let i=n[n.length-1].uri;return e.replace(r+":",i)}var i=0===tQ.base.length?n.baseIRI:tQ.base[tQ.base.length-1];return!i||e.match(/^(http:|https:|urn:|file:)/)?e:0===e.indexOf("//")&&i?i.split("//")[0]+e:new tG(e,i).toString()},increment:function(e){let t=tQ.data[e];void 0!==t&&t[t.length-1].count++},decrement:function(e){let t=tQ.data[e];void 0!==t&&t[t.length-1].count--},toJSON:function(){let e={};return tQ.base.length>0&&(void 0===e["@context"]&&(e["@context"]={}),e["@context"]["@base"]=tQ.base[0]),Object.keys(tQ.data).forEach(t=>{let r=tQ.data[t][0];("http://www.w3.org/2001/XMLSchema#"!==r.uri||!(r.count<1))&&tJ(r.uri)&&(void 0===e["@context"]&&(e["@context"]={}),e["@context"][t]=r.uri)}),e}};function tY(e,t){if(void 0===e["@list"]||!t&&!e["@list"].find(e=>void 0!==e["@list"]))return e;if(0===e["@list"].length)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var r={},n=null;return e["@list"].forEach(e=>{null===n?n=r:(n["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},n=n["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),n["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=tY(e,!0),n["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),r}if((o=l())!==u&&tp===t.length)return o;throw o!==u&&tp<t.length&&tT({type:"end"}),i=tv,s=tm<t.length?t.charAt(tm):null,a=tm<t.length?tx(tm,tm+1):tx(tm,tm),new e(e.buildMessage(i,s),i,s,a)}}})?n.apply(t,i):n)&&(e.exports=s)},7925:(e,t)=>{"use strict";function r(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var n=r({HTML:"text/html",isHTML:function(e){return e===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.find=function(e,t,r){if(void 0===r&&(r=Array.prototype),e&&"function"==typeof r.find)return r.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];if(t.call(void 0,i,n,e))return i}},t.freeze=r,t.MIME_TYPE=n,t.NAMESPACE=i},8962:(e,t,r)=>{var n=r(7925),i=r(770),s=r(5473),a=r(6302),o=i.DOMImplementation,u=n.NAMESPACE,c=a.ParseError,l=a.XMLReader;function h(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function f(e){this.options=e||{locator:{}}}function d(){this.cdata=!1}function p(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function g(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function y(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function m(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}f.prototype.parseFromString=function(e,t){var r=this.options,n=new l,i=r.domBuilder||new d,a=r.errorHandler,o=r.locator,c=r.xmlns||{},f=/\/x?html?$/.test(t),p=f?s.HTML_ENTITIES:s.XML_ENTITIES;o&&i.setDocumentLocator(o),n.errorHandler=function(e,t,r){if(!e){if(t instanceof d)return t;e=t}var n={},i=e instanceof Function;function s(t){var s=e[t];!s&&i&&(s=2==e.length?function(r){e(t,r)}:e),n[t]=s&&function(e){s("[xmldom "+t+"]	"+e+g(r))}||function(){}}return r=r||{},s("warning"),s("error"),s("fatalError"),n}(a,i,o),n.domBuilder=r.domBuilder||i,f&&(c[""]=u.HTML),c.xml=c.xml||u.XML;var y=r.normalizeLineEndings||h;return e&&"string"==typeof e?n.parse(y(e),c,p):n.errorHandler.error("invalid doc source"),i.doc},d.prototype={startDocument:function(){this.doc=new o().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,s=i.createElementNS(e,r||t),a=n.length;m(this,s),this.currentElement=s,this.locator&&p(this.locator,s);for(var o=0;o<a;o++){var e=n.getURI(o),u=n.getValue(o),r=n.getQName(o),c=i.createAttributeNS(e,r);this.locator&&p(n.getLocator(o),c),c.value=c.nodeValue=u,s.setAttributeNode(c)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&p(this.locator,r),m(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=y.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&p(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=y.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&p(this.locator,n),m(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&p(this.locator,i),m(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]	"+e,g(this.locator))},error:function(e){console.error("[xmldom error]	"+e,g(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){d.prototype[e]=function(){return null}}),t.DOMParser=f},770:(e,t,r)=>{var n=r(7925),i=n.find,s=n.NAMESPACE;function a(e){return""!==e}function o(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function u(e){return e?Object.keys((e?e.split(/[\t\n\f\r ]+/).filter(a):[]).reduce(o,{})):[]}function c(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function l(e,t){var r=e.prototype;if(!(r instanceof t)){function n(){}n.prototype=t.prototype,c(r,n=new n),e.prototype=r=n}r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var h={},f=h.ELEMENT_NODE=1,d=h.ATTRIBUTE_NODE=2,p=h.TEXT_NODE=3,g=h.CDATA_SECTION_NODE=4,y=h.ENTITY_REFERENCE_NODE=5,m=h.ENTITY_NODE=6,v=h.PROCESSING_INSTRUCTION_NODE=7,w=h.COMMENT_NODE=8,b=h.DOCUMENT_NODE=9,_=h.DOCUMENT_TYPE_NODE=10,A=h.DOCUMENT_FRAGMENT_NODE=11,x=h.NOTATION_NODE=12,T={},E={};T.INDEX_SIZE_ERR=(E[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(E[2]="DOMString size error",2);var k=T.HIERARCHY_REQUEST_ERR=(E[3]="Hierarchy request error",3);T.WRONG_DOCUMENT_ERR=(E[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(E[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(E[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(E[7]="No modification allowed",7);var N=T.NOT_FOUND_ERR=(E[8]="Not found",8);T.NOT_SUPPORTED_ERR=(E[9]="Not supported",9);var D=T.INUSE_ATTRIBUTE_ERR=(E[10]="Attribute in use",10);function S(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,E[e]),this.message=E[e],Error.captureStackTrace&&Error.captureStackTrace(this,S);return r.code=e,t&&(this.message=this.message+": "+t),r}function I(){}function R(e,t){this._node=e,this._refresh=t,C(this)}function C(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(eg(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var n=r.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];c(r,e),e._inc=t}}function O(){}function U(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function j(e,t,r,n){if(n?t[U(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&H(i,e,n),i&&i._inc++,r.namespaceURI===s.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value))}}function L(e,t,r){var n=U(t,r);if(n>=0){for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var s=e.ownerDocument;s&&(H(s,e,r),r.ownerElement=null)}}else throw new S(N,Error(e.tagName+"@"+r))}function P(){}function F(){}function M(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function q(e,t){if(t(e))return!0;if(e=e.firstChild)do if(q(e,t))return!0;while(e=e.nextSibling)}function B(){this.ownerDocument=this}function H(e,t,r,n){e&&e._inc++,r.namespaceURI===s.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function $(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s,delete n[n.length]}}}function V(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,$(e.ownerDocument,e),t}function z(e){return e&&e.nodeType===F.DOCUMENT_TYPE_NODE}function K(e){return e&&e.nodeType===F.ELEMENT_NODE}function X(e){return e&&e.nodeType===F.TEXT_NODE}function W(e,t){var r=e.childNodes||[];if(i(r,K)||z(t))return!1;var n=i(r,z);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function G(e,t){var r=e.childNodes||[];if(i(r,function(e){return K(e)&&e!==t}))return!1;var n=i(r,z);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function J(e,t,r){var n=e.childNodes||[],s=t.childNodes||[];if(t.nodeType===F.DOCUMENT_FRAGMENT_NODE){var a=s.filter(K);if(a.length>1||i(s,X))throw new S(k,"More than one element or text in fragment");if(1===a.length&&!G(e,r))throw new S(k,"Element in fragment can not be inserted before doctype")}if(K(t)&&!G(e,r))throw new S(k,"Only one element can be added and only after doctype");if(z(t)){if(i(n,function(e){return z(e)&&e!==r}))throw new S(k,"Only one doctype is allowed");var o=i(n,K);if(r&&n.indexOf(o)<n.indexOf(r))throw new S(k,"Doctype can only be inserted before an element")}}function Q(e,t,r,n){!function(e,t,r){if(!(e&&(e.nodeType===F.DOCUMENT_NODE||e.nodeType===F.DOCUMENT_FRAGMENT_NODE||e.nodeType===F.ELEMENT_NODE)))throw new S(k,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new S(N,"child not in parent");if(!(t&&(K(t)||X(t)||z(t)||t.nodeType===F.DOCUMENT_FRAGMENT_NODE||t.nodeType===F.COMMENT_NODE||t.nodeType===F.PROCESSING_INSTRUCTION_NODE))||z(t)&&e.nodeType!==F.DOCUMENT_NODE)throw new S(k,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}(e,t,r),e.nodeType===F.DOCUMENT_NODE&&(n||function(e,t,r){var n=e.childNodes||[],s=t.childNodes||[];if(t.nodeType===F.DOCUMENT_FRAGMENT_NODE){var a=s.filter(K);if(a.length>1||i(s,X))throw new S(k,"More than one element or text in fragment");if(1===a.length&&!W(e,r))throw new S(k,"Element in fragment can not be inserted before doctype")}if(K(t)&&!W(e,r))throw new S(k,"Only one element can be added and only after doctype");if(z(t)){if(i(n,z))throw new S(k,"Only one doctype is allowed");var o=i(n,K);if(r&&n.indexOf(o)<n.indexOf(r))throw new S(k,"Doctype can only be inserted before an element");if(!r&&o)throw new S(k,"Doctype can not be appended since element is present")}})(e,t,r);var s=t.parentNode;if(s&&s.removeChild(t),t.nodeType===A){var a=t.firstChild;if(null==a)return t;var o=t.lastChild}else a=o=t;var u=r?r.previousSibling:e.lastChild;a.previousSibling=u,o.nextSibling=r,u?u.nextSibling=a:e.firstChild=a,null==r?e.lastChild=o:r.previousSibling=o;do a.parentNode=e;while(a!==o&&(a=a.nextSibling));return $(e.ownerDocument||e,e),t.nodeType==A&&(t.firstChild=t.lastChild=null),t}function Y(){this._nsMap={}}function Z(){}function ee(){}function et(){}function er(){}function en(){}function ei(){}function es(){}function ea(){}function eo(){}function eu(){}function ec(){}function el(){}function eh(e,t){var r=[],n=9==this.nodeType&&this.documentElement||this,i=n.prefix,s=n.namespaceURI;if(s&&null==i){var i=n.lookupPrefix(s);if(null==i)var a=[{namespace:s,prefix:null}]}return ep(this,r,e,t,a),r.join("")}function ef(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!i||"xml"===n&&i===s.XML||i===s.XMLNS)return!1;for(var a=r.length;a--;){var o=r[a];if(o.prefix===n)return o.namespace!==i}return!0}function ed(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,M),'"')}function ep(e,t,r,n,i){if(i||(i=[]),n){if(!(e=n(e)))return;if("string"==typeof e){t.push(e);return}}switch(e.nodeType){case f:var a,o=e.attributes,u=o.length,c=e.firstChild,l=e.tagName;r=s.isHTML(e.namespaceURI)||r;var h=l;if(!r&&!e.prefix&&e.namespaceURI){for(var m=0;m<o.length;m++)if("xmlns"===o.item(m).name){a=o.item(m).value;break}if(!a)for(var x=i.length-1;x>=0;x--){var T=i[x];if(""===T.prefix&&T.namespace===e.namespaceURI){a=T.namespace;break}}if(a!==e.namespaceURI)for(var x=i.length-1;x>=0;x--){var T=i[x];if(T.namespace===e.namespaceURI){T.prefix&&(h=T.prefix+":"+l);break}}}t.push("<",h);for(var E=0;E<u;E++){var k=o.item(E);"xmlns"==k.prefix?i.push({prefix:k.localName,namespace:k.value}):"xmlns"==k.nodeName&&i.push({prefix:"",namespace:k.value})}for(var E=0;E<u;E++){var k=o.item(E);if(ef(k,r,i)){var N=k.prefix||"",D=k.namespaceURI;ed(t,N?"xmlns:"+N:"xmlns",D),i.push({prefix:N,namespace:D})}ep(k,t,r,n,i)}if(l===h&&ef(e,r,i)){var N=e.prefix||"",D=e.namespaceURI;ed(t,N?"xmlns:"+N:"xmlns",D),i.push({prefix:N,namespace:D})}if(c||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),r&&/^script$/i.test(l))for(;c;)c.data?t.push(c.data):ep(c,t,r,n,i.slice()),c=c.nextSibling;else for(;c;)ep(c,t,r,n,i.slice()),c=c.nextSibling;t.push("</",h,">")}else t.push("/>");return;case b:case A:for(var c=e.firstChild;c;)ep(c,t,r,n,i.slice()),c=c.nextSibling;return;case d:return ed(t,e.name,e.value);case p:return t.push(e.data.replace(/[<&>]/g,M));case g:return t.push("<![CDATA[",e.data,"]]>");case w:return t.push("\x3c!--",e.data,"--\x3e");case _:var S=e.publicId,I=e.systemId;if(t.push("<!DOCTYPE ",e.name),S)t.push(" PUBLIC ",S),I&&"."!=I&&t.push(" ",I),t.push(">");else if(I&&"."!=I)t.push(" SYSTEM ",I,">");else{var R=e.internalSubset;R&&t.push(" [",R,"]"),t.push(">")}return;case v:return t.push("<?",e.target," ",e.data,"?>");case y:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function eg(e,t,r){e[t]=r}T.INVALID_STATE_ERR=(E[11]="Invalid state",11),T.SYNTAX_ERR=(E[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(E[13]="Invalid modification",13),T.NAMESPACE_ERR=(E[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(E[15]="Invalid access",15),S.prototype=Error.prototype,c(T,S),I.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)ep(this[n],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},R.prototype.item=function(e){return C(this),this[e]||null},l(R,I),O.prototype={length:0,item:I.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new S(D);var r=this.getNamedItem(e.nodeName);return j(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new S(D);return t=this.getNamedItemNS(e.namespaceURI,e.localName),j(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return L(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return L(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},P.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new B;if(n.implementation=this,n.childNodes=new I,n.doctype=r||null,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new ei;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}},F.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Q(this,e,t)},replaceChild:function(e,t){Q(this,e,t,J),t&&this.removeChild(t)},removeChild:function(e){return V(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,r,n){var i=new r.constructor;for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){var a=r[s];"object"!=typeof a&&a!=i[s]&&(i[s]=a)}switch(r.childNodes&&(i.childNodes=new I),i.ownerDocument=t,i.nodeType){case f:var o=r.attributes,u=i.attributes=new O,c=o.length;u._ownerElement=i;for(var l=0;l<c;l++)i.setAttributeNode(e(t,o.item(l),!0));break;case d:n=!0}if(n)for(var h=r.firstChild;h;)i.appendChild(e(t,h,n)),h=h.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==p&&e.nodeType==p?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===e)return n}t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(h,F),c(h,F.prototype),B.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==A){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return Q(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===f&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),V(this,e)},replaceChild:function(e,t){Q(this,e,t,J),e.ownerDocument=this,t&&this.removeChild(t),K(e)&&(this.documentElement=e)},importNode:function(e,t){return function e(t,r,n){var i;switch(r.nodeType){case f:(i=r.cloneNode(!1)).ownerDocument=t;case A:break;case d:n=!0}if(i||(i=r.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var s=r.firstChild;s;)i.appendChild(e(t,s,n)),s=s.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return q(this.documentElement,function(r){if(r.nodeType==f&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=u(e);return new R(this,function(r){var n=[];return t.length>0&&q(r.documentElement,function(i){if(i!==r&&i.nodeType===f){var s=i.getAttribute("class");if(s){var a=e===s;if(!a){var o=u(s);a=t.every(function(e){return o&&-1!==o.indexOf(e)})}a&&n.push(i)}}}),n})},createElement:function(e){var t=new Y;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new I,(t.attributes=new O)._ownerElement=t,t},createDocumentFragment:function(){var e=new eu;return e.ownerDocument=this,e.childNodes=new I,e},createTextNode:function(e){var t=new et;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new er;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new en;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new ec;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new Z;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new eo;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new Y,n=t.split(":"),i=r.attributes=new O;return r.childNodes=new I,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new Z,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},l(B,F),Y.prototype={nodeType:f,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===A?this.insertBefore(e,null):(e.parentNode&&e.parentNode.removeChild(e),e.parentNode=this,e.previousSibling=this.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:this.firstChild=e,this.lastChild=e,$(this.ownerDocument,this,e),e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new R(this,function(t){var r=[];return q(t,function(n){n!==t&&n.nodeType==f&&("*"===e||n.tagName==e)&&r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new R(this,function(r){var n=[];return q(r,function(i){i!==r&&i.nodeType===f&&("*"===e||i.namespaceURI===e)&&("*"===t||i.localName==t)&&n.push(i)}),n})}},B.prototype.getElementsByTagName=Y.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=Y.prototype.getElementsByTagNameNS,l(Y,F),Z.prototype.nodeType=d,l(Z,F),ee.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw Error(E[k])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},l(ee,F),et.prototype={nodeName:"#text",nodeType:p,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},l(et,ee),er.prototype={nodeName:"#comment",nodeType:w},l(er,ee),en.prototype={nodeName:"#cdata-section",nodeType:g},l(en,ee),ei.prototype.nodeType=_,l(ei,F),es.prototype.nodeType=x,l(es,F),ea.prototype.nodeType=m,l(ea,F),eo.prototype.nodeType=y,l(eo,F),eu.prototype.nodeName="#document-fragment",eu.prototype.nodeType=A,l(eu,F),ec.prototype.nodeType=v,l(ec,F),el.prototype.serializeToString=function(e,t,r){return eh.call(e,t,r)},F.prototype.toString=eh;try{Object.defineProperty&&(Object.defineProperty(R.prototype,"length",{get:function(){return C(this),this.$$length}}),Object.defineProperty(F.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case f:case A:var r=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case f:case A:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),eg=function(e,t,r){e["$$"+t]=r})}catch(e){}t.DocumentType=ei,t.DOMException=S,t.DOMImplementation=P,t.Element=Y,t.Node=F,t.NodeList=I,t.XMLSerializer=el},5473:(e,t,r)=>{"use strict";var n=r(7925).freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({Aacute:"\xc1",aacute:"\xe1",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"А",acy:"а",AElig:"\xc6",aelig:"\xe6",af:"⁡",Afr:"\uD835\uDD04",afr:"\uD835\uDD1E",Agrave:"\xc0",agrave:"\xe0",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"\xc5",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"\uD835\uDD38",aopf:"\uD835\uDD52",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"\xc5",aring:"\xe5",Ascr:"\uD835\uDC9C",ascr:"\uD835\uDCB6",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"\uD835\uDD05",bfr:"\uD835\uDD1F",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"\uD835\uDD39",bopf:"\uD835\uDD53",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"\xa6",Bscr:"ℬ",bscr:"\uD835\uDCB7",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"⦲",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"ℭ",cfr:"\uD835\uDD20",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"\xae",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"\uD835\uDD54",coprod:"∐",Coproduct:"∐",COPY:"\xa9",copy:"\xa9",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"\uD835\uDC9E",cscr:"\uD835\uDCB8",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"\xa4",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"\xb0",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"\uD835\uDD07",dfr:"\uD835\uDD21",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"\xb4",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"\xa8",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"\xf7",divide:"\xf7",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"\uD835\uDD3B",dopf:"\uD835\uDD55",Dot:"\xa8",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"\xa8",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"\uD835\uDC9F",dscr:"\uD835\uDCB9",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"\xc9",eacute:"\xe9",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"\xca",ecirc:"\xea",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"\uD835\uDD08",efr:"\uD835\uDD22",eg:"⪚",Egrave:"\xc8",egrave:"\xe8",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"\uD835\uDD3C",eopf:"\uD835\uDD56",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"\uD835\uDD09",ffr:"\uD835\uDD23",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"\uD835\uDD3D",fopf:"\uD835\uDD57",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"\xbd",frac13:"⅓",frac14:"\xbc",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"\xbe",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"\uD835\uDCBB",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"\uD835\uDD0A",gfr:"\uD835\uDD24",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"\uD835\uDD3E",gopf:"\uD835\uDD58",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"\uD835\uDCA2",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"\xbd",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"\uD835\uDD25",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"\uD835\uDD59",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"\uD835\uDCBD",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"\xcd",iacute:"\xed",ic:"⁣",Icirc:"\xce",icirc:"\xee",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"\xa1",iff:"⇔",Ifr:"ℑ",ifr:"\uD835\uDD26",Igrave:"\xcc",igrave:"\xec",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"\uD835\uDD40",iopf:"\uD835\uDD5A",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"\xbf",Iscr:"ℐ",iscr:"\uD835\uDCBE",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"\xcf",iuml:"\xef",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"\uD835\uDD0D",jfr:"\uD835\uDD27",jmath:"ȷ",Jopf:"\uD835\uDD41",jopf:"\uD835\uDD5B",Jscr:"\uD835\uDCA5",jscr:"\uD835\uDCBF",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"\uD835\uDD0E",kfr:"\uD835\uDD28",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"\uD835\uDD42",kopf:"\uD835\uDD5C",Kscr:"\uD835\uDCA6",kscr:"\uD835\uDCC0",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"\xab",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"\uD835\uDD0F",lfr:"\uD835\uDD29",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"\uD835\uDD43",lopf:"\uD835\uDD5D",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"\uD835\uDCC1",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"\xaf",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"\uD835\uDD10",mfr:"\uD835\uDD2A",mho:"℧",micro:"\xb5",mid:"∣",midast:"*",midcir:"⫰",middot:"\xb7",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"\uD835\uDD44",mopf:"\uD835\uDD5E",mp:"∓",Mscr:"ℳ",mscr:"\uD835\uDCC2",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:"\xa0",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"\uD835\uDD11",nfr:"\uD835\uDD2B",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:"\xa0",Nopf:"ℕ",nopf:"\uD835\uDD5F",Not:"⫬",not:"\xac",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"\uD835\uDCA9",nscr:"\uD835\uDCC3",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"\xd3",oacute:"\xf3",oast:"⊛",ocir:"⊚",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"\uD835\uDD12",ofr:"\uD835\uDD2C",ogon:"˛",Ograve:"\xd2",ograve:"\xf2",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"\uD835\uDD46",oopf:"\uD835\uDD60",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"\xaa",ordm:"\xba",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"\uD835\uDCAA",oscr:"ℴ",Oslash:"\xd8",oslash:"\xf8",osol:"⊘",Otilde:"\xd5",otilde:"\xf5",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"\xd6",ouml:"\xf6",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"\xb6",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"\uD835\uDD13",pfr:"\uD835\uDD2D",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"⨦",plustwo:"⨧",pm:"\xb1",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"\uD835\uDD61",pound:"\xa3",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"\uD835\uDCAB",pscr:"\uD835\uDCC5",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"\uD835\uDD14",qfr:"\uD835\uDD2E",qint:"⨌",Qopf:"ℚ",qopf:"\uD835\uDD62",qprime:"⁗",Qscr:"\uD835\uDCAC",qscr:"\uD835\uDCC6",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"\xbb",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"\xae",reg:"\xae",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"\uD835\uDD2F",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"\uD835\uDD63",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"\uD835\uDCC7",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"\xa7",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"\uD835\uDD16",sfr:"\uD835\uDD30",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"\xad",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"\uD835\uDD4A",sopf:"\uD835\uDD64",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"\uD835\uDCAE",sscr:"\uD835\uDCC8",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"\xaf",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"\xdf",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"\uD835\uDD17",tfr:"\uD835\uDD31",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"\xde",thorn:"\xfe",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"\xd7",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"\uD835\uDD4B",topf:"\uD835\uDD65",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"\uD835\uDCAF",tscr:"\uD835\uDCC9",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"\xda",uacute:"\xfa",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"\uD835\uDD18",ufr:"\uD835\uDD32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"\xa8",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"\uD835\uDD4C",uopf:"\uD835\uDD66",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"\uD835\uDCB0",uscr:"\uD835\uDCCA",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"\xdc",uuml:"\xfc",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"\uD835\uDD19",vfr:"\uD835\uDD33",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"\uD835\uDD4D",vopf:"\uD835\uDD67",vprop:"∝",vrtri:"⊳",Vscr:"\uD835\uDCB1",vscr:"\uD835\uDCCB",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"\uD835\uDD1A",wfr:"\uD835\uDD34",Wopf:"\uD835\uDD4E",wopf:"\uD835\uDD68",wp:"℘",wr:"≀",wreath:"≀",Wscr:"\uD835\uDCB2",wscr:"\uD835\uDCCC",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"\uD835\uDD1B",xfr:"\uD835\uDD35",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"\uD835\uDD4F",xopf:"\uD835\uDD69",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"\uD835\uDCB3",xscr:"\uD835\uDCCD",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"\xdd",yacute:"\xfd",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"\xa5",Yfr:"\uD835\uDD1C",yfr:"\uD835\uDD36",YIcy:"Ї",yicy:"ї",Yopf:"\uD835\uDD50",yopf:"\uD835\uDD6A",Yscr:"\uD835\uDCB4",yscr:"\uD835\uDCCE",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"\xff",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"\uD835\uDD37",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"\uD835\uDD6B",Zscr:"\uD835\uDCB5",zscr:"\uD835\uDCCF",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES},6002:(e,t,r)=>{var n=r(770);n.DOMImplementation,n.XMLSerializer,t.DOMParser=r(8962).DOMParser},6302:(e,t,r)=>{var n=r(7925).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,s=RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=RegExp("^"+i.source+s.source+"*(?::"+i.source+s.source+"*)?$");function o(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,o)}function u(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function l(e,t,r){for(var i=e.tagName,s=null,a=e.length;a--;){var o=e[a],u=o.qName,c=o.value,l=u.indexOf(":");if(l>0)var f=o.prefix=u.slice(0,l),d=u.slice(l+1),p="xmlns"===f&&d;else d=u,f=null,p="xmlns"===u&&"";o.localName=d,!1!==p&&(null==s&&(s={},h(r,r={})),r[p]=s[p]=c,o.uri=n.XMLNS,t.startPrefixMapping(p,c))}for(var a=e.length;a--;){var f=(o=e[a]).prefix;f&&("xml"===f&&(o.uri=n.XML),"xmlns"!==f&&(o.uri=r[f||""]))}var l=i.indexOf(":");l>0?(f=e.prefix=i.slice(0,l),d=e.localName=i.slice(l+1)):(f=null,d=e.localName=i);var g=e.uri=r[f||""];if(t.startElement(g,d,i,e),!e.closed)return e.currentNSMap=r,e.localNSMap=s,!0;if(t.endElement(g,d,i),s)for(f in s)Object.prototype.hasOwnProperty.call(s,f)&&t.endPrefixMapping(f)}function h(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function f(){this.attributeNames={}}o.prototype=Error(),o.prototype.name=o.name,u.prototype={parse:function(e,t,r){var i=this.domBuilder;i.startDocument(),h(t,t={}),function(e,t,r,i,s){function a(e){var t,n=e.slice(1,-1);return Object.hasOwnProperty.call(r,n)?r[n]:"#"!==n.charAt(0)?(s.error("entity not found:"+e),e):(t=parseInt(n.substr(1).replace("x","0x")))>65535?String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t)):String.fromCharCode(t)}function u(t){if(t>w){var r=e.substring(w,t).replace(/&#?\w+;/g,a);y&&h(w),i.characters(r,0,t-w),w=t}}function h(t,r){for(;t>=p&&(r=g.exec(e));)p=(d=r.index)+r[0].length,y.lineNumber++;y.columnNumber=t-d+1}for(var d=0,p=0,g=/.*(?:\r\n?|\n)|.*$/g,y=i.locator,m=[{currentNSMap:t}],v={},w=0;;){try{var b=e.indexOf("<",w);if(b<0){if(!e.substr(w).match(/^\s*$/)){var _=i.doc,A=_.createTextNode(e.substr(w));_.appendChild(A),i.currentElement=A}return}switch(b>w&&u(b),e.charAt(b+1)){case"/":var x=e.indexOf(">",b+3),T=e.substring(b+2,x).replace(/[ \t\n\r]+$/g,""),E=m.pop();x<0?(T=e.substring(b+2).replace(/[\s<].*/,""),s.error("end tag name: "+T+" is not complete:"+E.tagName),x=b+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),s.error("end tag name: "+T+" maybe not complete"),x=b+1+T.length);var k=E.localNSMap,N=E.tagName==T;if(N||E.tagName&&E.tagName.toLowerCase()==T.toLowerCase()){if(i.endElement(E.uri,E.localName,T),k)for(var D in k)Object.prototype.hasOwnProperty.call(k,D)&&i.endPrefixMapping(D);N||s.fatalError("end tag name: "+T+" is not match the current start tagName:"+E.tagName)}else m.push(E);x++;break;case"?":y&&h(b),x=function(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i)return i[0].length,r.processingInstruction(i[1],i[2]),n+2}return -1}(e,b,i);break;case"!":y&&h(b),x=function(e,t,r,n){if("-"===e.charAt(t+2)){if("-"===e.charAt(t+3)){var i=e.indexOf("--\x3e",t+4);if(i>t)return r.comment(e,t+4,i-t-4),i+3;n.error("Unclosed comment")}}else{if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var s=function(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}(e,t),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var o=s[1][0],u=!1,c=!1;a>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],c=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var l=s[a-1];return r.startDTD(o,u,c),r.endDTD(),l.index+l[0].length}}return -1}(e,b,i,s);break;default:y&&h(b);var S=new f,I=m[m.length-1].currentNSMap,x=function(e,t,r,i,s,a){function o(e,t,n){r.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),n)}for(var u,c,l=++t,h=0;;){var f=e.charAt(l);switch(f){case"=":if(1===h)u=e.slice(t,l),h=3;else if(2===h)h=3;else throw Error("attribute equal must after attrName");break;case"'":case'"':if(3===h||1===h){if(1===h&&(a.warning('attribute value must after "="'),u=e.slice(t,l)),t=l+1,(l=e.indexOf(f,t))>0)o(u,c=e.slice(t,l),t-1),h=5;else throw Error("attribute value no end '"+f+"' match")}else if(4==h)o(u,c=e.slice(t,l),t),a.warning('attribute "'+u+'" missed start quot('+f+")!!"),t=l+1,h=5;else throw Error('attribute value must after "="');break;case"/":switch(h){case 0:r.setTagName(e.slice(t,l));case 5:case 6:case 7:h=7,r.closed=!0;case 4:case 1:break;case 2:r.closed=!0;break;default:throw Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==h&&r.setTagName(e.slice(t,l)),l;case">":switch(h){case 0:r.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(c=e.slice(t,l)).slice(-1)&&(r.closed=!0,c=c.slice(0,-1));case 2:2===h&&(c=u),4==h?(a.warning('attribute "'+c+'" missed quot(")!'),o(u,c,t)):(n.isHTML(i[""])&&c.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),o(c,c,t));break;case 3:throw Error("attribute value missed!!")}return l;case"\x80":f=" ";default:if(f<=" ")switch(h){case 0:r.setTagName(e.slice(t,l)),h=6;break;case 1:u=e.slice(t,l),h=2;break;case 4:var c=e.slice(t,l);a.warning('attribute "'+c+'" missed quot(")!!'),o(u,c,t);case 5:h=6}else switch(h){case 2:r.tagName,n.isHTML(i[""])&&u.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),o(u,u,t),t=l,h=1;break;case 5:a.warning('attribute space is required"'+u+'"!!');case 6:h=1,t=l;break;case 3:h=4,t=l;break;case 7:throw Error("elements closed character '/' and '>' must be connected to")}}l++}}(e,b,S,I,a,s),R=S.length;if(!S.closed&&function(e,t,r,n){var i=n[r];return null==i&&((i=e.lastIndexOf("</"+r+">"))<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}(e,x,S.tagName,v)&&(S.closed=!0,r.nbsp||s.warning("unclosed xml attribute")),y&&R){for(var C=c(y,{}),O=0;O<R;O++){var U=S[O];h(U.offset),U.locator=c(y,{})}i.locator=C,l(S,i,I)&&m.push(S),i.locator=y}else l(S,i,I)&&m.push(S);n.isHTML(S.uri)&&!S.closed?x=function(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=e.indexOf("</"+r+">",t),a=e.substring(t+1,s);if(/[&<]/.test(a))return/^script$/i.test(r)||(a=a.replace(/&#?\w+;/g,n)),i.characters(a,0,a.length),s}return t+1}(e,x,S.tagName,a,i):x++}}catch(e){if(e instanceof o)throw e;s.error("element parse error: "+e),x=-1}x>w?w=x:u(Math.max(b,w)+1)}}(e,t,r,i,this.errorHandler),i.endDocument()}},f.prototype={setTagName:function(e){if(!a.test(e))throw Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!a.test(e))throw Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=u,t.ParseError=o},3836:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,s=u(e),a=s[0],o=s[1],c=new i((a+o)*3/4-o),l=0,h=o>0?a-4:a;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===o&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===o&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],a=0,o=n-i;a<o;a+=16383)s.push(function(e,t,n){for(var i,s=[],a=t;a<n;a+=3)s.push(r[(i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}(e,a,a+16383>o?o:a+16383));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)r[a]=s[a],n[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},5927:(e,t,r)=>{"use strict";let n=r(3836),i=r(4981),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),n=a(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(P(e,Uint8Array)){let t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(P(e,ArrayBuffer)||e&&P(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(P(e,SharedArrayBuffer)||e&&P(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);let i=function(e){var t;if(o.isBuffer(e)){let t=0|d(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),a(e<0?0:0|d(e))}function h(e){let t=e.length<0?0:0|d(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||P(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(i)return n?-1:U(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=F[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var s,a;return s=t,a=r,0===s&&a===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r=+r)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let s,a=1,o=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,o/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(s=r;s<o;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*a}else -1!==n&&(s-=s-n),n=-1}else for(r+u>o&&(r=o-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return -1}function w(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,o,u;switch(a){case 1:t<128&&(s=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(s=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(s=u);break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],(192&r)==128&&(192&n)==128&&(192&o)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o)>65535&&u<1114112&&(s=u)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function A(e,t,r,n,i){I(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function x(e,t,r,n,i){I(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function T(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,r,n,s){return t=+t,r>>>=0,s||T(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function k(e,t,r,n,s){return t=+t,r>>>=0,s||T(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.hp=o,t.IS=50,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(c(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return l(e)},o.allocUnsafeSlow=function(e){return l(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(P(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),P(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(P(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(o.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?w(this,0,e):g.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(P(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,a=r-t,u=Math.min(s,a),c=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<u;++e)if(c[e]!==l[e]){s=c[e],a=l[e];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){var i,s,a,o,u,c,l,h;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let d=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,s=r,L(U(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return a=t,o=r,L(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,o);case"base64":return u=t,c=r,L(j(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,h=r,L(function(e,t){let r,n;let i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,h);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=M(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&C(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=M(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&C(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=M(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&C(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),o.prototype.readBigInt64BE=M(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&C(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=M(function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=M(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=M(function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=M(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};let N={};function D(e,t,r){N[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function S(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function I(e,t,r,n,i,s){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=s>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new N.ERR_OUT_OF_RANGE("value",n,e)}R(i,"offset"),(void 0===n[i]||void 0===n[i+s])&&C(i,n.length-(s+1))}function R(e,t){if("number"!=typeof e)throw new N.ERR_INVALID_ARG_TYPE(t,"number",e)}function C(e,t,r){if(Math.floor(e)!==e)throw R(e,r),new N.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),D("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=S(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=S(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let O=/[^+/0-9A-Za-z-_]/g;function U(e,t){let r;t=t||1/0;let n=e.length,i=null,s=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function j(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function P(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let F=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function M(e){return"undefined"==typeof BigInt?q:e}function q(){throw Error("BigInt not supported")}},5647:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return h(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(i.blob)return this.blob().then(d);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,s=h(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=o(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[o(e)]},l.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},l.prototype.set=function(e,t){this.map[o(e)]=u(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},i.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var y=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function m(e,t){if(!(this instanceof m))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,s=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new l(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),y.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var a=/([?&])_=[^&]*/;a.test(this.url)?this.url=this.url.replace(a,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function w(e,t){if(!(this instanceof w))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},g.call(m.prototype),g.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var b=[301,302,303,307,308];w.redirect=function(e,t){if(-1===b.indexOf(t))throw RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,r){return new Promise(function(s,a){var c=new m(e,r);if(c.signal&&c.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function f(){h.abort()}if(h.onload=function(){var e,t,r={statusText:h.statusText,headers:(e=h.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===c.url.indexOf("file://")&&(h.status<200||h.status>599)?r.status=200:r.status=h.status,r.url="responseURL"in h?h.responseURL:r.headers.get("X-Request-URL");var n="response"in h?h.response:h.responseText;setTimeout(function(){s(new w(n,r))},0)},h.onerror=function(){setTimeout(function(){a(TypeError("Network request failed"))},0)},h.ontimeout=function(){setTimeout(function(){a(TypeError("Network request timed out"))},0)},h.onabort=function(){setTimeout(function(){a(new t.DOMException("Aborted","AbortError"))},0)},h.open(c.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?h.withCredentials=!0:"omit"===c.credentials&&(h.withCredentials=!1),"responseType"in h&&(i.blob?h.responseType="blob":i.arrayBuffer&&(h.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof l||n.Headers&&r.headers instanceof n.Headers)){var d=[];Object.getOwnPropertyNames(r.headers).forEach(function(e){d.push(o(e)),h.setRequestHeader(e,u(r.headers[e]))}),c.headers.forEach(function(e,t){-1===d.indexOf(t)&&h.setRequestHeader(t,e)})}else c.headers.forEach(function(e,t){h.setRequestHeader(t,e)});c.signal&&(c.signal.addEventListener("abort",f),h.onreadystatechange=function(){4===h.readyState&&c.signal.removeEventListener("abort",f)}),h.send(void 0===c._bodyInit?null:c._bodyInit)})}_.polyfill=!0,n.fetch||(n.fetch=_,n.Headers=l,n.Request=m,n.Response=w),t.Headers=l,t.Request=m,t.Response=w,t.fetch=_,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},429:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,n){var i;function s(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",s),r([].slice.call(arguments))}g(e,t,a,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&g(e,"error",s,i))})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){if(o(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var i,s,a,c=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,o=Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var u=s[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else for(var c=u.length,l=p(u,c),r=0;r<c;++r)n(l[r],this,t);return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,a;if(o(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},4981:(e,t)=>{t.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,u=(1<<o)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,s=d&(1<<-l)-1,d>>=-l,l+=o;l>0;s=256*s+e[t+h],h+=f,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=n;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===s)s=1-c;else{if(s===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),s-=c}return(d?-1:1)*a*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var a,o,u,c=8*s-i-1,l=(1<<c)-1,h=l>>1,f=23===i?5960464477539062e-23:0,d=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+h>=1?t+=f/u:t+=f*Math.pow(2,1-h),t*u>=2&&(a++,u/=2),a+h>=l?(o=0,a=l):a+h>=1?(o=(t*u-1)*Math.pow(2,i),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&o,d+=p,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*g}},6679:(e,t,r)=>{!function(){var t={452:function(e){"use strict";e.exports=r(6979)}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},a=!0;try{t[e](s,s.exports,i),a=!1}finally{a&&delete n[e]}return s.exports}i.ab="//";var s={};!function(){var e,t=(e=i(452))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function n(e){"string"==typeof e&&(e=m(e));var n,i,s,a,o,u,c,l,h,f=(i=(n=e).auth,s=n.hostname,a=n.protocol||"",o=n.pathname||"",u=n.hash||"",c=n.query||"",l=!1,i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",n.host?l=i+n.host:s&&(l=i+(~s.indexOf(":")?"["+s+"]":s),n.port&&(l+=":"+n.port)),c&&"object"==typeof c&&(c=t.encode(c)),h=n.search||c&&"?"+c||"",a&&":"!==a.substr(-1)&&(a+=":"),n.slashes||(!a||r.test(a))&&!1!==l?(l="//"+(l||""),o&&"/"!==o[0]&&(o="/"+o)):l||(l=""),u&&"#"!==u[0]&&(u="#"+u),h&&"?"!==h[0]&&(h="?"+h),{protocol:a,host:l,pathname:o=o.replace(/[?#]/g,encodeURIComponent),search:h=h.replace("#","%23"),hash:u});return""+f.protocol+f.host+f.pathname+f.search+f.hash}var a="http://",o=a+"w.w",u=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,c=/https?|ftp|gopher|file/;function l(e,t){var r="string"==typeof e?m(e):e;e="object"==typeof e?n(e):e;var i=m(t),s="";r.protocol&&!r.slashes&&(s=r.protocol,e=e.replace(r.protocol,""),s+="/"===t[0]||"/"===e[0]?"/":""),s&&i.protocol&&(s="",i.slashes||(s=i.protocol,t=t.replace(i.protocol,"")));var l=e.match(u);l&&!i.protocol&&(e=e.substr((s=l[1]+(l[2]||"")).length),/^\/\/[^/]/.test(t)&&(s=s.slice(0,-1)));var h=new URL(e,o+"/"),f=new URL(t,h).toString().replace(o,""),d=i.protocol||r.protocol;return d+=r.slashes||i.slashes?"//":"",!s&&d?f=f.replace(a,d):s&&(f=f.replace(a,"")),c.test(f)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==f.slice(-1)||(f=f.slice(0,-1)),s&&(f=s+("/"===f[0]?f.substr(1):f)),f}function h(){}h.prototype.parse=m,h.prototype.format=n,h.prototype.resolve=l,h.prototype.resolveObject=l;var f=/^https?|ftp|gopher|file/,d=/^(.*?)([#?].*)/,p=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,y=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function m(e,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!1),e&&"object"==typeof e&&e instanceof h)return e;var s=(e=e.trim()).match(d);e=s?s[1].replace(/\\/g,"/")+s[2]:e.replace(/\\/g,"/"),y.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(p),u=g.test(e),c="";a&&(f.test(a[1])||(c=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(u=!1,f.test(a[1])?(c=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(c=a[1],e="/"+a[3]));var l,m=(s?s[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),v=m&&m[1],w=new h,b="",_="";try{l=new URL(e)}catch(t){b=t,c||i||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(_="/",e=e.substr(1));try{l=new URL(e,o)}catch(e){return w.protocol=c,w.href=c,w}}w.slashes=u&&!_,w.host="w.w"===l.host?"":l.host,w.hostname="w.w"===l.hostname?"":l.hostname.replace(/(\[|\])/g,""),w.protocol=b?c||null:l.protocol,w.search=l.search.replace(/\\/g,"%5C"),w.hash=l.hash.replace(/\\/g,"%5C");var A=e.split("#");!w.search&&~A[0].indexOf("?")&&(w.search="?"),w.hash||""!==A[1]||(w.hash="#"),w.query=r?t.decode(l.search.substr(1)):w.search.substr(1),w.pathname=_+(a?l.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):l.pathname),"about:"===w.protocol&&"blank"===w.pathname&&(w.protocol="",w.pathname=""),b&&"/"!==e[0]&&(w.pathname=w.pathname.substr(1)),c&&!f.test(c)&&"/"!==e.slice(-1)&&"/"===w.pathname&&(w.pathname=""),w.path=w.pathname+w.search,w.auth=[l.username,l.password].map(decodeURIComponent).filter(Boolean).join(":"),w.port=l.port,v&&!w.host.endsWith(v)&&(w.host+=v,w.port=v.slice(1)),w.href=_?""+w.pathname+w.search+w.hash:n(w);var x=/^(file)/.test(w.href)?["host","hostname"]:[];return Object.keys(w).forEach(function(e){~x.indexOf(e)||(w[e]=w[e]||null)}),w}s.parse=m,s.format=n,s.resolve=l,s.resolveObject=function(e,t){return m(l(e,t))},s.Url=h}(),e.exports=s}()},6979:e=>{!function(){"use strict";var t={815:function(e){e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(r);var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var u=e.length;o>0&&u>o&&(u=o);for(var c=0;c<u;++c){var l,h,f,d,p=e[c].replace(a,"%20"),g=p.indexOf(n);(g>=0?(l=p.substr(0,g),h=p.substr(g+1)):(l=p,h=""),f=decodeURIComponent(l),d=decodeURIComponent(h),Object.prototype.hasOwnProperty.call(s,f))?t(s[f])?s[f].push(d):s[f]=[s[f],d]:s[f]=d}return s};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,s,a,o){return(s=s||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e)?n(i(e),function(i){var o=encodeURIComponent(t(i))+a;return r(e[i])?n(e[i],function(e){return o+encodeURIComponent(t(e))}).join(s):o+encodeURIComponent(t(e[i]))}).join(s):o?encodeURIComponent(t(o))+a+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}},a=!0;try{t[e](s,s.exports,n),a=!1}finally{a&&delete r[e]}return s.exports}n.ab="//";var i={};i.decode=i.parse=n(815),i.encode=i.stringify=n(577),e.exports=i}()},4354:(e,t,r)=>{let n;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:r.g):e=>(n||(n=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))},1407:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(5514),i=r(8566),s=r(9608),a=r(1701),o=r(5965),u=r(1568),c=r(879),l=r(4480),h=r(8663);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var d=function(e){function t(e){var r,i,o;return(0,n.A)(this,t),i=t,o=[t.getId(e)],i=(0,a.A)(i),r=(0,s.A)(this,f()?Reflect.construct(i,o||[],(0,a.A)(this).constructor):i.apply(this,o)),(0,u.A)(r,"termType",h.$Q),(0,u.A)(r,"classOrder",c.A.BlankNode),(0,u.A)(r,"isBlank",1),(0,u.A)(r,"isVar",1),r}return(0,o.A)(t,e),(0,i.A)(t,[{key:"id",get:function(){return this.value},set:function(e){this.value=e}},{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0}},{key:"copy",value:function(e){var r=new t;return e.copyTo(this,r),r}},{key:"toCanonical",value:function(){return t.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return t.NTAnonymousNodePrefix+this.id}}],[{key:"getId",value:function(e){if(e){if("string"!=typeof e)throw Error("Bad id argument to new blank node: "+e);if(e.includes("#")){var r=e.split("#");return r[r.length-1]}return e}return"n"+t.nextId++}}])}(l.A);(0,u.A)(d,"nextId",0),(0,u.A)(d,"NTAnonymousNodePrefix","_:")},879:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7}},1454:(e,t,r)=>{"use strict";r.d(t,{A:()=>m,Y:()=>y});var n=r(5514),i=r(8566),s=r(9608),a=r(1701),o=r(5965),u=r(1568),c=r(1407),l=r(879),h=r(538),f=r(4480),d=r(8663),p=r(4523);function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function y(e){return null==e||(0,p.D0)(e)?e:Array.isArray(e)?new m(e):h.A.fromValue(e)}var m=function(e){function t(e){var r,i,o;return(0,n.A)(this,t),i=t,o=[(c.A.nextId++).toString()],i=(0,a.A)(i),r=(0,s.A)(this,g()?Reflect.construct(i,o||[],(0,a.A)(this).constructor):i.apply(this,o)),(0,u.A)(r,"termType",d.r0),(0,u.A)(r,"classOrder",l.A.Collection),(0,u.A)(r,"closed",!1),(0,u.A)(r,"compareTerm",c.A.prototype.compareTerm),(0,u.A)(r,"elements",[]),(0,u.A)(r,"isVar",0),e&&e.length>0&&e.forEach(function(e){r.elements.push(y(e))}),r}return(0,o.A)(t,e),(0,i.A)(t,[{key:"id",get:function(){return this.value},set:function(e){this.value=e}},{key:"append",value:function(e){return this.elements.push(e)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(e){return new t(this.elements.map(function(t){return t.substitute(e)}))}},{key:"toNT",value:function(){return t.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(e){return this.elements.unshift(e)}}],[{key:"toNT",value:function(e){return c.A.NTAnonymousNodePrefix+e.id}}])}(f.A);(0,u.A)(m,"termType",d.r0)},5750:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,U:()=>p});var n=r(5514),i=r(8566),s=r(9608),a=r(1701),o=r(5965),u=r(1568),c=r(4480),l=r(8663),h=r(2523);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var d=function(e){function t(){var e,r,i;return(0,n.A)(this,t),r=t,i=[""],r=(0,a.A)(r),e=(0,s.A)(this,f()?Reflect.construct(r,i||[],(0,a.A)(this).constructor):r.apply(this,i)),(0,u.A)(e,"value",""),(0,u.A)(e,"termType",l.ic),(0,u.A)(e,"uri",h.U),e}return(0,o.A)(t,e),(0,i.A)(t,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}])}(c.A);function p(e){return!!e&&e.termType===l.ic}},1555:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(1568),i=r(1407),s=r(538),a=r(2598),o=r(7059),u=r(7034),c=r(8663),l=r(5750),h=r(3721),f=r(4523),d=new l.A;let p={supports:(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},h.X.collections,!1),h.X.defaultGraphType,!1),h.X.equalsMethod,!0),h.X.identity,!1),h.X.id,!0),h.X.reversibleId,!1),h.X.variableType,!0),blankNode:function(e){return new i.A(e)},defaultGraph:function(){return d},equals:function(e,t){return e===t||!e||!t||((0,f.aF)(e)||(0,f.aF)(t)?!!((0,f.aF)(e)&&(0,f.aF)(t))&&this.equals(e.subject,t.subject)&&this.equals(e.predicate,t.predicate)&&this.equals(e.object,t.object)&&this.equals(e.graph,t.graph):!!((0,f.D0)(e)&&(0,f.D0)(t))&&this.id(e)===this.id(t))},id:function(e){if(!e)return"undefined";if((0,f.aF)(e))return this.quadToNQ(e);switch(e.termType){case c.ic:return"defaultGraph";case c.P2:return u.A.toString(e);default:var t=this.termToNQ(e);if(t)return t;throw Error("Can't id term with type '".concat(e.termType,"'"))}},isQuad:function(e){return e instanceof o.A},literal:function(e,t){if("string"!=typeof e&&!t)return s.A.fromValue(e);var r="string"==typeof e?e:""+e;return"string"!=typeof t?new s.A(r,null,t):-1===t.indexOf(":")?new s.A(r,t):new s.A(r,null,this.namedNode(t))},namedNode:function(e){return new a.A(e)},quad:function(e,t,r,n){return new o.A(e,t,r,n||d)},triple:function(e,t,r,n){return this.quad(e,t,r,n)},quadToNQ:function(e){return"".concat(this.termToNQ(e.subject)," ").concat(this.termToNQ(e.predicate)," ").concat(this.termToNQ(e.object)," ").concat(this.termToNQ(e.graph)," .")},termToNQ:function(e){var t=this;switch(e.termType){case c.$Q:return"_:"+e.value;case c.ic:return"";case c.S:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case c.QW:return s.A.toNT(e);case c.bD:case c.Kk:return"<"+e.value+">";case c.r0:return"("+e.elements.map(function(e){return t.termToNQ(e)}).join(" ")+")";default:throw Error("Can't serialize nonstandard term type (was '".concat(e.termType,"')"))}},toNQ:function(e){return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)},variable:function(e){return new u.A(e)}}},6130:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(1568),i=r(1454),s=r(1555),a=r(8663),o=r(3721),u=r(4523),c=r(7034);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let f=h(h({},s.A),{},{supports:(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},o.X.collections,!0),o.X.defaultGraphType,!1),o.X.equalsMethod,!0),o.X.identity,!1),o.X.id,!0),o.X.reversibleId,!1),o.X.variableType,!0),collection:function(e){return new i.A(e)},id:function(e){var t=this;return(0,u.P3)(e)?"( ".concat(e.elements.map(function(e){return t.id(e)}).join(", ")," )"):(0,u.DZ)(e)?c.A.toString(e):s.A.id(e)},termToNQ:function(e){return e.termType===a.r0?i.A.toNT(e):s.A.termToNQ(e)}})},3721:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var n=function(e){return e.collections="COLLECTIONS",e.defaultGraphType="DEFAULT_GRAPH_TYPE",e.equalsMethod="EQUALS_METHOD",e.id="ID",e.identity="IDENTITY",e.reversibleId="REVERSIBLE_ID",e.variableType="VARIABLE_TYPE",e}({})},8841:(e,t,r)=>{"use strict";let n;r.d(t,{A:()=>tr});var i=r(1760),s=r(9608),a=r(1701),o=r(5965),u=r(8566),c=r(5514),l=r(1568),h=r(5283),f=r.n(h),d=r(2778),p=r(4488),g=r(1855),y=r(6416),m=r(1779),v=r(1454),w=r(7059),b=r(6105);function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return A(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var x=(0,b.A)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),T={encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):(n>127&&n<2048?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t}},E="http://www.w3.org/2000/10/swap/log#",k=function(e){return e},N=function(e){return e},D=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},S=function(e){return e.length},I=function(e,t,r){if(void 0===e.slice)throw"@@ mising.js: No .slice function for "+e+" of type "+(0,g.A)(e);return void 0===r||null==r?e.slice(t):e.slice(t,r)},R=Error("dummy error stop iteration"),C=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw R;return this.li[this.last++]},this},O=function(e,t){return e.indexOf(t)},U=function(e,t){if(!e){if(t)throw"python Assertion failed: "+t;throw"(python) Assertion failed."}};String.prototype.encode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return T.encode(this)},String.prototype.decode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return this};var j=function(e,t){return y.fj(t,e)},L=function(e){},P="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",F="http://www.w3.org/2002/07/owl#sameAs",M="	\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",q=M+":",B=RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g"),H=RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),$=RegExp('[\\\\\\r\\n\\"]',"g"),V=RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");let z=function(e,t,r,n,i,s,a,o){return new K(e,t,r,n,i,s,a,o)};var K=(0,u.A)(function e(t,r,n,i,s,a,o,u){(0,c.A)(this,e),void 0===r&&(r=null),void 0===n&&(n=""),void 0===i&&(i=null),void 0===s&&(s=""),void 0===a&&(a=null),void 0===o&&(o=""),void 0===u&&(u=null),this._bindings=new D([]),this._flags=o,""!=n&&(U(n.indexOf(":")>=0,"Document URI not absolute: "+n),this._bindings[""]=n+"#"),this._store=t,s&&t.setGenPrefix(s),this._thisDoc=n,this.source=t.sym(n),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=s,this.keywords=new N(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new D([]),this._variables=new D([]),this._parentVariables=new D([]),this._reason=u,this._reason2=null,i?this._baseURI=i:n?this._baseURI=n:this._baseURI=null,U(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),null==r?this._thisDoc?this._formula=t.formula(n+"#_formula"):this._formula=t.formula():this._formula=r,this._context=this._formula,this._parentContext=null},[{key:"here",value:function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)}},{key:"formula",value:function(){return this._formula}},{key:"loadStream",value:function(e){return this.loadBuf(e.read())}},{key:"loadBuf",value:function(e){return this.startDoc(),this.feed(e),this.endDoc()}},{key:"feed",value:function(e){for(var t=e.decode("utf-8"),r=0;r>=0;){var n=this.skipSpace(t,r);if(n<0)return;var r=this.directiveOrStatement(t,n);if(r<0)throw X(this._thisDoc,this.lines,t,n,"expected directive or statement")}}},{key:"directiveOrStatement",value:function(e,t){var r=this.skipSpace(e,t);if(r<0)return r;var n=this.directive(e,r);if(n>=0)return this.checkDot(e,n);var n=this.statement(e,r);return n>=0?this.checkDot(e,n):n}},{key:"tok",value:function(e,t,r){if("@"==t.slice(r,r+1))var r=r+1;else if(0>(0,m.Do)(this.keywords,e))return -1;var n=r+S(e);return t.slice(r,n)==e&&M.indexOf(t.charAt(n))>=0?n:-1}},{key:"directive",value:function(e,t){var r=this.skipSpace(e,t);if(r<0)return r;var n=new N([]),r=this.tok("bind",e,t);if(r>0)throw X(this._thisDoc,this.lines,e,t,"keyword bind is obsolete: use @prefix");var r=this.tok("keywords",e,t);if(r>0){var t=this.commaSeparatedList(e,r,n,!1);if(t<0)throw X(this._thisDoc,this.lines,e,t,"'@keywords' needs comma separated list of words");return this.setKeywords(I(n,null,null)),t}var r=this.tok("forAll",e,t);if(r>0){var t=this.commaSeparatedList(e,r,n,!0);if(t<0)throw X(this._thisDoc,this.lines,e,t,"Bad variable list after @forAll");var i=new C(n);try{for(;;){var s=i.next();(0>(0,m.Do)(this._variables,s)||(0,m.Do)(this._parentVariables,s)>=0)&&(this._variables[s]=this._context.newUniversal(s))}}catch(e){if(e!=R)throw e}return t}var r=this.tok("forSome",e,t);if(r>0){var t=this.commaSeparatedList(e,r,n,this.uri_ref2);if(t<0)throw X(this._thisDoc,this.lines,e,t,"Bad variable list after @forSome");var i=new C(n);try{for(;;){var s=i.next();this._context.declareExistential(s)}}catch(e){if(e!=R)throw e}return t}var r=this.tok("prefix",e,t);if(r>=0){var a=new N([]),t=this.qname(e,r,a);if(t<0)throw X(this._thisDoc,this.lines,e,r,"expected qname after @prefix");var r=this.uri_ref2(e,t,a);if(r<0)throw X(this._thisDoc,this.lines,e,t,"expected <uriref> after @prefix _qname_");var o=a[1].uri;if(this._baseURI)var o=j(this._baseURI,o);else U(o.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return U(o.indexOf(":")>=0),this._bindings[a[0][0]]=o,this.bind(a[0][0],encodeURI(o)),r}var r=this.tok("base",e,t);if(r>=0){var a=new N([]),t=this.uri_ref2(e,r,a);if(t<0)throw X(this._thisDoc,this.lines,e,r,"expected <uri> after @base ");var o=a[0].uri;if(this._baseURI)var o=j(this._baseURI,o);else throw X(this._thisDoc,this.lines,e,r,"With no previous base URI, cannot use relative URI in @base  <"+o+">");return U(o.indexOf(":")>=0),this._baseURI=o,t}return -1}},{key:"bind",value:function(e,t){""==e||this._store.setPrefixForURI(e,t)}},{key:"setKeywords",value:function(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)}},{key:"startDoc",value:function(){}},{key:"endDoc",value:function(){if(this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS){var e,t;!function(e,t){var r,n=x("nil"),i=_(e.statementsMatching(n,null,null,t));try{for(i.s();!(r=i.n()).done;){var s=r.value;e.remove(s);var a=new v.A;e.add(new w.A(a,s.predicate,s.object,t))}}catch(e){i.e(e)}finally{i.f()}var o,u=_(e.statementsMatching(null,null,n,t));try{for(u.s();!(o=u.n()).done;){var c=o.value;if(!c.predicate.sameTerm(x("rest"))){e.remove(c);var l=new v.A;e.add(new w.A(c.subject,c.predicate,l,t))}}}catch(e){u.e(e)}finally{u.f()}}(e=this._store,t=this.source),e.statementsMatching(null,x("rest"),x("nil"),t).forEach(function(r){if("BlankNode"!==r.subject.termType)throw Error("Bad list element node ".concat(r.subject," type: ").concat(r.subject.termType," "));!function r(n,i,s){var a=e.statementsMatching(n,x("rest"),null,t);if(1!==a.length)throw Error("Bad list structure: no rest at ".concat(n));var o=e.statementsMatching(n,x("first"),null,t);if(1!==o.length)throw Error("Bad list structure: rest but ".concat(o.length," firsts at ").concat(n));var u=[o[0].object].concat(i),c=s.concat(a).concat(o),l=e.statementsMatching(null,x("rest"),n,t);if(0===l.length){var h=new v.A(u);e.remove(c),function(e,t,r,n){var i,s=_(e.statementsMatching(r,null,null,n));try{for(s.s();!(i=s.n()).done;){var a=i.value,o=new w.A(t,a.predicate,a.object,n);e.remove(a),e.add(o)}}catch(e){s.e(e)}finally{s.f()}var u,c=_(e.statementsMatching(null,r,null,n));try{for(c.s();!(u=c.n()).done;){var l=u.value;e.remove(l),e.add(new w.A(l.subject,t,l.object,n))}}catch(e){c.e(e)}finally{c.f()}var h,f=_(e.statementsMatching(null,null,r,n));try{for(f.s();!(h=f.n()).done;){var d=h.value;e.remove(d),e.add(new w.A(d.subject,d.predicate,t,n))}}catch(e){f.e(e)}finally{f.f()}}(e,h,n,t);return}if(1!==l.length)throw Error("Bad list structure: ".concat(l.length," pres at ").concat(n));var f=l[0].subject;if("BlankNode"!==f.termType)throw Error("Bad list element node ".concat(f," type: ").concat(f.termType," "));r(f,u,c)}(r.subject,[],[])})}return this._formula}},{key:"makeStatement",value:function(e){e[0].add(e[2],e[1],e[3],this.source),(e[2].uri&&e[2].uri===P||e[3].uri&&e[3].uri===P)&&(this.hasNil=!0),this.statementCount+=1}},{key:"statement",value:function(e,t){var r=new N([]),t=this.object(e,t,r);if(t<0)return t;var n=this.property_list(e,t,r[0]);if(n<0)throw X(this._thisDoc,this.lines,e,t,"expected propertylist");return n}},{key:"subject",value:function(e,t,r){return this.item(e,t,r)}},{key:"verb",value:function(e,t,r){var n=this.skipSpace(e,t);if(n<0)return n;var i=new N([]),n=this.tok("has",e,t);if(n>=0){var t=this.prop(e,n,i);if(t<0)throw X(this._thisDoc,this.lines,e,n,"expected property after 'has'");return r.push(new k(["->",i[0]])),t}var n=this.tok("is",e,t);if(n>=0){var t=this.prop(e,n,i);if(t<0)throw X(this._thisDoc,this.lines,e,n,"expected <property> after 'is'");var n=this.skipSpace(e,t);if(n<0)throw X(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");var t=n,n=this.tok("of",e,t);if(n<0)throw X(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return r.push(new k(["<-",i[0]])),n}var n=this.tok("a",e,t);if(n>=0)return r.push(new k(["->",this._store.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")])),n;if("<="==e.slice(t,t+2))return r.push(new k(["<-",this._store.sym(E+"implies")])),t+2;if("="==e.slice(t,t+1))return">"==e.slice(t+1,t+2)?(r.push(new k(["->",this._store.sym(E+"implies")])),t+2):(r.push(new k(["->",this._store.sym(F)])),t+1);if(":="==e.slice(t,t+2))return r.push(new k(["->",E+"becomes"])),t+2;var n=this.prop(e,t,i);if(n>=0)return r.push(new k(["->",i[0]])),n;if(">-"==e.slice(t,t+2)||"<-"==e.slice(t,t+2))throw X(this._thisDoc,this.lines,e,n,">- ... -> syntax is obsolete.");return -1}},{key:"prop",value:function(e,t,r){return this.item(e,t,r)}},{key:"item",value:function(e,t,r){return this.path(e,t,r)}},{key:"blankNode",value:function(e){return this._context.bnode(e,this._reason2)}},{key:"path",value:function(e,t,r){var n=this.nodeOrLiteral(e,t,r);if(n<0)return n;for(;"!^.".indexOf(e.slice(n,n+1))>=0;){var i=e.slice(n,n+1);if("."==i){var s=e.slice(n+1,n+2);if(!s||q.indexOf(s)>=0&&0>":?<[{(".indexOf(s))break}var a=r.pop(),o=this.blankNode(this.here(n)),n=this.node(e,n+1,r);if(n<0)throw X(this._thisDoc,this.lines,e,n,"EOF found in middle of path syntax");var u=r.pop();"^"==i?this.makeStatement(new k([this._context,u,o,a])):this.makeStatement(new k([this._context,u,a,o])),r.push(o)}return n}},{key:"anonymousNode",value:function(e){var t=this._anonymousNodes[e];if(t)return t;var t=this._store.bnode(e);return this._anonymousNodes[e]=t,t}},{key:"node",value:function(e,t,r,n){void 0===n&&(n=null);var i=n,s=this.skipSpace(e,t);if(s<0)return s;var t=s,a=e.slice(t,t+1);if("["==a){var o=this.here(t),s=this.skipSpace(e,t+1);if(s<0)throw X(this._thisDoc,this.lines,e,t,"EOF after '['");if("="==e.slice(s,s+1)){var t=s+1,u=new N([]),s=this.objectList(e,t,u);if(s>=0){var i=u[0];if(S(u)>1){var c=new C(u);try{for(;;){var l=c.next();this.makeStatement(new k([this._context,this._store.sym(F),i,l]))}}catch(e){if(e!=R)throw e}}var s=this.skipSpace(e,s);if(s<0)throw X(this._thisDoc,this.lines,e,t,"EOF when objectList expected after [ = ");if(";"==e.slice(s,s+1))var s=s+1}else throw X(this._thisDoc,this.lines,e,t,"objectList expected after [= ")}if(null==i)var i=this.blankNode(o);var t=this.property_list(e,s,i);if(t<0)throw X(this._thisDoc,this.lines,e,s,"property_list expected");var s=this.skipSpace(e,t);if(s<0)throw X(this._thisDoc,this.lines,e,t,"EOF when ']' expected after [ <propertyList>");if("]"!=e.slice(s,s+1))throw X(this._thisDoc,this.lines,e,s,"']' expected");return r.push(i),s+1}if("{"==a){var h=e.slice(t+1,t+2);if("$"==h){for(var s=(t+=1)+1,f=new N([]),d=!0;;){var t=this.skipSpace(e,s);if(t<0)throw X(this._thisDoc,this.lines,e,t,"needed '$}', found end.");if("$}"==e.slice(t,t+2)){var s=t+2;break}if(d)var d=!1;else if(","==e.slice(t,t+1))t+=1;else throw X(this._thisDoc,this.lines,e,t,"expected: ','");var p=new N([]),s=this.item(e,t,p);if(s<0)throw X(this._thisDoc,this.lines,e,t,"expected item in set or '$}'");f.push(p[0])}return r.push(this._store.newSet(f,this._context)),s}var s=t+1,g=this._parentContext;this._parentContext=this._context;var y=this._anonymousNodes,m=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new D([]),this._variables=this._variables.slice();var v=this._reason2;if(this._reason2=null,null==i)var i=this._store.formula();for(this._context=i;;){var t=this.skipSpace(e,s);if(t<0)throw X(this._thisDoc,this.lines,e,t,"needed '}', found end.");if("}"==e.slice(t,t+1)){var s=t+1;break}var s=this.directiveOrStatement(e,t);if(s<0)throw X(this._thisDoc,this.lines,e,t,"expected statement or '}'")}return this._anonymousNodes=y,this._variables=this._parentVariables,this._parentVariables=m,this._context=this._parentContext,this._reason2=v,this._parentContext=g,r.push(i.close()),s}if("("==a){var w=this._store.list,h=e.slice(t+1,t+2);if("$"==h){var w=this._store.newSet;t+=1}for(var s=t+1,f=new N([]);;){var t=this.skipSpace(e,s);if(t<0)throw X(this._thisDoc,this.lines,e,t,"needed ')', found end.");if(")"==e.slice(t,t+1)){var s=t+1;break}var p=new N([]),s=this.item(e,t,p);if(s<0)throw X(this._thisDoc,this.lines,e,t,"expected item in list or ')'");f.push(p[0])}return r.push(w(f,this._context)),s}var s=this.tok("this",e,t);if(s>=0)throw X(this._thisDoc,this.lines,e,t,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");var s=this.tok("true",e,t);if(s>=0)return r.push(!0),s;var s=this.tok("false",e,t);if(s>=0)return r.push(!1),s;if(null==i){var s=this.uri_ref2(e,t,r);if(s>=0)return s}return -1}},{key:"property_list",value:function(e,t,r){for(;;){var n=this.skipSpace(e,t);if(n<0)throw X(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(":-"==e.slice(n,n+2)){var t=n+2,i=new N([]),n=this.node(e,t,i,r);if(n<0)throw X(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=n;continue}var t=n,s=new N([]),n=this.verb(e,t,s);if(n<=0)return t;var a=new N([]),t=this.objectList(e,n,a);if(t<0)throw X(this._thisDoc,this.lines,e,n,"objectList expected");var o=new C(a);try{for(;;){var u=o.next(),c=s[0],l=c[0],h=c[1];"->"==l?this.makeStatement(new k([this._context,h,r,u])):this.makeStatement(new k([this._context,h,u,r]))}}catch(e){if(e!=R)throw e}var n=this.skipSpace(e,t);if(n<0)throw X(this._thisDoc,this.lines,e,n,"EOF found in list of objects");if(";"!=e.slice(t,t+1))return t;var t=t+1}}},{key:"commaSeparatedList",value:function(e,t,r,n){var i=this.skipSpace(e,t);if(i<0)throw X(this._thisDoc,this.lines,e,i,"EOF found expecting comma sep list");if("."==e.charAt(i))return t;if(n)var i=this.uri_ref2(e,i,r);else var i=this.bareWord(e,i,r);if(i<0)return -1;for(;;){var t=this.skipSpace(e,i);if(t<0)return t;var s=e.slice(t,t+1);if(","!=s){if("."!=s)return -1;return t}if(n)var i=this.uri_ref2(e,t+1,r);else var i=this.bareWord(e,t+1,r);if(i<0)throw X(this._thisDoc,this.lines,e,i,"bad list content")}}},{key:"objectList",value:function(e,t,r){var t=this.object(e,t,r);if(t<0)return -1;for(;;){var n=this.skipSpace(e,t);if(n<0)throw X(this._thisDoc,this.lines,e,n,"EOF found after object");if(","!=e.slice(n,n+1))return n;var t=this.object(e,n+1,r);if(t<0)return t}}},{key:"checkDot",value:function(e,t){var r=this.skipSpace(e,t);if(r<0)return r;if("."==e.slice(r,r+1))return r+1;if("}"==e.slice(r,r+1)||"]"==e.slice(r,r+1))return r;throw X(this._thisDoc,this.lines,e,r,"expected '.' or '}' or ']' at end of statement")}},{key:"uri_ref2",value:function(e,t,r){var n=new N([]),i=this.qname(e,t,n);if(i>=0){var s=n[0],a=s[0],o=s[1];if(null==a){U(0,"not used?");var u=this._baseURI+"#"}else{var u=this._bindings[a];if(!u){if("_"==a)return r.push(this.anonymousNode(o)),i;throw X(this._thisDoc,this.lines,e,t,"Prefix "+a+" not bound.")}}var c=this._store.sym(u+o);return(0,m.Do)(this._variables,c)>=0?r.push(this._variables[c]):r.push(c),i}var t=this.skipSpace(e,t);if(t<0)return -1;if("?"==e.charAt(t)){var l=new N([]),i=this.variable(e,t,l);return i>0?(r.push(l[0]),i):-1}if("<"==e.charAt(t)){for(var t=t+1,h=t;t<S(e);){if(">"==e.charAt(t)){var f=e.slice(h,t);if(this._baseURI)var f=j(this._baseURI,f);else U(f.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if("#"==e.slice(t-1,t)&&"#"!=I(f,-1,null))var f=f+"#";var c=this._store.sym(f);return(0,m.Do)(this._variables,c)>=0?r.push(this._variables[c]):r.push(c),t+1}var t=t+1}throw X(this._thisDoc,this.lines,e,i,"unterminated URI reference")}if(!this.keywordsSet)return -1;var l=new N([]),i=this.bareWord(e,t,l);if(i<0)return -1;if((0,m.Do)(this.keywords,l[0])>=0)throw X(this._thisDoc,this.lines,e,t,'Keyword "'+l[0]+'" not allowed here.');return r.push(this._store.sym(this._bindings[""]+l[0])),i}},{key:"skipSpace",value:function(e,t){for(var r=t||0;r<e.length;r++){var n=e.charAt(r);if(0>" \n\r	\f\v\xa0           ​\u2028\u2029　".indexOf(n)){if("#"!==e.charAt(r))return r;for(;;r++){if(r===e.length)return -1;if("\n"===e.charAt(r)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(r)&&(this.lines=this.lines+1)}return -1}},{key:"variable",value:function(e,t,r){var n=this.skipSpace(e,t);if(n<0||"?"!=e.slice(n,n+1))return -1;var n=n+1,t=n;if("0123456789-".indexOf(e.charAt(n))>=0)throw X(this._thisDoc,this.lines,e,n,"Varible name can't start with '"+e.charAt(n)+"s'");for(;t<S(e)&&0>q.indexOf(e.charAt(t));)var t=t+1;if(null==this._parentContext)throw X(this._thisDoc,this.lines,e,n,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(n-1,t));return r.push(this._store.variable(e.slice(n,t))),t}},{key:"bareWord",value:function(e,t,r){var n=this.skipSpace(e,t);if(n<0)return -1;var i=e.charAt(n);if("0123456789-".indexOf(i)>=0||q.indexOf(i)>=0)return -1;for(var t=n;t<S(e)&&0>q.indexOf(e.charAt(t));)var t=t+1;return r.push(e.slice(n,t)),t}},{key:"qname",value:function(e,t,r){var t=this.skipSpace(e,t);if(t<0)return -1;var n=e.charAt(t);if("0123456789-+".indexOf(n)>=0)return -1;if(0>q.indexOf(n))for(var i=n,t=t+1;t<S(e);){var n=e.charAt(t);if(0>q.indexOf(n))var i=i+n,t=t+1;else break}else var i="";if(t<S(e)&&":"==e.charAt(t)){for(var s=i,t=t+1,i="";t<S(e);){var n=e.charAt(t);if(0>q.indexOf(n))var i=i+n,t=t+1;else break}return r.push(new k([s,i])),t}return i&&this.keywordsSet&&0>(0,m.Do)(this.keywords,i)?(r.push(new k(["",i])),t):-1}},{key:"object",value:function(e,t,r){var n=this.subject(e,t,r);if(n>=0)return n;var n=this.skipSpace(e,t);if(n<0)return -1;var t=n,i=null,s=e.charAt(t);if('"'!=s&&"'"!=s)return -1;i=e.slice(t,t+3==s+s)?s+s+s:s;var t=t+S(i),a=this.strconst(e,t,i),n=a[0],o=a[1];return r.push(this._store.literal(o)),L("New string const ",o,n),n}},{key:"nodeOrLiteral",value:function(e,t,r){var n=this.node(e,t,r);if(n>=0)return n;var n=this.skipSpace(e,t);if(n<0)return -1;var t=n,i=e.charAt(t);if("-+0987654321".indexOf(i)>=0){H.lastIndex=0;var s=H.exec(e.slice(t));if(null!=s){var a=s[0];n=t+a.length,a.indexOf("T")>=0?r.push(this._store.literal(a,this._store.sym("http://www.w3.org/2001/XMLSchema#dateTime"))):r.push(this._store.literal(a,this._store.sym("http://www.w3.org/2001/XMLSchema#date")))}else{B.lastIndex=0;var s=B.exec(e.slice(t));if(null==s)throw X(this._thisDoc,this.lines,e,t,"Bad number or date syntax");n=t+B.lastIndex;var a=e.slice(t,n);a.indexOf("e")>=0?r.push(this._store.literal(parseFloat(a),this._store.sym("http://www.w3.org/2001/XMLSchema#double"))):e.slice(t,n).indexOf(".")>=0?r.push(this._store.literal(parseFloat(a),this._store.sym("http://www.w3.org/2001/XMLSchema#decimal"))):r.push(this._store.literal(parseInt(a),this._store.sym("http://www.w3.org/2001/XMLSchema#integer")))}return n}if('"'!=e.charAt(t))return -1;if('"""'==e.slice(t,t+3))var o='"""';else var o='"';var t=t+S(o),u=null,c=this.strconst(e,t,o),n=c[0],l=c[1],h=null;if("@"==e.slice(n,n+1)){V.lastIndex=0;var s=V.exec(e.slice(n+1));if(null==s)throw X(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");var t=V.lastIndex+n+1,h=e.slice(n+1,t),n=t}if("^^"==e.slice(n,n+2))var f=new N([]),n=this.uri_ref2(e,n+2,f),u=f[0];return r.push(this._store.literal(l,h||u)),n}},{key:"strconst",value:function(e,t,r){for(var n=t,i="",s=this.lines;n<S(e);){var t=n+S(r);if(e.slice(n,t)==r)return new k([t,i]);if('"'==e.charAt(n)){var i=i+'"',n=n+1;continue}if($.lastIndex=0,!$.exec(e.slice(n)))throw X(this._thisDoc,s,e,n,"Closing quote missing in string at ^ in "+e.slice(n-20,n)+"^"+e.slice(n,n+20));var t=n+$.lastIndex-1,i=i+e.slice(n,t),a=e.charAt(t);if('"'==a){var n=t;continue}if("\r"==a){var n=t+1;continue}if("\n"==a){if('"'==r)throw X(this._thisDoc,s,e,t,"newline found in string literal");this.lines=this.lines+1;var i=i+a,n=t+1;this.previousLine=this.startOfLine,this.startOfLine=n}else if("\\"==a){var n=t+1,a=e.slice(n,n+1);if(!a)throw X(this._thisDoc,s,e,t,"unterminated string literal (2)");var o=O('abfrtvn\\"',a);if(o>=0)var i=i+'a\b\f\r	\v\n\\"'.charAt(o),n=n+1;else if("u"==a)var u=this.uEscape(e,n+1,s),n=u[0],a=u[1],i=i+a;else if("U"==a)var u=this.UEscape(e,n+1,s),n=u[0],a=u[1],i=i+a;else throw X(this._thisDoc,this.lines,e,t,"bad escape")}}throw X(this._thisDoc,this.lines,e,t,"unterminated string literal")}},{key:"uEscape",value:function(e,t,r){for(var n=t,i=0,s=0;i<4;){var a=e.slice(n,n+1).toLowerCase(),n=n+1;if(""==a)throw X(this._thisDoc,r,e,t,"unterminated string literal(3)");var o=O("0123456789abcdef",a);if(o<0)throw X(this._thisDoc,r,e,t,"bad string literal hex escape");var s=16*s+o,i=i+1}return new k([n,String.fromCharCode(s)])}},{key:"UEscape",value:function(e,t,r){for(var n=t,i=0,s="\\U";i<8;){var a=e.slice(n,n+1).toLowerCase(),n=n+1;if(""==a)throw X(this._thisDoc,r,e,t,"unterminated string literal(3)");if(0>O("0123456789abcdef",a))throw X(this._thisDoc,r,e,t,"bad string literal hex escape");var s=s+a,i=i+1}return new k([n,String.fromCharCode("0x"+I(s,2,10)-0)])}}]);function X(e,t,r,n,i){var s=t+1,a=SyntaxError("Line "+s+" of <"+e+">: Bad syntax: "+i+'\nat: "'+r.slice(n,n+30)+'"',e,s);return a.lineNo=s,a.characterInFile=n,a.syntaxProblem=i,a}(function(e,t,r,n,i){this._str=r.encode("utf-8"),this._str=r,this._i=n,this._why=i,this.lines=t,this._uri=e}).prototype.toString=function(){var e=this._str,t=this._i,r=0;if(t>60)var n="...",r=t-60;else var n="";if(S(e)-t>60)var i="...";else var i="";return'Line %i of <%s>: Bad syntax (%s) at ^ in:\n"%s%s^%s%s"'%new k([this.lines+1,this._uri,this._why,n,e.slice(r,t),e.slice(t,t+60),i])};var W=r(2598),G=r(6130);function J(e,t,n,i){var s=n&&Object.prototype.hasOwnProperty.call(n,"termType")?n.value:n;return Promise.all([r.e(827),r.e(789)]).then(r.t.bind(r,4827,23)).then(function(t){return t.flatten(JSON.parse(e),null,{base:s})}).then(function(e){return e.reduce(function(e,r){return t=function e(t,r,n){for(var i=n["@id"]?Q(t,n):t.rdfFactory.blankNode(),s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];if("@id"!==o){if("@graph"==o)for(var u=n[o],c=0;c<u.length;c++)t=e(t,i,u[c]);var l=n[o];if(Array.isArray(l))for(var h=0;h<l.length;h++)t.addStatement(Y(t,i,o,l[h],r));else t.addStatement(Y(t,i,o,l,r))}}return t}(t,n,r)},t)}).then(i).catch(i)}function Q(e,t){return t["@id"].startsWith("_:")?e.rdfFactory.blankNode(t["@id"].substring(2)):e.rdfFactory.namedNode(t["@id"])}function Y(e,t,r,n,i){var s,a;return"@type"===r?(s=e.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),a=e.rdfFactory.namedNode(n)):(s=e.rdfFactory.namedNode(r),a=function e(t,r){if("string"==typeof r)return t.rdfFactory.literal(r);if(Object.prototype.hasOwnProperty.call(r,"@list")){var n,i,s;return!0===t.rdfFactory.supports.COLLECTIONS?function(t,r){if(!Array.isArray(r))throw TypeError("Object must be an array");return t.rdfFactory.collection(r.map(function(r){return e(t,r)}))}(t,r["@list"]):(n=r["@id"]?Q(t,r):t.rdfFactory.blankNode(),i=r["@list"].map(function(r){return e(t,r)}),s=(0,m.XV)(t.rdfFactory,n,i),t.addAll(s),n)}return Object.prototype.hasOwnProperty.call(r,"@id")?Q(t,r):Object.prototype.hasOwnProperty.call(r,"@language")?t.rdfFactory.literal(r["@value"],r["@language"]):Object.prototype.hasOwnProperty.call(r,"@type")?t.rdfFactory.literal(r["@value"],t.rdfFactory.namedNode(r["@type"])):Object.prototype.hasOwnProperty.call(r,"@value")?t.rdfFactory.literal(r["@value"]):t.rdfFactory.literal(r)}(e,n)),e.rdfFactory.quad(t,s,a,e.rdfFactory.namedNode(i))}var Z=r(5927),ee=r(4354),et=r.n(ee);let er="http://www.w3.org/1999/02/22-rdf-syntax-ns#",en="http://www.w3.org/2001/XMLSchema#",ei="http://www.w3.org/2000/10/swap/",es={xsd:{decimal:`${en}decimal`,boolean:`${en}boolean`,double:`${en}double`,integer:`${en}integer`,string:`${en}string`},rdf:{type:`${er}type`,nil:`${er}nil`,first:`${er}first`,rest:`${er}rest`,langString:`${er}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${ei}reify#forSome`,forAll:`${ei}reify#forAll`},log:{implies:`${ei}log#implies`}},{xsd:ea}=es,eo=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,eu={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},ec=/[\x00-\x20<>\\"\{\}\|\^\`]/,el={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},eh=/$0^/;class ef{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode)for(let e in this._n3Mode=!1,this)!(e in el)&&this[e]instanceof RegExp&&(this[e]=eh);else this._n3Mode=!1!==e.n3;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let r=this._input,n=r.length;for(;;){let e,a;for(;e=this._newline.exec(r);)this.comments&&(a=this._comment.exec(e[0]))&&i("comment",a[1],"",this._line,e[0].length),n=(r=r.substr(e[0].length,r.length)).length,this._line++;if(!e&&(e=this._whitespace.exec(r))&&(r=r.substr(e[0].length,r.length)),this._endOfFile.test(r))return t&&(this.comments&&(a=this._comment.exec(r))&&i("comment",a[1],"",this._line,r.length),r=null,i("eof","","",this._line,0)),this._input=r;let o=this._line,u=r[0],c="",l="",h="",f=null,d=0,p=!1;switch(u){case"^":if(r.length<3)break;if("^"===r[1]){if(this._previousMarker="^^","<"!==(r=r.substr(2))[0]){p=!0;break}}else{this._n3Mode&&(d=1,c="^");break}case"<":if(f=this._unescapedIri.exec(r))c="IRI",l=f[1];else if(f=this._iri.exec(r)){if(null===(l=this._unescape(f[1]))||ec.test(l))return s(this);c="IRI"}else r.length>1&&"<"===r[1]?(c="<<",d=2):this._n3Mode&&r.length>1&&"="===r[1]&&(c="inverse",d=2,l=">");break;case">":r.length>1&&">"===r[1]&&(c=">>",d=2);break;case"_":((f=this._blank.exec(r))||t&&(f=this._blank.exec(`${r} `)))&&(c="blank",h="_",l=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(r))l=f[1];else if({value:l,matchLength:d}=this._parseLiteral(r),null===l)return s(this);(null!==f||0!==d)&&(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(r))l=f[1];else if({value:l,matchLength:d}=this._parseLiteral(r),null===l)return s(this);(null!==f||0!==d)&&(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(r))&&(c="var",l=f[0]);break;case"@":"literal"===this._previousMarker&&(f=this._langcode.exec(r))?(c="langcode",l=f[1]):(f=this._keyword.exec(r))&&(c=f[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){c=".",d=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(r)||t&&(f=this._number.exec(`${r} `)))&&(c="literal",l=f[0],h="string"==typeof f[1]?ea.double:"string"==typeof f[2]?ea.decimal:ea.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(r))?c=f[0].toUpperCase():p=!0;break;case"f":case"t":(f=this._boolean.exec(r))?(c="literal",l=f[0],h=ea.boolean):p=!0;break;case"a":(f=this._shortPredicates.exec(r))?(c="abbreviation",l="a"):p=!0;break;case"=":this._n3Mode&&r.length>1&&(c="abbreviation",">"!==r[1]?(d=1,l="="):(d=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(d=1,c=u);break;case"{":!this._lineMode&&r.length>=2&&("|"===r[1]?(c="{|",d=2):(c=u,d=1));break;case"|":r.length>=2&&"}"===r[1]&&(c="|}",d=2);break;default:p=!0}if(p&&(("@prefix"===this._previousMarker||"PREFIX"===this._previousMarker)&&(f=this._prefix.exec(r))?(c="prefix",l=f[1]||""):((f=this._prefixed.exec(r))||t&&(f=this._prefixed.exec(`${r} `)))&&(c="prefixed",h=f[1]||"",l=this._unescape(f[2]))),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c){if(t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r))return s(this);return this._input=r}let g=d||f[0].length,y=i(c,l,h,o,g);this.previousToken=y,this._previousMarker=c,r=r.substr(g,r.length)}function i(t,i,s,a,o){let u=r?n-r.length:n,c={type:t,value:i,prefix:s,line:a,start:u,end:u+o};return e(null,c),c}function s(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let t=!1,r=e.replace(eo,(e,r,n,i)=>{if("string"==typeof r)return String.fromCharCode(Number.parseInt(r,16));if("string"==typeof n){let e=Number.parseInt(n,16);return e<=65535?String.fromCharCode(Number.parseInt(n,16)):String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e))}return i in eu?eu[i]:(t=!0,"")});return t?null:r}_parseLiteral(e){if(e.length>=3){let t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length,n=Math.max(this._literalClosingPos,r);for(;(n=e.indexOf(t,n))>0;){let t=0;for(;"\\"===e[n-t-1];)t++;if(t%2==0){let t=e.substring(r,n),i=t.split(/\r\n|\r|\n/).length-1,s=n+r;if(1===r&&0!==i||3===r&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:s}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;let t=Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,t){if(this._line=1,"string"==typeof e){if(this._input=this._readStartingBom(e),"function"==typeof t)et()(()=>this._tokenizeToEnd(t,!0));else{let e;let t=[];if(this._tokenizeToEnd((r,n)=>r?e=r:t.push(n),!0),e)throw e;return t}}else this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",e=>{null!==this._input&&0!==e.length&&(this._pendingBuffer&&(e=Z.hp.concat([this._pendingBuffer,e]),this._pendingBuffer=null),128&e[e.length-1]?this._pendingBuffer=e:(void 0===this._input?this._input=this._readStartingBom("string"==typeof e?e:e.toString()):this._input+=e,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}let{rdf:ed,xsd:ep}=es,eg=0;class ey{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof ey?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class em extends ey{get termType(){return"NamedNode"}}class ev extends ey{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){let e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new em(this.datatypeString)}get datatypeString(){let e=this.id,t=e.lastIndexOf('"')+1,r=t<e.length?e[t]:"";return"^"===r?e.substr(t+2):"@"!==r?ep.string:ed.langString}equals(e){return e instanceof ev?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class ew extends ey{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class eb extends ey{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class e_ extends ey{constructor(){return super(""),n||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}n=new e_;class eA extends ey{constructor(e,t,r,i){super(""),this._subject=e,this._predicate=t,this._object=r,this._graph=i||n}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function ex(e){return new em(e)}function eT(e){return new ew(e||`n3-${eg++}`)}function eE(e,t){if("string"==typeof t)return new ev(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return""!==r||("boolean"==typeof e?r=ep.boolean:"number"!=typeof e||(Number.isFinite(e)?r=Number.isInteger(e)?ep.integer:ep.double:(r=ep.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),new ev(""===r||r===ep.string?`"${e}"`:`"${e}"^^${r}`)}function ek(e){return new eb(e)}function eN(e,t,r,n){return new eA(e,t,r,n)}function eD(e){if(e instanceof ey)return e;switch(e.termType){case"NamedNode":return ex(e.value);case"BlankNode":return eT(e.value);case"Variable":return ek(e.value);case"DefaultGraph":return n;case"Literal":return eE(e.value,e.language||e.datatype);case"Quad":return eS(e);default:throw Error(`Unexpected termType: ${e.termType}`)}}function eS(e){if(e instanceof eA)return e;if("Quad"!==e.termType)throw Error(`Unexpected termType: ${e.termType}`);return eN(eD(e.subject),eD(e.predicate),eD(e.object),eD(e.graph))}let eI=0;class eR{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&eO(this,e.factory);let t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(t),n=/trig/.test(t),i=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),o=i||s;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||n||i||a),this._supportsRDFStar=""===t||/star|\*$/.test(t),o&&(this._resolveRelativeIRI=e=>null),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new ef({lineMode:o,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){eI=0}_setBase(e){if(e){let t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=0>e.indexOf("/")?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,r,n,i){let s=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:n,object:i,graph:t,inverse:!!s&&this._inversePredicate,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){let r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":if(null!==this._graph)return this._error("Unclosed graph",e);return delete this._prefixes._,this._callback(null,null,this._prefixes);case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let r;switch(e.type){case"IRI":case"typeIRI":let n=this._resolveIRI(e.value);if(null===n)return this._error("Invalid IRI",e);r=this._factory.namedNode(n);break;case"type":case"prefixed":let i=this._prefixes[e.prefix];if(void 0===i)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._factory.namedNode(i+e.value);break;case"blank":r=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._factory.variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":if(!this._n3Mode)return this._error("Unexpected graph",e);return this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject;case"}":return this._readPunctuation(e);case"@forSome":if(!this._n3Mode)return this._error('Unexpected "@forSome"',e);return this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList;case"@forAll":if(!this._n3Mode)return this._error('Unexpected "@forAll"',e);return this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList;case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);return this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject;default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){let t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":if(null===this._predicate)return this._error(`Unexpected ${t}`,e);return this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e);case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":if(!this._n3Mode)return this._error("Unexpected graph",e);return this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject;case"<<":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);return this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject;default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);let t=null===this._predicate;return(this._restoreContext("blank",e),null!==this._object)?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,r=null,n=this._readListItem,i=this._subject,s=this._contextStack,a=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=t=this._factory.blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==s.length&&"list"===s[s.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,n=this._readListItemDataTypeOrLang):(t=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),n=this._getContextEndReader());break;case"{":if(!this._n3Mode)return this._error("Unexpected graph",e);return this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject;default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._factory.blankNode()),null===i?null===a.predicate?a.subject=r:a.object=r:this._emit(i,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return n}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":let r=this._readEntity(e);if(void 0===r)return;t=this._factory.literal(this._literalValue,r),e=null;break;case"langcode":t=this._factory.literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){let r=this._completeLiteral(e);if(r)return(this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token)?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,r=this._graph,n=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);let s=this._predicate,a=this._object;this._subject=this._factory.quad(n,s,a,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==n){let e=this._predicate,t=this._object;i?this._emit(t,e,n,r):this._emit(n,e,t,r)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);let t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){let t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:let t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){let t=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,t,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,r;let n=this._factory.blankNode();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}_readBackwardPath(e){let t,r;let n=this._factory.blankNode();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=n):(r=this._object,this._object=n),this._emit(n,t,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error(`Expected >> but got ${e.type}`,e);let t=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return(this._restoreContext("<<",e),null===this._subject)?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){let e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,r,n){this._callback(null,this._factory.quad(e,t,r,n||this.DEFAULTGRAPH))}_error(e,t){let r=Error(`${e} on line ${t.line}.`);r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=eC}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;let t=e.length,r="",n=-1,i=-1,s=0,a="/";for(;n<t;){switch(a){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<t&&"/"!==e[i];)n=i;break;case"?":case"#":n=t;break;case"/":if("."===e[n+1])switch(a=e[++n+1]){case"/":r+=e.substring(s,n-1),s=n+1;break;case void 0:case"?":case"#":return r+e.substring(s,n)+e.substr(n+1);case".":if(void 0===(a=e[++n+1])||"/"===a||"?"===a||"#"===a){if(r+=e.substring(s,n-2),(s=r.lastIndexOf("/"))>=i&&(r=r.substr(0,s)),"/"!==a)return`${r}/${e.substr(n+1)}`;s=n+1}}}a=e[++n]}return r+e.substring(s)}parse(e,t,r){let n,i,s;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(n=t.onQuad,i=t.onPrefix,s=t.onComment):(n=t,i=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${eI++}_`,this._prefixCallback=i||eC,this._inversePredicate=!1,this._quantified=Object.create(null),!n){let t;let r=[];if(this._callback=(e,n)=>{e?t=e:n&&r.push(n)},this._lexer.tokenize(e).every(e=>this._readCallback=this._readCallback(e)),t)throw t;return r}let a=(e,t)=>{null!==e?(this._callback(e),this._callback=eC):this._readCallback&&(this._readCallback=this._readCallback(t))};s&&(this._lexer.comments=!0,a=(e,t)=>{null!==e?(this._callback(e),this._callback=eC):this._readCallback&&("comment"===t.type?s(t.value):this._readCallback=this._readCallback(t))}),this._callback=n,this._lexer.tokenize(e,a)}}function eC(){}function eO(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(es.rdf.first),e.RDF_REST=t.namedNode(es.rdf.rest),e.RDF_NIL=t.namedNode(es.rdf.nil),e.N3_FORALL=t.namedNode(es.r.forAll),e.N3_FORSOME=t.namedNode(es.r.forSome),e.ABBREVIATIONS={a:t.namedNode(es.rdf.type),"=":t.namedNode(es.owl.sameAs),">":t.namedNode(es.log.implies)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}eO(eR.prototype,{namedNode:ex,blankNode:eT,variable:ek,literal:eE,defaultGraph:function(){return n},quad:eN,triple:eN,fromTerm:eD,fromQuad:eS});var eU=r(1407),ej=r(538),eL=r(2761),eP=r(1555);if(void 0===eF)var eF={ELEMENT_NODE:1,DOCUMENT_NODE:9};var eM=function(){function e(t,r){(0,c.A)(this,e),this.options=r||{},this.kb=t,this.target=r.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+new Date().getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return(0,u.A)(e,[{key:"addTriple",value:function(e,t,r,n){var i,s,a,o;i=void 0===t?eP.A.namedNode(this.options.base):this.toRDFNodeObject(t),a=this.toRDFNodeObject(r),s=this.toRDFNodeObject(n),o=eP.A.namedNode(this.options.base),this.kb.add(i,a,s,o)}},{key:"ancestorPath",value:function(e){for(var t="";e&&e.nodeType!==eF.DOCUMENT_NODE;)t="/"+e.localName+t,e=e.parentNode;return t}},{key:"copyMappings",value:function(e){var t={};for(var r in e)t[r]=e[r];return t}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var r=0;r<e.dateTimeTypes.length;r++){var n=e.dateTimeTypes[r].pattern.exec(t);if(n&&n[0].length===t.length)return e.dateTimeTypes[r].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(e,t){}},{key:"parseCURIE",value:function(t,r,n){var i,s=t.indexOf(":");if(s>=0){var a=t.substring(0,s);if(""===a)return(i=r[""])?i+t.substring(s+1):null;if("_"===a)return"_:"+t.substring(s+1);if(e.NCNAME.test(a)&&(i=r[a]))return i+t.substring(s+1)}return null}},{key:"parseCURIEOrURI",value:function(e,t,r){return this.parseCURIE(e,t,r)||this.resolveAndNormalize(r,e)}},{key:"parsePredicate",value:function(e,t,r,n,i,s){if(""===e)return null;var a=this.parseTermOrCURIEOrAbsURI(e,t,s?null:r,n,i);return a&&0===a.indexOf("_:")?null:a}},{key:"parsePrefixMappings",value:function(e,t){for(var r=this.tokenize(e),n=null,i=0;i<r.length;i++)":"===r[i][r[i].length-1]?n=r[i].substring(0,r[i].length-1):n&&(t[n]=this.options.base?y.fj(r[i],this.options.base):r[i],n=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,t,r){return"["!==(e=this.trim(e)).charAt(0)||"]"!==e.charAt(e.length-1)?this.parseCURIEOrURI(e,t,r):0===(e=(e=e.substring(1,e.length-1)).trim(e)).length?null:"_:"===e?this.theOne:this.parseCURIE(e,t,r)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,t,r,n,i){e=this.trim(e);var s=this.parseCURIE(e,n,i);if(s)return s;if(r){if(t&&!this.absURIRE.exec(e))return t+e;var a=r[e];if(a||(a=r[e.toLowerCase()]))return a}return this.absURIRE.exec(e)?this.resolveAndNormalize(i,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,t,r,n,i){e=this.trim(e);var s=this.parseCURIE(e,n,i);if(s)return s;var a=r[e];return a||(a=r[e.toLowerCase()])?a:t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(i,e)}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(t,r){r=r||{},t.nodeType===eF.DOCUMENT_NODE?(t.baseURI&&!r.baseURI&&(r.baseURI=t.baseURI),s=t.baseURI,(t=t.documentElement).baseURI||(t.baseURI=s),this.setContext(t)):t.parentNode.nodeType===eF.DOCUMENT_NODE&&this.setContext(t);var n=[],i=function(e){if(!e&&r&&r.baseURI)return r.baseURI;var t=e.indexOf("#");return t>=0&&(e=e.substring(0,t)),r&&r.baseURIMap&&(e=r.baseURIMap(e)),e};for(n.push({current:t,context:this.push(null,i(t.baseURI))});n.length>0;){var s,a,o,u=n.shift();if(u.parent){if(u.context.parent&&u.context.parent.listMapping===u.listMapping)continue;for(var c in u.listMapping){var l=u.listMapping[c];if(0===l.length){this.addTriple(u.parent,u.subject,c,{type:e.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});continue}for(var h=[],f=0;f<l.length;f++)h.push(this.newBlankNode());for(var d=0;d<h.length;d++)this.addTriple(u.parent,h[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",l[d]),this.addTriple(u.parent,h[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:e.objectURI,value:d+1<h.length?h[d+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(u.parent,u.subject,c,{type:e.objectURI,value:h[0]})}continue}var p=u.current,g=u.context,m=!1,v=null,w=null,b=null,_=g.prefixes,A=!1,x=[],T=g.listMapping,E=!g.parent,k=g.language,N=g.vocabulary;s=this.parseURI(i(p.baseURI)),p.item=null;var D=p.getAttributeNode("vocab");if(D){var S=this.trim(D.value);if(S.length>0){N=S;var I=s.spec;this.addTriple(p,I,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:e.objectURI,value:N})}else N=this.vocabulary}for(var R=0;R<p.attributes.length;R++){var C=p.attributes[R];if("x"===C.nodeName.charAt(0)&&0===C.nodeName.indexOf("xmlns:")){A||(_=this.copyMappings(_),A=!0);var O=C.nodeName.substring(6),U=e.trim(C.value);_[O]=this.options.base?y.fj(U,this.options.base):U}}var j=p.getAttributeNode("prefix");j&&(A||(_=this.copyMappings(_),A=!0),this.parsePrefixMappings(j.value,_));for(var L=null,P=0;!L&&P<this.langAttributes.length;P++)L=p.getAttributeNodeNS(this.langAttributes[P].namespaceURI,this.langAttributes[P].localName);if(L){var F=e.trim(L.value);k=F.length>0?F:null}var M=p.getAttributeNode("rel"),q=p.getAttributeNode("rev"),B=p.getAttributeNode("typeof"),H=p.getAttributeNode("property"),$=p.getAttributeNode("datatype"),V=this.inHTMLMode?p.getAttributeNode("datetime"):null,z=p.getAttributeNode("content"),K=p.getAttributeNode("about"),X=p.getAttributeNode("src"),W=p.getAttributeNode("resource"),G=p.getAttributeNode("href"),J=p.getAttributeNode("inlist"),Q=[];if(M){o=this.tokenize(M.value);for(var Y=0;Y<o.length;Y++)(a=this.parsePredicate(o[Y],N,g.terms,_,s,this.inHTMLMode&&null!==H))&&Q.push(a)}var Z=[];if(q){o=this.tokenize(q.value);for(var ee=0;ee<o.length;ee++)(a=this.parsePredicate(o[ee],N,g.terms,_,s,this.inHTMLMode&&H))&&Z.push(a)}if(this.inHTMLMode&&(M||q)&&H&&(0===Q.length&&(M=null),0===Z.length&&(q=null)),M||q?(K&&(v=this.parseSafeCURIEOrCURIEOrURI(K.value,_,s)),B&&(b=v),!v&&(p.parentNode.nodeType===eF.DOCUMENT_NODE?v=i(p.baseURI):g.parentObject&&(v=i(p.parentNode.baseURI)===g.parentObject?i(p.baseURI):g.parentObject)),W&&(w=this.parseSafeCURIEOrCURIEOrURI(W.value,_,s)),w||(G?w=this.resolveAndNormalize(s,encodeURI(G.value)):X?w=this.resolveAndNormalize(s,encodeURI(X.value)):!B||K||this.inXHTMLMode&&("head"===p.localName||"body"===p.localName)||(w=this.newBlankNode())),B&&!K&&this.inXHTMLMode&&("head"===p.localName||"body"===p.localName)?b=v:B&&!K&&(b=w)):!H||z||$?(K&&(v=this.parseSafeCURIEOrCURIEOrURI(K.value,_,s)),!v&&W&&(v=this.parseSafeCURIEOrCURIEOrURI(W.value,_,s)),!v&&G&&(v=this.resolveAndNormalize(s,encodeURI(G.value))),!v&&X&&(v=this.resolveAndNormalize(s,encodeURI(X.value))),v||(p.parentNode.nodeType===eF.DOCUMENT_NODE?v=i(p.baseURI):(this.inXHTMLMode||this.inHTMLMode)&&("head"===p.localName||"body"===p.localName)?v=i(p.parentNode.baseURI)===g.parentObject?i(p.baseURI):g.parentObject:B?v=this.newBlankNode():!g.parentObject||(v=i(p.parentNode.baseURI)===g.parentObject?i(p.baseURI):g.parentObject,H||(m=!0))),B&&(b=v)):(K&&(v=this.parseSafeCURIEOrCURIEOrURI(K.value,_,s),B&&(b=v)),v||p.parentNode.nodeType!==eF.DOCUMENT_NODE?!v&&g.parentObject&&(v=i(p.parentNode.baseURI)===g.parentObject?i(p.baseURI):g.parentObject):(v=i(p.baseURI),B&&(b=v)),B&&!b&&(W&&(b=this.parseSafeCURIEOrCURIEOrURI(W.value,_,s)),!b&&G&&(b=this.resolveAndNormalize(s,encodeURI(G.value))),!b&&X&&(b=this.resolveAndNormalize(s,encodeURI(X.value))),!b&&(this.inXHTMLMode||this.inHTMLMode)&&("head"===p.localName||"body"===p.localName)&&(b=v),b||(b=this.newBlankNode()),w=b)),v&&(K||W||b)){var et=v;B&&!K&&!W&&w&&(et=w),this.newSubjectOrigin(p,et)}if(b){o=this.tokenize(B.value);for(var er=0;er<o.length;er++){var en=this.parseTermOrCURIEOrAbsURI(o[er],N,g.terms,_,s);en&&this.addTriple(p,b,e.typeURI,{type:e.objectURI,value:en})}}if(v&&v!==g.parentObject&&(T={},E=!0),w){if(M&&J)for(var ei=0;ei<Q.length;ei++){var es=T[Q[ei]];es||(es=[],T[Q[ei]]=es),es.push({type:e.objectURI,value:w})}else if(M)for(var ea=0;ea<Q.length;ea++)this.addTriple(p,v,Q[ea],{type:e.objectURI,value:w});if(q)for(var eo=0;eo<Z.length;eo++)this.addTriple(p,w,Z[eo],{type:e.objectURI,value:v})}else{if(v&&!w&&(M||q)&&(w=this.newBlankNode()),M&&J)for(var eu=0;eu<Q.length;eu++){var ec=T[Q[eu]];ec||(ec=[],T[a]=ec),x.push({predicate:Q[eu],list:ec})}else if(M)for(var el=0;el<Q.length;el++)x.push({predicate:Q[el],forward:!0});if(q)for(var eh=0;eh<Z.length;eh++)x.push({predicate:Z[eh],forward:!1})}if(H){var ef=null,ed=null;$?(ef=""===$.value?e.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI($.value,N,g.terms,_,s),ed=V&&!z?V.value:ef===e.XMLLiteralURI||ef===e.HTMLLiteralURI?null:z?z.value:p.textContent):z?(ef=e.PlainLiteralURI,ed=z.value):V?(ed=V.value,(ef=e.deriveDateTimeType(ed))||(ef=e.PlainLiteralURI)):M||q||(W&&(ed=this.parseSafeCURIEOrCURIEOrURI(W.value,_,s)),!ed&&G?ed=this.resolveAndNormalize(s,encodeURI(G.value)):!ed&&X&&(ed=this.resolveAndNormalize(s,encodeURI(X.value))),ed&&(ef=e.objectURI)),ef||(B&&!K?(ef=e.objectURI,ed=b):(ed=p.textContent,this.inHTMLMode&&"time"===p.localName&&(ef=e.deriveDateTimeType(ed)),ef||(ef=e.PlainLiteralURI))),o=this.tokenize(H.value);for(var ep=0;ep<o.length;ep++){var eg=this.parsePredicate(o[ep],N,g.terms,_,s);if(eg){if(J){var ey=T[eg];ey||(ey=[],T[eg]=ey),ey.push(ef===e.XMLLiteralURI||ef===e.HTMLLiteralURI?{type:ef,value:p.childNodes}:{type:ef||e.PlainLiteralURI,value:ed,language:k})}else ef===e.XMLLiteralURI||ef===e.HTMLLiteralURI?this.addTriple(p,v,eg,{type:ef,value:p.childNodes}):this.addTriple(p,v,eg,{type:ef||e.PlainLiteralURI,value:ed,language:k})}}}if(v&&!m)for(var em=0;em<g.incomplete.length;em++)g.incomplete[em].list?g.incomplete[em].list.push({type:e.objectURI,value:v}):g.incomplete[em].forward?this.addTriple(p,g.subject,g.incomplete[em].predicate,{type:e.objectURI,value:v}):this.addTriple(p,v,g.incomplete[em].predicate,{type:e.objectURI,value:g.subject});var ev=null,ew=v;m?((ev=this.push(g,g.subject)).parentObject=i(p.parentNode.baseURI)===g.parentObject?i(p.baseURI):g.parentObject,ev.incomplete=g.incomplete,ev.language=k,ev.prefixes=_):((ev=this.push(g,v)).parentObject=w||v||g.subject,ev.prefixes=_,ev.incomplete=x,w&&(ew=w,T={},E=!0),ev.listMapping=T,ev.language=k),ev.vocabulary=N,E&&n.unshift({parent:p,context:g,subject:ew,listMapping:T});for(var eb=p.lastChild;eb;eb=eb.previousSibling)eb.nodeType===eF.ELEMENT_NODE&&n.unshift({current:eb,context:ev})}this.inHTMLMode&&this.copyProperties();for(var e_=0;e_<this.finishedHandlers.length;e_++)this.finishedHandlers[e_](t)}},{key:"push",value:function(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,t){return y.fj(t,e)}},{key:"setContext",value:function(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?"undefined"!=typeof document&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){var r=this;if(void 0!==t){if("string"==typeof t)return"_:"===t.substring(0,2)?(void 0===this.blankNodes[t.substring(2)]&&(this.blankNodes[t.substring(2)]=new eU.A(t.substring(2))),this.blankNodes[t.substring(2)]):eP.A.namedNode(t);switch(t.type){case e.objectURI:if("_:"===t.value.substring(0,2))return void 0===this.blankNodes[t.value.substring(2)]&&(this.blankNodes[t.value.substring(2)]=new eU.A(t.value.substring(2))),this.blankNodes[t.value.substring(2)];return eP.A.namedNode(t.value);case e.PlainLiteralURI:return new ej.A(t.value,t.language||"");case e.XMLLiteralURI:case e.HTMLLiteralURI:var n="";return Object.keys(t.value).forEach(function(e){n+=eL.jI(t.value[e],r.htmlOptions)}),new ej.A(n,"",new W.A(t.type));default:return new ej.A(t.value,"",new W.A(t.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,r,n){var i=new e(r,{base:n});t.baseURI||(t.baseURI=n),i.process(t,{baseURI:n})}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}])}();eM.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",eM.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",eM.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",eM.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",eM.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",eM.nameChar="[-A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9\xb7̀-ͯ‿-⁀]",eM.nameStartChar="[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xffĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",eM.NCNAME=RegExp("^"+eM.nameStartChar+eM.nameChar+"*$"),eM.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var eq=eM.parseRDFaDOM,eB=function(){function e(t){(0,c.A)(this,e),this.store=t,this.bnodes={},this.why=null,this.reify=!1}return(0,u.A)(e,[{key:"frameFactory",value:function(t,r,n){return{NODE:1,ARC:2,parent:r,parser:t,store:t.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=y.fj(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var t=this.store.sym(y.fj("#"+this.parent.rdfid,this.base));this.store.add(t,this.store.sym(e.ns.RDF+"type"),this.store.sym(e.ns.RDF+"Statement"),this.parser.why),this.store.add(t,this.store.sym(e.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(t,this.store.sym(e.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(t,this.store.sym(e.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(t){t===e.ns.RDF+"li"&&(t=e.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,t)},addLiteral:function(t){this.parent.datatype&&this.parent.datatype!==e.ns.RDF+"langString"?this.node=this.store.literal(t,this.store.sym(this.parent.datatype)):this.node=this.store.literal(t,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}},{key:"getAttributeNodeNS",value:function(e,t,r){var n=null;if(e.getAttributeNodeNS)n=e.getAttributeNodeNS(t,r);else for(var i,s=e.attributes,a=0;a<s.length;++a)if((i=s[a]).namespaceURI===t&&(i.prefix?i.prefix+":"+r:r)===i.nodeName){n=i;break}return n}},{key:"parse",value:function(t,r,n){var i,s=t.childNodes;if(this.cleanParser(),t.nodeType===e.nodeType.DOCUMENT){for(var a=0;a<s.length;a++)if(s[a].nodeType===e.nodeType.ELEMENT){i=s[a];break}}else if(t.nodeType===e.nodeType.ELEMENT)i=t;else throw Error("RDFParser: can't find root in "+r+". Halting. ");this.why=n;var o=this.frameFactory(this);return this.base=r,o.base=r,o.lang=null,this.parseDOM(this.buildFrame(o,i)),!0}},{key:"parseDOM",value:function(t){for(var r,n=(function(e){var t="";if(null==e.namespaceURI)throw Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(e.nodeName.indexOf(":")>=0?t+=e.nodeName.split(":")[1]:t+=e.nodeName),t}).bind(this),i=!0;t.parent;){var s=t.element,a=s.attributes;if(s.nodeType===e.nodeType.TEXT||s.nodeType===e.nodeType.CDATA_SECTION)t.parent.nodeType===t.NODE&&(t.addArc(e.ns.RDF+"value"),t=this.buildFrame(t)),t.addLiteral(s.nodeValue);else if(n(s)!==e.ns.RDF+"RDF"){if(t.parent&&t.parent.collection&&(t.addCollectionArc(),(t=this.buildFrame(t,t.element)).parent.element=null),t.parent&&t.parent.nodeType&&t.parent.nodeType!==t.ARC){t.addArc(n(s)),this.reify&&(r=this.getAttributeNodeNS(s,e.ns.RDF,"ID"))&&(t.rdfid=r.nodeValue,s.removeAttributeNode(r));var o=this.getAttributeNodeNS(s,e.ns.RDF,"parseType"),u=this.getAttributeNodeNS(s,e.ns.RDF,"datatype");if(u&&(t.datatype=u.nodeValue,s.removeAttributeNode(u)),o){var c=o.nodeValue;"Literal"===c?(t.datatype=e.ns.RDF+"XMLLiteral",(t=this.buildFrame(t)).addLiteral(s.innerHTML||s.childNodes),i=!1):"Resource"===c?((t=this.buildFrame(t,t.element)).parent.element=null,t.addBNode()):"Collection"===c&&((t=this.buildFrame(t,t.element)).parent.element=null,t.addCollection()),s.removeAttributeNode(o)}if(0!==a.length){var l=this.getAttributeNodeNS(s,e.ns.RDF,"resource"),h=this.getAttributeNodeNS(s,e.ns.RDF,"nodeID");t=this.buildFrame(t),l?(t.addNode(l.nodeValue),s.removeAttributeNode(l)):h?(t.addBNode(h.nodeValue),s.removeAttributeNode(h)):t.addBNode();for(var f=a.length-1;f>=0;f--){var d=this.buildFrame(t);d.addArc(n(a[f])),n(a[f])===e.ns.RDF+"type"?this.buildFrame(d).addNode(a[f].nodeValue):this.buildFrame(d).addLiteral(a[f].nodeValue)}}else 0===s.childNodes.length&&this.buildFrame(t).addLiteral("")}else{var p=this.getAttributeNodeNS(s,e.ns.RDF,"about");if(r=this.getAttributeNodeNS(s,e.ns.RDF,"ID"),p&&r)throw Error("RDFParser: "+s.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!p&&r)t.addNode("#"+r.nodeValue),s.removeAttributeNode(r);else if(null==p&&null==r){var g=this.getAttributeNodeNS(s,e.ns.RDF,"nodeID");g?(t.addBNode(g.nodeValue),s.removeAttributeNode(g)):t.addBNode()}else t.addNode(p.nodeValue),s.removeAttributeNode(p);var m=this.getAttributeNodeNS(s,e.ns.RDF,"type");e.ns.RDF+"Description"!==n(s)&&(m={nodeValue:n(s)}),null!=m&&(this.store.add(t.node,this.store.sym(e.ns.RDF+"type"),this.store.sym(y.fj(m.nodeValue,t.base)),this.why),m.nodeName&&s.removeAttributeNode(m));for(var v=a.length-1;v>=0;v--)this.store.add(t.node,this.store.sym(n(a[v])),this.store.literal(a[v].nodeValue,t.lang),this.why)}}for(s=t.element;t.parent;){for(var w=t;null==s;)s=(t=t.parent).element;var b=s.childNodes&&s.childNodes[t.lastChild];if(b&&i){if(b.nodeType!==e.nodeType.ELEMENT&&b.nodeType!==e.nodeType.TEXT&&b.nodeType!==e.nodeType.CDATA_SECTION||(b.nodeType===e.nodeType.TEXT||b.nodeType===e.nodeType.CDATA_SECTION)&&1!==s.childNodes.length)t.lastChild++;else{t.lastChild++,t=this.buildFrame(w,s.childNodes[t.lastChild-1]);break}}else{if(t.terminateFrame(),!(t=t.parent))break;s=t.element,i=!0}}}}},{key:"cleanParser",value:function(){this.bnodes={},this.why=null}},{key:"buildFrame",value:function(t,r){var n=this.frameFactory(this,t,r);if(t&&(n.base=t.base,n.lang=t.lang),!r||r.nodeType===e.nodeType.TEXT||r.nodeType===e.nodeType.CDATA_SECTION)return n;var i=r.attributes,s=r.getAttributeNode("xml:base");null!=s&&(n.base=s.nodeValue,r.removeAttribute("xml:base"));var a=r.getAttributeNode("xml:lang");null!=a&&(n.lang=a.nodeValue,r.removeAttribute("xml:lang"));for(var o=i.length-1;o>=0;o--)if("xml"===i[o].nodeName.substr(0,3)){if("xmlns:"===i[o].name.slice(0,6)){var u=i[o].nodeValue;this.base&&(u=y.fj(u,this.base)),this.store.setPrefixForURI(i[o].name.slice(6),u)}r.removeAttributeNode(i[o])}return n}}])}();(0,l.A)(eB,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"}),(0,l.A)(eB,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});var eH=r(8663);function e$(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/turtle",i=arguments.length>4?arguments[4]:void 0;n=(n=n||eH.sT).split(";")[0];try{if(n===eH.ny||n===eH.sT)z(t,t,r,r,null,null,"",null).loadBuf(e),a();else if(n===eH.JG)new eB(t).parse(eL.h4(e),r,t.sym(r)),a();else if(n===eH.H)eq(eL.h4(e,{contentType:eH.H}),t,r),a();else if(n===eH.lc)eq(eL.h4(e,{contentType:eH.lc}),t,r),a();else if(n===eH.K9||n===eH.Fn)!function(e,t,r){var n,i,s,a=["INSERT","DELETE","WHERE"],o=(0,b.A)("http://www.w3.org/ns/pim/patch#"),u=z(t,t,r,r,null,null,"",null),c={},l=function(e,t,r,n,i){return"Line "+(t+1)+" of <"+e+">: Bad syntax:\n   "+i+'\n   at: "'+r.slice(n,n+30)+'"'};n=0;var h=t.sym(r+"#query");for(c.query=h;;){if((i=u.skipSpace(e,n))<0)return c;if(";"===e[i]){if((n=u.skipSpace(e,i+1))<0)return c;i=n}var f=!1;for(s=0;s<a.length;s++){var d=a[s];if(e.slice(i,i+d.length)===d){if((n=u.skipSpace(e,i+d.length))<0)throw l(u._thisDoc,u.lines,e,i+d.length,"found EOF, needed {...} after "+d);if(("INSERT"===d||"DELETE"===d)&&"DATA"===e.slice(n,n+4)){if((i=u.skipSpace(e,n+4))<0)throw l(u._thisDoc,u.lines,e,n+4,"needed {...} after INSERT DATA "+d);n=i}var p=[];if((i=u.node(e,n,p))<0)throw l(u._thisDoc,u.lines,e,n,"bad syntax or EOF in {...} after "+d);c[d.toLowerCase()]=p[0],t.add(h,o(d.toLowerCase()),p[0]),f=!0,n=i}}if(!f&&"@prefix"===e.slice(i,i+7)){if((n=u.directive(e,i))<0)throw l(u._thisDoc,u.lines,e,n,"bad syntax or EOF after @prefix ");n=u.checkDot(e,n),f=!0}if(!f)throw l(u._thisDoc,u.lines,e,i,"Unknown syntax at start of statememt: '"+e.slice(i).slice(0,20)+"'")}}(e,t,r),a();else if(n===eH.i2)J(e,t,r,a);else if(n===eH._0||n===eH.BR){var s=new eR({factory:G.A});!function(e,r){try{s.parse(r,o)}catch(e){i(e,t)}}(0,e)}else if(void 0===n)throw Error("contentType is undefined");else throw Error("Don't know how to parse "+n+" yet")}catch(e){!function(e){if(n!==eH.i2||n!==eH._0||n!==eH.BR){if(i)i(e,t);else{var s=Error(""+e+" while trying to parse <"+r+"> as "+n);throw s.cause=e,s}}}(e)}function a(){i&&i(null,t)}function o(e,r){r?t.add(r.subject,r.predicate,r.object,r.graph):i(e,t)}e$.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}var eV=r(4523),ez=r(1396),eK=r(5647),eX=r.n(eK),eW=r(8819);function eG(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eJ(e,t,r){return t=(0,a.A)(t),(0,s.A)(e,eQ()?Reflect.construct(t,r||[],(0,a.A)(e).constructor):t.apply(e,r))}function eQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eQ=function(){return!!e})()}var eY={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},eZ={rdf:eH.JG,owl:eH.JG,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},e0=function(e){return{link:(0,b.A)("http://www.w3.org/2007/ont/link#",e),http:(0,b.A)("http://www.w3.org/2007/ont/http#",e),httph:(0,b.A)("http://www.w3.org/2007/ont/httph#",e),rdf:(0,b.A)("http://www.w3.org/1999/02/22-rdf-syntax-ns#",e),rdfs:(0,b.A)("http://www.w3.org/2000/01/rdf-schema#",e),dc:(0,b.A)("http://purl.org/dc/elements/1.1/",e),ldp:(0,b.A)("http://www.w3.org/ns/ldp#",e)}},e1=e0(),e2=(0,u.A)(function e(t,r){(0,c.A)(this,e),(0,l.A)(this,"response",void 0),(0,l.A)(this,"dom",void 0),this.response=t,this.dom=r});(0,l.A)(e2,"pattern",void 0);var e3=function(e){function t(){return(0,c.A)(this,t),eJ(this,t,arguments)}return(0,o.A)(t,e),(0,u.A)(t,[{key:"parse",value:function(e,t,r){var n=e.store;if(this.dom||(this.dom=eL.h4(t)),"parsererror"===this.dom.documentElement.nodeName)return e.failFetch(r,"Badly formed XML in "+r.resource.value,"parse_error");var i=new eB(n);try{i.parse(this.dom,r.original.value,r.original)}catch(t){return e.failFetch(r,"Syntax error parsing RDF/XML! "+t,"parse_error")}return r.noMeta||n.add(r.original,e1.rdf("type"),e1.link("RDFDocument"),e.appNode),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(e){e.mediatypes[eH.JG]={q:.9}}}])}(e2);e3.pattern=RegExp("application/rdf\\+xml");var e5=function(e){function t(){return(0,c.A)(this,t),eJ(this,t,arguments)}return(0,o.A)(t,e),(0,u.A)(t,[{key:"parse",value:function(e,t,r){this.dom||(this.dom=eL.h4(t));var n,i,s=e.store,a=this.dom.getElementsByTagName("title");a.length>0&&s.add(r.resource,e1.dc("title"),s.rdfFactory.literal(a[0].textContent),r.resource);for(var o=this.dom.getElementsByTagName("link"),u=o.length-1;u>=0;u--)n=o[u].getAttribute("rel"),i=!1,n||(n=o[u].getAttribute("rev"),i=!0),n&&e.linkData(r.original,n,o[u].getAttribute("href"),r.resource,i);for(var c=this.dom.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l].getAttribute("type");eY[h]&&(e$(c[l].textContent,s,r.original.value,h),e$(c[l].textContent,s,r.original.value,h))}if(r.noMeta||s.add(r.resource,e1.rdf("type"),e1.link("WebPage"),e.appNode),!r.noRDFa&&eq)try{eq(this.dom,s,r.original.value)}catch(t){var f="Error trying to parse "+r.resource+" as RDFa:\n"+t+":\n"+t.stack;return e.failFetch(r,f,"parse_error")}return e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(e){e.mediatypes[eH.H]={}}}])}(e2);e5.pattern=RegExp("application/xhtml");var e8=function(e){function t(){return(0,c.A)(this,t),eJ(this,t,arguments)}return(0,o.A)(t,e),(0,u.A)(t,[{key:"parse",value:function(e,r,n){for(var i=eL.h4(r),s=0;s<i.childNodes.length;s++){var a=i.childNodes[s];if(t.isElement(a)){var o=a.namespaceURI;if(o&&o===o.rdf)return e.addStatus(n.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),new e3(this.response,i).parse(e,r,n);break}}if(i.doctype&&"html"===i.doctype.name&&i.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&i.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/))return e.addStatus(n.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n"),new e5(this.response,i).parse(e,r,n);var u=i.getElementsByTagName("html")[0];if(u){var c=u.getAttribute("xmlns");if(c&&c.match(/^http:\/\/www.w3.org\/1999\/xhtml/))return e.addStatus(n.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n"),new e5(this.response,i).parse(e,r,n)}return e.failFetch(n,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+r.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/xml"]={q:.5},e.mediatypes["application/xml"]={q:.5}}},{key:"isElement",value:function(e){return e.nodeType===Node.ELEMENT_NODE}}])}(e2);e8.pattern=RegExp("(text|application)/(.*)xml");var e9=function(e){function t(){return(0,c.A)(this,t),eJ(this,t,arguments)}return(0,o.A)(t,e),(0,u.A)(t,[{key:"parse",value:function(e,t,r){var n,i,s=e.store;if(tt(t))return e.addStatus(r.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n"),new e5(this.response).parse(e,t,r);if(n=t.indexOf("<!DOCTYPE html"),i=t.indexOf(">"),-1!==n&&-1!==i&&!(n>i)&&-1!==t.substr(n,i-n).indexOf("XHTML"))return e.addStatus(r.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n"),new e5(this.response).parse(e,t,r);if(t.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/))return e.addStatus(r.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n"),new e5(this.response).parse(e,t,r);var a=RegExp("<title>([\\s\\S]+?)</title>","im").exec(t);return a&&s.add(r.resource,e1.dc("title"),s.rdfFactory.literal(a[1]),r.resource),s.add(r.resource,e1.rdf("type"),e1.link("WebPage"),e.appNode),e.addStatus(r.req,"non-XML HTML document, not parsed for data."),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/html"]={q:.9}}}])}(e2);e9.pattern=RegExp("text/html");var e6=function(e){function t(){return(0,c.A)(this,t),eJ(this,t,arguments)}return(0,o.A)(t,e),(0,u.A)(t,[{key:"parse",value:function(e,t,r,n){var i=e.store;return new Promise(function(s,a){try{J(t,i,r.original.value,function(){s(e.doneFetch(r,n))})}catch(t){var o="Error trying to parse "+r.resource+" as JSON-LD:\n"+t;s(e.failFetch(r,o,"parse_error",n))}})}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(e){e.mediatypes["application/ld+json"]={q:.9}}}])}(e2);e6.pattern=/application\/ld\+json/;var e4=function(e){function t(){return(0,c.A)(this,t),eJ(this,t,arguments)}return(0,o.A)(t,e),(0,u.A)(t,[{key:"parse",value:function(e,t,r){return tt(t)?(e.addStatus(r.req,"Warning: "+r.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n"),new e8(this.response).parse(e,t,r)):t.slice(0,500).match(/xmlns:/)?(e.addStatus(r.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n"),new e8(this.response).parse(e,t,r)):(e.addStatus(r.req,"Plain text document, no known RDF semantics."),e.doneFetch(r,this.response))}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(e){e.mediatypes["text/plain"]={q:.5}}}])}(e2);e4.pattern=RegExp("text/plain");var e7=function(e){function t(){return(0,c.A)(this,t),eJ(this,t,arguments)}return(0,o.A)(t,e),(0,u.A)(t,[{key:"parse",value:function(e,t,r,n){var i=e.store,s=z(i,i,r.original.value,r.original.value,null,null,"",null);try{s.loadBuf(t)}catch(t){var a="Error trying to parse "+r.resource+" as Notation3:\n"+t;return e.failFetch(r,a,"parse_error",n)}return e.addStatus(r.req,"N3 parsed: "+s.statementCount+" triples in "+s.lines+" lines."),e.store.add(r.original,e1.rdf("type"),e1.link("RDFDocument"),e.appNode),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(e){e.mediatypes["text/n3"]={q:"1.0"},e.mediatypes["text/turtle"]={q:1}}}])}(e2);e7.pattern=RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var te={RDFXMLHandler:e3,XHTMLHandler:e5,XMLHandler:e8,HTMLHandler:e9,TextHandler:e4,N3Handler:e7,JsonLdHandler:e6};function tt(e){return!!e.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)}var tr=function(){var e,t;function n(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,c.A)(this,n),(0,l.A)(this,"store",void 0),(0,l.A)(this,"timeout",void 0),(0,l.A)(this,"_fetch",void 0),(0,l.A)(this,"mediatypes",void 0),(0,l.A)(this,"appNode",void 0),(0,l.A)(this,"requested",void 0),(0,l.A)(this,"timeouts",void 0),(0,l.A)(this,"redirectedTo",void 0),(0,l.A)(this,"fetchQueue",void 0),(0,l.A)(this,"fetchCallbacks",void 0),(0,l.A)(this,"nonexistent",void 0),(0,l.A)(this,"lookedUp",void 0),(0,l.A)(this,"handlers",void 0),(0,l.A)(this,"ns",void 0),(0,l.A)(this,"fireCallbacks",void 0),this.store=e||new d.A,this.ns=e0(this.store.rdfFactory),this.timeout=i.timeout||3e4,this._fetch=i.fetch||void 0!==r.g&&(r.g.solidFetcher||r.g.solidFetch)||"undefined"!=typeof window&&(window.solidFetcher||window.solidFetch)||eX(),!this._fetch)throw Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},eL.Kw(this,["request","fail","refresh","retract","done"]),Object.keys(i.handlers||te).map(function(e){return t.addHandler(te[e])})}return(0,u.A)(n,[{key:"load",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r=Object.assign({},r),e instanceof Array)return Promise.all(e.map(function(e){return t.load(e,Object.assign({},r))}));var n=(0,eW.E)(e);n=n.split("#")[0],r=this.initFetchOptions(n,r);var i,s=this.appNode,a=this.store,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return eG(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eG(e,void 0)}}(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}(a.statementsMatching(void 0,this.ns.link("requestedURI"),a.sym(n),s).map(function(e){return e.subject}));try{for(o.s();!(i=o.n()).done;){var u=i.value,c=a.any(u,this.ns.link("response"),null,s);if(void 0!=c){var l=a.statementsMatching(c,this.ns.link("outOfDate"),!0,s);a.remove(l),r.force=!0,r.clearPreviousData=!0}}}catch(e){o.e(e)}finally{o.f()}var h=this.initFetchOptions(n,r);return this.pendingFetchPromise(n,h.baseURI,h)}},{key:"pendingFetchPromise",value:(e=(0,i.A)(f().mark(function e(t,r,n){var i,s=this;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!n.force,!e.t0){e.next=5;break}return e.next=4,this.fetchQueue[r];case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}i=this.fetchQueue[r],e.next=12;break;case 9:i=Promise.race([this.setRequestTimeout(t,n),this.fetchUri(t,n)]),this.fetchQueue[r]=i,this.cleanupFetchRequest(r,void 0,this.timeout);case 12:return e.abrupt("return",i.then(function(e){return t in s.timeouts&&(s.timeouts[t].forEach(clearTimeout),delete s.timeouts[t]),e}));case 13:case"end":return e.stop()}},e,this)})),function(t,r,n){return e.apply(this,arguments)})},{key:"cleanupFetchRequest",value:function(e,t,r){var n=this;void 0!==t&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(function(){n.isPending(e)||delete n.fetchQueue[e]},r))}},{key:"initFetchOptions",value:function(e,t){var r=this.store;t.method&&"GET"!==t.method.toUpperCase()&&(t.force=!0),t.resource=r.rdfFactory.namedNode(e),t.baseURI=t.baseURI||e,t.original=r.rdfFactory.namedNode(t.baseURI),t.req=r.bnode(),t.headers=t.headers||new eK.Headers,t.contentType&&(t.headers["content-type"]=t.contentType),t.force&&(t.cache="no-cache");var i=this.acceptString();t.headers.accept=i;var s=n.offlineOverride(e);t.requestedURI=s,n.setCredentials(s,t);var a=n.proxyIfNecessary(s);return s!==a&&(t.proxyUsed=!0),t.actualProxyURI=a,t}},{key:"fetchUri",value:function(e,t){var r=this;if(!e)return Promise.reject(Error("Cannot fetch an empty uri"));if(n.unsupportedProtocol(e))return this.failFetch(t,"fetcher: Unsupported protocol","unsupported_protocol");var i=this.getState(e);if(t.force)delete this.nonexistent[e];else{if("fetched"===i)return Promise.resolve(this.doneFetch(t,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===i&&404===this.requested[e]){var s="Previously failed: "+this.requested[e],a={url:e,status:this.requested[e],statusText:s,responseText:s,headers:new eK.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(t,s,this.requested[e],a)}}this.fireCallbacks("request",[e]),this.requested[e]=!0,t.noMeta||this.saveRequestMetadata(e,t);var o=t.actualProxyURI;return this._fetch(o,t).then(function(n){return r.handleResponse(n,e,t)},function(n){var i={url:o,status:999,statusText:(n.name||"network failure")+": "+(n.errno||n.code||n.type),responseText:n.message,headers:new eK.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return r.handleError(i,e,t)})}},{key:"nowOrWhenFetched",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(0,eW.E)(e);"function"==typeof t?r=t:void 0===t||((0,eV.Y2)(t)?n.referringTerm=t:n=t),this.load(i,n).then(function(e){if(r){if(e){if(e.ok)r(!0,"OK",e);else{var t="HTTP error: Status "+e.status+" ("+e.statusText+")";e.responseText&&(t+=" "+e.responseText),r(!1,t,e)}}else r(!1,"@@ nowOrWhenFetched:  no response object!")}},function(e){var t=e.message||e.statusText;t="Failed to load  <"+i+"> "+t,e.response&&e.response.status&&(t+=" status: "+e.response.status),r(!1,t,e.response)})}},{key:"addStatus",value:function(e,t){var r=new Date;t="["+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"."+r.getMilliseconds()+"] "+t;var n=this.store,i=n.the(e,this.ns.link("status"));(0,eV.P3)(i)?i.append(n.rdfFactory.literal(t)):p.A.warn("web.js: No list to add to: "+i+","+t)}},{key:"failFetch",value:function(e,t,r,n){this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(t));var i=(e.method||"GET").toUpperCase();("GET"===i||"HEAD"===i)&&(e.resource.equals(e.original),this.requested[y.En(e.original.value)]=r,this.fireCallbacks("fail",[e.original.value,t]));var s=Error("Fetcher: "+t);return s.status=r,s.statusText=t,s.response=n,Promise.reject(s)}},{key:"linkData",value:function(e,t,r,n,i){if(r){var s,a=this.store,o=a.rdfFactory.namedNode(y.fj(r,e.value));if("alternate"===t||"seeAlso"===t||"meta"===t||"describedby"===t){if(o.value===e.value)return;s=this.ns.rdfs("seeAlso")}else s="type"===t?a.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):a.rdfFactory.namedNode(y.fj(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));i?a.add(o,s,e,n):a.add(e,s,o,n)}}},{key:"parseLinkHeader",value:function(e,t,r){if(e){var n=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,i=e.match(/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g);if(null!=i)for(var s=0;s<i.length;s++){var a=i[s].split(">"),o=a[0].substring(1),u=a[1].match(n);if(null==u)return;for(var c=0;c<u.length;c++){var l=u[c].split("=")[1].replace(/["']/g,"");this.linkData(t,l,o,r)}}}}},{key:"doneFetch",value:function(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),t.req=e.req,t}},{key:"nowKnownAs",value:function(e,t){this.lookedUp[e.value]?this.lookedUp[t.value]||this.lookUpThing(t,e):this.lookedUp[t.value]&&!this.lookedUp[e.value]&&this.lookUpThing(e,t)}},{key:"putBack",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,eW.E)(e),i=new W.A(n).doc();return(r.contentType=r["content-type"]||r["Content-Type"]||r.contentType||eH.sT,"application/ld+json"===r.contentType)?new Promise(function(n,s){(0,ez.A)(i,t.store,i.uri,r.contentType,function(i,a){i?s(i):(r.data=a,t.webOperation("PUT",e,r).then(function(e){return n(e)}).catch(function(e){return s(e)}))})}):(r.data=(0,ez.A)(i,this.store,i.value,r.contentType),this.webOperation("PUT",n,r))}},{key:"webCopy",value:function(e,t,r){var n=this;return this.webOperation("GET",e).then(function(e){return n.webOperation("PUT",t,{data:e.responseText,contentType:r})})}},{key:"delete",value:function(e,t){var r=this;return this.webOperation("DELETE",e,t).then(function(t){return r.requested[e]=404,r.nonexistent[e]=!0,r.unload(r.store.rdfFactory.namedNode(e)),t})}},{key:"createIfNotExists",value:(t=(0,i.A)(f().mark(function e(t){var r,n,i,s,a=arguments;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:eH.sT,n=a.length>2&&void 0!==a[2]?a[2]:"",i=this,e.prev=3,e.next=6,i.load(t);case 6:s=e.sent,e.next=26;break;case 9:if(e.prev=9,e.t0=e.catch(3),404!==e.t0.response.status){e.next=25;break}return e.prev=12,e.next=15,i.webOperation("PUT",t.value,{data:n,contentType:r});case 15:s=e.sent,e.next=21;break;case 18:throw e.prev=18,e.t1=e.catch(12),e.t1;case 21:return delete i.requested[t.value],e.abrupt("return",s);case 25:throw e.t0;case 26:return e.abrupt("return",s);case 27:case"end":return e.stop()}},e,this,[[3,9],[12,18]])})),function(e){return t.apply(this,arguments)})},{key:"createContainer",value:function(e,t,r){var n={"content-type":eH.sT,link:this.ns.ldp("BasicContainer")+'; rel="type"'};t&&(n.slug=t);var i={headers:n};return r&&(i.body=r),this.webOperation("POST",e,i)}},{key:"invalidateCache",value:function(e){var t=(0,eW.E)(e);this.fetchQueue&&this.fetchQueue[t]&&(this.fetchQueue[t].PromiseStatus,delete this.fetchQueue[t]),this.requested[t]&&"done"!==this.requested[t]&&"failed"!==this.requested[t]&&404!==this.requested[t]?console.error("Rdflib: fetcher: Destructive operation on <".concat(this.requested[t],"> file being fetched! ")+t):(delete this.requested[t],delete this.nonexistent[t])}},{key:"webOperation",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,eW.E)(t);r.method=e,r.body=r.data||r.body,r.force=!0;var s=this;if(r.body&&!r.contentType)throw Error("Web operation sending data must have a defined contentType.");return r.contentType&&(r.headers=r.headers||{},r.headers["content-type"]=r.contentType),n.setCredentials(i,r),new Promise(function(t,n){s._fetch(i,r).then(function(r){if(r.ok)("PUT"===e||"PATCH"===e||"POST"===e||"DELETE"===e)&&s.invalidateCache(i),r.text?r.text().then(function(e){r.responseText=e,t(r)}):t(r);else{var a="Web error: "+r.status;r.statusText&&(a+=" ("+r.statusText+")"),a+=" on "+e+" of <"+i+">",r.responseText&&(a+=": "+r.responseText);var o=Error(a);o.response=r,n(o)}},function(t){n(Error("Fetch error for "+e+" of <"+i+">:"+t))})})}},{key:"lookUpThing",value:function(e,t){var r=this,n=this.store.uris(e);return(n=n.map(function(e){return y.En(e)})).forEach(function(e){r.lookedUp[e]=!0}),this.load(n,{referringTerm:t})}},{key:"getHeader",value:function(e,t){for(var r=this.store,n=e.value,i=r.each(void 0,this.ns.link("requestedURI"),r.rdfFactory.literal(n)),s=0;s<i.length;s++){var a=i[s];if(void 0!==a){var o=r.any(a,this.ns.link("response"));if(void 0!==o&&r.anyValue(o,this.ns.http("status"))&&r.anyValue(o,this.ns.http("status")).startsWith("2")){var u=r.each(o,this.ns.httph(t.toLowerCase()));if(u.length)return u.map(function(e){return e.value});return[]}}}}},{key:"saveRequestMetadata",value:function(e,t){var r=t.req,n=this.store,i=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers.accept),(0,eV.Y2)(i)&&n.add(n.rdfFactory.namedNode(e),this.ns.link("requestedBy"),i,this.appNode),t.original&&t.original.value!==e&&n.add(r,this.ns.link("orginalURI"),n.rdfFactory.literal(t.original.value),this.appNode);var s=new Date,a="["+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+"] ";n.add(r,this.ns.rdfs("label"),n.rdfFactory.literal(a+" Request for "+e),this.appNode),n.add(r,this.ns.link("requestedURI"),n.rdfFactory.literal(e),this.appNode),n.add(r,this.ns.link("status"),n.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(e,t){var r=this,n=this.store,i=n.bnode();return n.add(t.req,this.ns.link("response"),i,this.appNode),n.add(i,this.ns.http("status"),n.rdfFactory.literal(e.status),this.appNode),n.add(i,this.ns.http("statusText"),n.rdfFactory.literal(e.statusText),this.appNode),e.headers.forEach(function(e,s){n.add(i,r.ns.httph(s),r.store.rdfFactory.literal(e),r.appNode),"content-type"===s&&n.add(t.resource,r.ns.rdf("type"),n.rdfFactory.namedNode(eL.tE(e).value),r.appNode)}),i}},{key:"objectRefresh",value:function(e){var t=this.store.uris(e);if(void 0!==t)for(var r=0;r<t.length;r++)this.refresh(this.store.rdfFactory.namedNode(y.En(t[r])))}},{key:"refresh",value:function(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}},{key:"refreshIfExpired",value:function(e,t){var r=this.getHeader(e,"Expires");!r||new Date(r[0]).getTime()<=new Date().getTime()?this.refresh(e,t):t(!0,"Not expired",{})}},{key:"retract",value:function(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[y.En(e.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(e){return void 0===this.requested[e]?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}},{key:"isPending",value:function(e){return!0===this.requested[e]}},{key:"unload",value:function(e){this.store.removeDocument(e),delete this.requested[e.value]}},{key:"addHandler",value:function(e){this.handlers.push(e),e.register(this)}},{key:"retryNoCredentials",value:function(e,t){t.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];var r=Object.assign({},t,{credentials:"omit"});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,r)}},{key:"isCrossSite",value:function(e){if("undefined"==typeof document||!document.location)return!1;var t=y.Cx,r=""+document.location;return(t(r)&&t(e)&&t(r))!==t(e)}},{key:"handleError",value:function(e,t,r){if(this.isCrossSite(t)){if(r.credentials&&"include"===r.credentials&&!r.retriedWithNoCredentials)return this.retryNoCredentials(t,r);var i,s=n.crossSiteProxy(t);if(s&&!r.proxyUsed)return this.redirectToProxy(s,r)}return e instanceof Error?i="Fetch error: "+e.message:(i=e.statusText,e.responseText&&(i+=" ".concat(e.responseText))),this.failFetch(r,i,e.status||998,e)}},{key:"addType",value:function(e,t,r,n){var i=t;if(n){var s=r.any(i,this.ns.link("requestedURI"));s&&s.value!==n&&r.add(r.rdfFactory.namedNode(n),this.ns.rdf("type"),e,this.appNode)}for(;;){var a=r.any(i,this.ns.link("requestedURI"));if(a&&a.value&&r.add(r.rdfFactory.namedNode(a.value),this.ns.rdf("type"),e,this.appNode),!(i=r.any(void 0,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),i)))break;var o=r.any(i,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!o)break;var u=r.any(o,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!u||"301"!==u&&"302"!==u)break}}},{key:"handleResponse",value:function(e,t,r){var n=this,i=this.store,s=e.headers,a=r.req,o=this.saveResponseMetadata(e,r),u=this.normalizedContentType(r,s)||"",c=s.get("content-location");if(0===e.status)return this.handleError(e,t,r);if(e.status>=400)return 404===e.status&&(this.nonexistent[r.original.value]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,o).then(function(){var t=r.resource+" "+e.statusText;return n.failFetch(r,t,e.status,e)});var l=null,h=null;if(c&&(h=y.fj(c,t))!==t&&(l=h),200===e.status){if(this.addType(this.ns.link("Document"),a,i,t),l&&this.addType(this.ns.link("Document"),a,i,l),r.clearPreviousData)for(var f=i.statementsMatching(void 0,void 0,void 0,r.resource).slice(),d=0;d<f.length;d++)i.removeStatement(f[d]);var p=u.includes("image/")||u.includes("application/pdf");u&&p&&(this.addType(i.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),a,i,t),l&&this.addType(i.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),a,i,l))}if(c){if(!r.force&&l&&"done"===this.requested[h])return this.doneFetch(r,e);this.requested[h]=!0}this.parseLinkHeader(s.get("link"),r.original,a);var g=this.handlerForContentType(u,e);return g?e.text().then(function(t){return e.responseText=t,g.parse(n,t,r,e)}):(this.addStatus(a,"Fetch over. No data handled."),this.doneFetch(r,e))}},{key:"saveErrorResponse",value:function(e,t){var r=this,n=this.store;return e.text().then(function(e){e.length>10&&n.add(t,r.ns.http("content"),n.rdfFactory.literal(e),t)})}},{key:"handlerForContentType",value:function(e,t){if(!e)return null;var r=this.handlers.find(function(t){return e.match(t.pattern)});return r?new r(t):null}},{key:"guessContentType",value:function(e){return eZ[e.split(".").pop()]}},{key:"normalizedContentType",value:function(e,t){if(e.forceContentType)return e.forceContentType;var r=t.get("content-type");if(!r||r.includes("application/octet-stream")){var n=this.guessContentType(e.resource.value);if(n)return n}var i=y.TB(e.resource.value);return!r&&["file","chrome"].includes(i)?"text/xml":r}},{key:"redirectToProxy",value:function(e,t){var r=this;this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;var n=this.store,i=t.req;t.noMeta||(n.add(i,this.ns.link("redirectedTo"),n.rdfFactory.namedNode(e),i),this.addStatus(i,"redirected to new request")),this.requested[t.resource.value]="redirected",this.redirectedTo[t.resource.value]=e;var s=Object.assign({},t);return s.baseURI=t.resource.value,this.fetchUri(e,s).then(function(e){return s.noMeta||n.add(i,r.ns.link("redirectedRequest"),s.req,r.appNode),e})}},{key:"setRequestTimeout",value:function(e,t){var r=this;return new Promise(function(n){r.timeouts[e]=(r.timeouts[e]||[]).concat(setTimeout(function(){!r.isPending(e)||t.retriedWithNoCredentials||t.proxyUsed||n(r.failFetch(t,"Request to ".concat(e," timed out"),"timeout"))},r.timeout))})}},{key:"addFetchCallback",value:function(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}},{key:"acceptString",value:function(){var e="";for(var t in this.mediatypes)for(var r in""!==e&&(e+=", "),e+=t,this.mediatypes[t])e+=";"+r+"="+this.mediatypes[t][r];return e}}],[{key:"crossSiteProxy",value:function(e){return n.crossSiteProxyTemplate?n.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):void 0}},{key:"offlineOverride",value:function(e){var t,r=e;return"undefined"!=typeof window&&window.panes&&(t=window.panes.UI)&&t.preferences&&t.preferences.get("offlineModeUsingLocalhost")&&"http://"===r.slice(0,7)&&"localhost/"!==r.slice(7,17)&&(r="http://localhost/"+r.slice(7),p.A.warn("Localhost kludge for offline use: actually getting <"+r+">")),r}},{key:"proxyIfNecessary",value:function(e){var t;if("undefined"!=typeof window&&window.panes&&(t=window.panes.UI)&&t.isExtension)return e;if("undefined"!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.localSiteMap){var r=function e(t,r){var n=r[t.shift()];return n?"string"==typeof n?n+t.join("/"):t?e(t,n):null:null}(e.split("/").slice(2),$SolidTestEnvironment.localSiteMap);if(r)return r}return n.crossSiteProxyTemplate&&"undefined"!=typeof document&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===e.slice(0,5)?n.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e}},{key:"unsupportedProtocol",value:function(e){var t=y.TB(e);return"tel"===t||"mailto"===t||"urn"===t}},{key:"setCredentials",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.credentials&&(void 0!==t.withCredentials?t.credentials=t.withCredentials?"include":"omit":t.credentials="include")}}])}();(0,l.A)(tr,"HANDLERS",void 0),(0,l.A)(tr,"CONTENT_TYPE_BY_EXT",void 0),(0,l.A)(tr,"crossSiteProxyTemplate",void 0),tr.HANDLERS=te,tr.CONTENT_TYPE_BY_EXT=eZ},4400:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var n=r(5514),i=r(8566),s=r(9608),a=r(1701),o=r(5965),u=r(1568),c=r(879),l=r(1454),h=r(1555),f=r(4488),d=r(6105),p=r(4480),g=r(1396),y=r(8663),m=r(4523),v=r(7034),w=r(1779),b=r(2598);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}var x=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,n.A)(this,t),f=t,p=[""],f=(0,a.A)(f),(g=(0,s.A)(this,A()?Reflect.construct(f,p||[],(0,a.A)(this).constructor):f.apply(this,p))).statements=e,g.constraints=r,g.initBindings=i,g.optional=o,(0,u.A)(g,"termType",y.bD),(0,u.A)(g,"classOrder",c.A.Graph),(0,u.A)(g,"fetcher",void 0),(0,u.A)(g,"isVar",0),(0,u.A)(g,"ns",d.A),(0,u.A)(g,"rdfFactory",void 0),g.rdfFactory=l&&l.rdfFactory||h.A;var f,p,g,m,v=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,void 0)}}(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}(w.Eu);try{for(v.s();!(m=v.n()).done;)!function(){var e=m.value;g[e]=function(){var t;return(t=g.rdfFactory)[e].apply(t,arguments)}}()}catch(e){v.e(e)}finally{v.f()}return g}return(0,o.A)(t,e),(0,i.A)(t,[{key:"add",value:function(e,t,r,n){var i=this;return 1==arguments.length&&e.forEach(function(e){return i.add(e.subject,e.predicate,e.object,e.graph)}),this.statements.push(this.rdfFactory.quad(e,t,r,n))}},{key:"addStatement",value:function(e){return this.add(e)}},{key:"bnode",value:function(e){return this.rdfFactory.blankNode(e)}},{key:"addAll",value:function(e){var t=this;e.forEach(function(e){t.add(e.subject,e.predicate,e.object,e.graph)})}},{key:"any",value:function(e,t,r,n){var i=this.anyStatementMatching(e,t,r,n);if(null==i);else if(null==e)return i.subject;else if(null==t)return i.predicate;else if(null==r)return i.object;return null}},{key:"anyValue",value:function(e,t,r,n){var i=this.any(e,t,r,n);return i?i.value:void 0}},{key:"anyJS",value:function(e,t,r,n){var i=this.any(e,t,r,n);return i?p.A.toJS(i):void 0}},{key:"anyStatementMatching",value:function(e,t,r,n){var i=this.statementsMatching(e,t,r,n,!0);if(i&&0!==i.length)return i[0]}},{key:"id",value:function(e){return this.rdfFactory.id(e)}},{key:"statementsMatching",value:function(e,t,r,n,i){var s=this.statements.filter(function(i){return(!e||e.equals(i.subject))&&(!t||t.equals(i.predicate))&&(!r||r.equals(i.object))&&(!n||n.equals(i.graph))});return i?0===s.length?[]:[s[0]]:s}},{key:"bottomTypeURIs",value:function(e){var t,r,n,i,s,a;for(var o in t=[],e)if(e.hasOwnProperty(o)){for(a=e[o],s=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(o)),r=!0,n=0,i=s.length;n<i;n++)if(s[n].uri in e){r=!1;break}r&&(t[o]=a)}return t}},{key:"collection",value:function(){return new l.A}},{key:"each",value:function(e,t,r,n){var i=[],s=this.statementsMatching(e,t,r,n,!1);if(null==e)for(var a=0,o=s.length;a<o;a++)i.push(s[a].subject);else if(null==t)for(var u=0,c=s.length;u<c;u++)i.push(s[u].predicate);else if(null==r)for(var l=0,h=s.length;l<h;l++)i.push(s[l].object);else if(null==n)for(var f=0,d=s.length;f<d;f++)i.push(new b.A(s[f].graph.value));return i}},{key:"equals",value:function(e){return!!e&&this.hashString()===e.hashString()}},{key:"findMembersNT",value:function(e){for(var t in(d={})[e.toNT()]=!0,s={},o=this.transitiveClosure(d,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0))if(o.hasOwnProperty(t)){u=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(t));for(var r,n,i,s,a,o,u,c,l,h,f,d,p,g,y=0,m=u.length;y<m;y++)s[(p=u[y]).subject.toNT()]=p;c=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(t));for(var v=0,w=c.length;v<w;v++)for(i=0,a=c[v],r=(l=this.statementsMatching(void 0,a)).length;i<r;i++)s[(p=l[i]).subject.toNT()]=p;h=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(t));for(var b=0,_=h.length;b<_;b++)for(g=0,a=h[b],n=(f=this.statementsMatching(void 0,a)).length;g<n;g++)s[(p=f[g]).object.toNT()]=p}return s}},{key:"findMemberURIs",value:function(e){return this.NTtoURI(this.findMembersNT(e))}},{key:"findSubClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(e){t="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",o=[],r=this.statementsMatching(e,void 0,void 0);for(var t,r,n,i,s,a,o,u=0,c=r.length;u<c;u++)if((a=r[u]).predicate.uri===t)o[a.object.toNT()]=a;else{n=this.each(a.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(var l=0,h=n.length;l<h;l++)o[n[l].toNT()]=a}i=this.statementsMatching(void 0,void 0,e);for(var f=0,d=i.length;f<d;f++){a=i[f],s=this.each(a.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(var p=0,g=s.length;p<g;p++)o[s[p].toNT()]=a}return this.transitiveClosure(o,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(e){return this.NTtoURI(this.findTypesNT(e))}},{key:"connectedStatements",value:function(e,t,r){r=r||[];for(var n=[e],i={},s={},a=[],o=this;n.length;)!function(e){var u=function(e){"BlankNode"!==e.termType||i[e.value]||(i[e.value]=!0,n.push(e))},c=o.statementsMatching(null,null,e,t).concat(o.statementsMatching(e,null,null,t));(c=c.filter(function(e){if(r[e.predicate.value])return!1;var t=e.toNT();return!s[t]&&(s[t]=!0,!0)})).forEach(function(e){u(e.subject),u(e.object)}),a=a.concat(c)}(n.shift());return a}},{key:"formula",value:function(e){return new t}},{key:"fromNT",value:function(e){var t,r,n;switch(e[0]){case"<":return this.sym(e.slice(1,-1));case'"':if(n=void 0,t=void 0,(r=e.lastIndexOf('"'))<e.length-1){if("@"===e[r+1])n=e.slice(r+2);else if("^^"===e.slice(r+1,r+3))t=this.fromNT(e.slice(r+3));else throw Error("Can't convert string from NT: "+e)}return e=(e=(e=(e=e.slice(1,r)).replace(/\\"/g,'"')).replace(/\\n/g,"\n")).replace(/\\\\/g,"\\"),this.rdfFactory.literal(e,n||t);case"_":return this.rdfFactory.blankNode(e.slice(2));case"?":return new v.A(e.slice(1))}throw Error("Can't convert from NT: "+e)}},{key:"holds",value:function(e,t,r,n){var i;if(1==arguments.length){if(!e)return!0;if(e instanceof Array){for(i=0;i<e.length;i++)if(!this.holds(e[i]))return!1;return!0}if((0,m.SH)(e))return this.holds(e.subject,e.predicate,e.object,e.graph);if(e.statements)return this.holds(e.statements)}return null!=this.anyStatementMatching(e,t,r,n)}},{key:"holdsStatement",value:function(e){return this.holds(e.subject,e.predicate,e.object,e.graph)}},{key:"list",value:function(e,t){if(t.rdfFactory.supports.COLLECTIONS){var r=t.rdfFactory.collection();return e.forEach(function(e){r.append(e)}),r}var n=t.rdfFactory.blankNode(),i=(0,w.XV)(t.rdfFactory,n,e);return t.addAll(i),n}},{key:"NTtoURI",value:function(e){var t,r,n={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],"<"===t[0]&&(n[t.slice(1,-1)]=r));return n}},{key:"serialize",value:function(e,t,r,n){return(0,g.A)(r,this,e,t,void 0,n)}},{key:"substitute",value:function(e){var r=this.statements.map(function(t){return t.substitute(e)}),n=new t;return n.addAll(r),n}},{key:"sym",value:function(e,t){if(t)throw Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(e)}},{key:"the",value:function(e,t,r,n){var i=this.any(e,t,r,n);return null==i&&f.A.error("No value found for the() {"+e+" "+t+" "+r+"}."),i}},{key:"transitiveClosure",value:function(e,t,r){var n,i,s,a,o,u={};Object.assign(u,e);for(var c={};;){if(null==(o=function(){for(var e in u)if(u.hasOwnProperty(e))return e}()))return c;for(n=0,i=(a=r?this.each(void 0,t,this.fromNT(o)):this.each(this.fromNT(o),t)).length;n<i;n++)(s=a[n].toNT())in c||s in u||(u[s]=u[o]);c[o]=u[o],delete u[o]}}},{key:"topTypeURIs",value:function(e){var t,r,n,i,s,a,o;for(r in a=[],e)if(e.hasOwnProperty(r)){for(t=0,o=e[r],i=0,n=(s=this.each(this.rdfFactory.namedNode(r),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"))).length;t<n;t++)if("http://www.w3.org/2000/01/rdf-schema#Resource"!==s[t].uri){i++;break}i||(a[r]=o)}return a["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete a["http://www.w3.org/2000/01/rdf-schema#Resource"],a["http://www.w3.org/2002/07/owl#Thing"]&&delete a["http://www.w3.org/2002/07/owl#Thing"],a}},{key:"toString",value:function(){return"{"+this.statements.join("\n")+"}"}},{key:"variable",value:function(e){return new v.A(e)}},{key:"whether",value:function(e,t,r,n){return this.statementsMatching(e,t,r,n,!1).length}}])}(p.A)},7847:(e,t,r)=>{"use strict";r.d(t,{JB:()=>g,cO:()=>y,cg:()=>v,st:()=>m,ov:()=>v});var n=r(1407),i=r(4400),s=r(1558),a=r(1568),o=r(2778),u=r(8841),c=r(6130);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=h(h({},c.A),{},{fetcher:function(e,t){return new u.A(e,t)},graph:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new o.A(e,t||{rdfFactory:c.A})},lit:function(e,t,r){return this.literal(""+e,t||r)},st:function(e,t,r,n){return this.quad(e,t,r,n)}}),d={};for(var p in f)"function"==typeof f[p]&&(d[p]=f[p].bind(f));d.fetcher;var g=d.graph,y=d.lit,m=d.st,v=d.namedNode;d.variable,d.blankNode,d.defaultGraph,d.literal,d.quad,d.triple,new i.A,s.A.fromValue,n.A.nextId},538:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(1855),i=r(5514),s=r(8566),a=r(9608),o=r(1701),u=r(5965),c=r(1568),l=r(879),h=r(2598),f=r(4480),d=r(8663),p=r(4523);let g={boolean:new h.A("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new h.A("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new h.A("http://www.w3.org/2001/XMLSchema#decimal"),double:new h.A("http://www.w3.org/2001/XMLSchema#double"),integer:new h.A("http://www.w3.org/2001/XMLSchema#integer"),langString:new h.A("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new h.A("http://www.w3.org/2001/XMLSchema#string")};function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}var m=function(e){function t(e,r,n){var s,u,f;return(0,i.A)(this,t),u=t,f=[e],u=(0,o.A)(u),s=(0,a.A)(this,y()?Reflect.construct(u,f||[],(0,o.A)(this).constructor):u.apply(this,f)),(0,c.A)(s,"termType",d.QW),(0,c.A)(s,"classOrder",l.A.Literal),(0,c.A)(s,"datatype",g.string),(0,c.A)(s,"isVar",0),(0,c.A)(s,"language",""),r?(s.language=r,s.datatype=g.langString):n?s.datatype=h.A.fromValue(n):s.datatype=g.string,s}return(0,u.A)(t,e),(0,s.A)(t,[{key:"copy",value:function(){return new t(this.value,this.lang,this.datatype)}},{key:"equals",value:function(e){return!!e&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.equals(e.datatype))}},{key:"lang",get:function(){return this.language},set:function(e){this.language=e||""}},{key:"toNT",value:function(){return t.toNT(this)}},{key:"toString",value:function(){return""+this.value}}],[{key:"toNT",value:function(e){if("number"==typeof e.value)return""+e.value;if("string"!=typeof e.value)throw Error("Value of RDF literal is not string or number: "+e.value);var t=e.value;return t='"'+(t=(t=(t=(t=t.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r"))+'"',e.language?t+="@"+e.language:e.datatype.equals(g.string)||(t+="^^"+e.datatype.toCanonical()),t}},{key:"fromBoolean",value:function(e){return new t(e?"1":"0",null,g.boolean)}},{key:"fromDate",value:function(e){if(!(e instanceof Date))throw TypeError("Invalid argument to Literal.fromDate()");var r=function(e){return(""+(100+e)).slice(1,3)};return new t(""+e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+"Z",null,g.dateTime)}},{key:"fromNumber",value:function(e){if("number"!=typeof e)throw TypeError("Invalid argument to Literal.fromNumber()");var r,n=e.toString();return r=0>n.indexOf("e")&&Math.abs(e)<=Number.MAX_SAFE_INTEGER?Number.isInteger(e)?g.integer:g.decimal:g.double,new t(n,null,r)}},{key:"fromValue",value:function(e){if((0,p.c$)(e))return e;switch((0,n.A)(e)){case"object":if(e instanceof Date)return t.fromDate(e);case"boolean":return t.fromBoolean(e);case"number":return t.fromNumber(e);case"string":return new t(e)}throw Error("Can't make literal from "+e+" of type "+(0,n.A)(e))}}])}(f.A)},4488:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n={debug:function(e){},warn:function(e){},info:function(e){},error:function(e){},success:function(e){},msg:function(e){}}},2598:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r(5514),i=r(8566),s=r(9608),a=r(1701),o=r(5965),u=r(1568),c=r(879),l=r(4480),h=r(8663),f=r(8819),d=r(4523);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var g=function(e){function t(e){var r,i,o;if((0,n.A)(this,t),i=t,o=[(0,f.E)(e)],i=(0,a.A)(i),r=(0,s.A)(this,p()?Reflect.construct(i,o||[],(0,a.A)(this).constructor):i.apply(this,o)),(0,u.A)(r,"termType",h.Kk),(0,u.A)(r,"classOrder",c.A.NamedNode),!r.value)throw Error("Missing IRI for NamedNode");if(!r.value.includes(":"))throw Error('NamedNode IRI "'+e+'" must be absolute.');if(r.value.includes(" "))throw Error('Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.');return r}return(0,o.A)(t,e),(0,i.A)(t,[{key:"dir",value:function(){var e=this.value.split("#")[0],r=e.slice(0,-1).lastIndexOf("/"),n=e.indexOf("//");return n>=0&&r<n+2||r<0?null:new t(e.slice(0,r+1))}},{key:"site",value:function(){var e=this.value.split("#")[0],r=e.indexOf("//");if(r<0)throw Error("This URI does not have a web site part (origin)");var n=e.indexOf("/",r+2);return new t(n<0?e.slice(0)+"/":e.slice(0,n+1))}},{key:"doc",value:function(){return 0>this.value.indexOf("#")?this:new t(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(e){this.value=e}}],[{key:"fromValue",value:function(e){return null==e||(0,d.D0)(e)?e:new t(e)}}])}(l.A)},6105:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(2598);function i(e,t){var r=t||{namedNode:function(e){return new n.A(e)}};return function(t){return r.namedNode(e+(t||""))}}},4480:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5514),i=r(8566),s=r(1568),a=(0,i.A)(function e(t){(0,n.A)(this,e),(0,s.A)(this,"termType",void 0),(0,s.A)(this,"classOrder",void 0),(0,s.A)(this,"value",void 0),this.value=t},[{key:"substitute",value:function(e){return this}},{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}},{key:"equals",value:function(e){return!!e&&this.termType===e.termType&&this.value===e.value}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(e){return this.equals(e)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw Error("Node.toString() is abstract - see the subclasses instead")}}]);(0,s.A)(a,"fromValue",void 0),(0,s.A)(a,"toJS",void 0)},1558:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(1454),i=r(4480),s=r(6105),a=r(4523);i.A.fromValue=n.Y;let o=i.A;var u={xsd:(0,s.A)("http://www.w3.org/2001/XMLSchema#")};i.A.toJS=function(e){return(0,a.P3)(e)?e.elements.map(i.A.toJS):(0,a.c$)(e)?e.datatype.equals(u.xsd("boolean"))?"1"===e.value||"true"===e.value:e.datatype.equals(u.xsd("dateTime"))||e.datatype.equals(u.xsd("date"))?new Date(e.value):e.datatype.equals(u.xsd("integer"))||e.datatype.equals(u.xsd("float"))||e.datatype.equals(u.xsd("decimal"))?Number(e.value):e.value:e}},1396:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(1390),i=r(8663);function s(e,t,r,s,a,o){r=r||(null==e?void 0:e.value);var u=o||{};s=s||i.sT;var c=void 0;try{var l=(0,n.A)(t);u.flags&&l.setFlags(u.flags);var h=t.statementsMatching(void 0,void 0,void 0,e);switch("namespaces"in t&&l.suggestNamespaces(t.namespaces),u.namespaces&&l.setNamespaces(u.namespaces),l.setBase(r),s){case i.JG:return c=l.statementsToXML(h),f(null,c);case i.ny:case i.MG:return c=l.statementsToN3(h),f(null,c);case i.sT:case i.hu:return l.setFlags("si"),c=l.statementsToN3(h),f(null,c);case i.bM:return l.setFlags("deinprstux"),c=l.statementsToNTriples(h),f(null,c);case i.i2:return l.setFlags("si dr"),c=l.statementsToJsonld(h),f(null,c);case i._0:case i.BR:return l.setFlags("deinprstux q"),c=l.statementsToNTriples(h),f(null,c);default:throw Error("Serialize: Content-type "+s+" not supported for data write.")}}catch(e){if(a)return a(e,void 0);throw e}function f(e,t){if(!a)return t;a(e,t)}}},1390:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(5514),i=r(8566),s=r(1568),a=r(6416),o=r(2761),u=r(1555);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.A;return{boolean:e.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:e.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:e.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:e.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:e.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:e.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:e.namedNode("http://www.w3.org/2001/XMLSchema#string")}}c(u.A);var l=r(6220),h=r.n(l),f=r(5930);function d(e){return new p(e)}var p=function(){function e(t){(0,n.A)(this,e),(0,s.A)(this,"_notQNameChars","	\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~"),(0,s.A)(this,"_notNameChars",this._notQNameChars+":"),(0,s.A)(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),(0,s.A)(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),(0,s.A)(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];var r=Object.keys(h()());for(var i in r){var a=h()()[r[i]](""),o=r[i];this.prefixes[a]=o,this.namespaces[o]=a}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=t,this.rdfFactory=t.rdfFactory||u.A,this.xsd=c(this.rdfFactory)}return(0,i.A)(e,[{key:"setBase",value:function(e){return this.base=e,this}},{key:"setFlags",value:function(e){return this.flags=e||"",this}},{key:"toStr",value:function(e){var t=e.toNT();return"Graph"===e.termType&&(this.formulas[t]=e),t}},{key:"fromStr",value:function(e){if("{"===e[0]){var t=this.formulas[e];return t||console.log("No formula object for "+e),t}return this.store.fromNT(e)}},{key:"setNamespaces",value:function(e){for(var t in e)this.setPrefix(t,e[t]);return this}},{key:"setPrefix",value:function(e,t){if("default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t){for(var r in this.prefixes)this.prefixes[r]==e&&delete this.prefixes[r];this.prefixes[t]=e,this.namespaces[e]=t}}},{key:"suggestPrefix",value:function(e,t){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t&&(e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))}},{key:"suggestNamespaces",value:function(e){for(var t in e)this.suggestPrefix(t,e[t]);return this}},{key:"checkIntegrity",value:function(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")}},{key:"makeUpPrefix",value:function(e){var t=e,r=(function(t){return!!this.validPrefix.test(t)&&"ns"!==t&&!(t in this.namespaces)&&(this.prefixes[e]=t,this.namespaces[t]=e,t)}).bind(this);"#/".indexOf(t[t.length-1])>=0&&(t=t.slice(0,-1));var n=t.lastIndexOf("/");n>=0&&(t=t.slice(n+1));for(var i=0;i<t.length;)if(this.prefixchars.indexOf(t[i]))i++;else break;if((t=t.slice(0,i)).length<6&&r(t))return t;if(r(t.slice(0,3)))return t.slice(0,3);if(r(t.slice(0,2)))return t.slice(0,2);if(r(t.slice(0,4)))return t.slice(0,4);if(r(t.slice(0,1)))return t.slice(0,1);if(r(t.slice(0,5)))return t.slice(0,5);this.validPrefix.test(t)||(t="n");for(var s=0;;s++)if(r(t.slice(0,3)+s))return t.slice(0,3)+s}},{key:"rootSubjects",value:function(e){for(var t={},r={},n={},i=0;i<e.length;i++){var s=e[i],a=function(e){t.hasOwnProperty(e)||(t[e]=[]),t[e].push(s.subject)};[s.subject,s.predicate,s.object].map(function(e){"BlankNode"===e.termType?n[e.toNT()]=!0:"Collection"===e.termType&&e.elements.forEach(function(e){a(e)})}),a(e[i].object);var o=r[this.toStr(s.subject)];o||(o=[]),o.push(s),r[this.toStr(s.subject)]=o}var u=[];for(var c in r)if(r.hasOwnProperty(c)){var l=this.fromStr(c);if("BlankNode"!==l.termType||!t[l]||1!==t[l].length){u.push(l);continue}}this.incoming=t;for(var h={},f=0;f<u.length;f++)h[u[f].toNT()]=!0;return{roots:u,subjects:r,rootsHash:h,incoming:t}}},{key:"toN3",value:function(e){return this.statementsToN3(e.statements)}},{key:"explicitURI",value:function(e){return"<"+(e=0>this.flags.indexOf("r")&&this.base?a.zI(this.base,e):this.flags.indexOf("u")>=0?function(e){for(var t,r="",n=0;n<e.length;n++)(t=e.charCodeAt(n))>65535?r+="\\U"+("00000000"+t.toString(16)).slice(-8):t>126?r+="\\u"+("0000"+t.toString(16)).slice(-4):r+=e[n];return r}(e):encodeURI(decodeURI(e)))+">"}},{key:"statementsToNTriples",value:function(e){var t=e.slice();t.sort();for(var r="",n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i=this,s=this.store,a=this.rdfFactory,o=function e(t){if("Collection"!==t.termType)return i.atomicTermToN3(t);for(var o=t.elements,u=s.sym(n+"nill"),c=o.length-1;c>=0;c--){var l=a.blankNode();r+=e(l)+" "+e(s.sym(n+"first"))+" "+e(o[c])+".\n",r+=e(l)+" "+e(s.sym(n+"rest"))+" "+e(u)+".\n",u=l}return i.atomicTermToN3(u)},u=0;u<t.length;u++){var c=t[u],l="";l+=o(c.subject)+" "+o(c.predicate)+" "+o(c.object)+" ",this.flags.indexOf("q")>=0&&(l+=o(c.why)+" "),l+=".\n",r+=l}return r}},{key:"statementsToN3",value:function(t){var r=this.store,n={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"};t.sort(function(e,t){return o.VQ(e,t,r,n)}),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var i={};0>this.flags.indexOf("s")&&(i["http://www.w3.org/2002/07/owl#sameAs"]="="),0>this.flags.indexOf("t")&&(i["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),0>this.flags.indexOf("i")&&(i["http://www.w3.org/2000/10/swap/log#implies"]="=>");var s=function(e){for(var t="",r=0;r<e;r++)t+=" ";return t},a=function e(t){for(var r="",n=0;n<t.length;n++){var i=t[n],s="string"==typeof i?i:e(i);if(0!==n){var a=r.slice(-1)||" ";","===s||";"===s||("."!==s||"0123456789.:".includes(a))&&(r+=" ")}r+=s}return r},u=(function(e){for(var t=this.rootSubjects(e),r=t.roots,n=[],i=0;i<r.length;i++){var s=r[i];n.push("BlankNode"!==s.termType||t.incoming[s]?[h(s,t)].concat([c(s,t)]).concat(["."]):l(s,t,!0).concat(["."]))}return n}).bind(this),c=(function(e,t){var r=[],n=null,s=t.subjects[this.toStr(e)]||[];if(void 0===s)throw Error("Cant find statements for "+e);for(var a=[],o=0;o<s.length;o++){var u=s[o];u.predicate.uri===n?a.push(","):(n&&(r=r.concat([a]).concat([";"]),a=[]),r.push(i[u.predicate.uri]?i[u.predicate.uri]:h(u.predicate,t))),n=u.predicate.uri,a.push(l(u.object,t))}return r.concat([a])}).bind(this),l=(function(e,t,r){return"BlankNode"===e.termType&&(r||void 0===t.rootsHash[e.toNT()])?t.subjects[this.toStr(e)]?["[",c(e,t),"]"]:"[]":h(e,t)}).bind(this);e.prototype.termToN3=h;var h=(function(e,t){var r,n;switch(e.termType){case"Graph":return(n=(n=["{"]).concat(u(e.statements))).concat(["}"]);case"Collection":for(r=0,n=["("];r<e.elements.length;r++)n.push([l(e.elements[r],t)]);return n.push(")"),n;default:return this.atomicTermToN3(e)}}).bind(this),f=(function(){var e="";for(var t in 0>this.flags.indexOf("d")&&this.defaultNamespace&&(e+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(t)&&this.namespacesUsed[t]&&(e+="@prefix "+this.prefixes[t]+": "+this.explicitURI(t)+".\n");return e+"\n"}).bind(this),d=u(t);return f()+function e(t,r){var n="",i=1e5;void 0===r&&(r=-1);for(var o=0;o<t.length;o++){var u=t[o];if("string"!=typeof u){var c=e(u,r+1);if(c.length<10*(80-4*r)&&0>c.indexOf('"""')){var l=a(u);l.length<80-4*r&&(u=l,c="")}c&&(i=1e4),n+=c}if("string"==typeof u){if(1===u.length&&"\n"===n.slice(-1)&&",.;".indexOf(u)>=0){n=n.slice(0,-1),"."==u&&"0123456789.:".includes(n.charAt(n.length-1))&&(n+=" ",i+=1),n+=u+"\n",i+=1;continue}if(i<4*r+4||i+u.length+1<80&&0>";.".indexOf(n[n.length-2]))n=n.slice(0,-1)+" "+u+"\n",i+=u.length+1;else{var h=s(4*r)+u;n+=h+"\n",i=h.length,r<0&&(n+="\n",i=1e5)}}}return n}(d)}},{key:"atomicTermToN3",value:function(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var r=e.value;if("string"!=typeof r)throw TypeError("Value of RDF literal node must be a string");if(e.datatype&&0>this.flags.indexOf("x"))switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return r;case"http://www.w3.org/2001/XMLSchema#decimal":return 0>r.indexOf(".")&&(r+=".0"),r;case"http://www.w3.org/2001/XMLSchema#double":var n=r.toLowerCase().indexOf("e")>0;return 0>r.indexOf(".")&&!n&&(r+=".0"),n||(r+="e0"),r;case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===e.value?"true":"false"}var i=this.stringToN3(e.value);return e.language?i+="@"+e.language:e.datatype.equals(this.xsd.string)||(i+="^^"+this.atomicTermToN3(e.datatype,t)),i;case"NamedNode":return this.symbolToN3(e);case"DefaultGraph":return"";default:throw Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}}},{key:"stringToN3",value:function(e,t){t||(t="e");var r,n,i,s,a,o="";for(e.length>20&&'"'!==e.slice(-1)&&0>t.indexOf("n")&&(e.indexOf("\n")>0||e.indexOf('"')>0)?(s='"""',a=this.forbidden3):(s='"',a=this.forbidden1),r=0;r<e.length&&(a.lastIndex=0,null!=a.exec(e.slice(r)));){n=r+a.lastIndex-1,o+=e.slice(r,n);var u=e[n];'"'===u&&'"""'===s&&'"""'!==e.slice(n,n+3)?o+=u:(i='\b\f\r	\v\n\\"'.indexOf(u))>=0?o+="\\"+'bfrtvn\\"'[i]:t.indexOf("e")>=0?o+="\\u"+("000"+u.charCodeAt(0).toString(16).toLowerCase()).slice(-4):o+=u,r=n+1}return s+o+e.slice(r)+s}},{key:"symbolToN3",value:function(e){var t=e.uri,r=t.indexOf("#");if(r<0&&0>this.flags.indexOf("/")&&(r=t.lastIndexOf("/")),r>=0&&0>this.flags.indexOf("p")&&(0===t.indexOf("http")||0===t.indexOf("ws")||0===t.indexOf("file"))){for(var n=!0,i=r+1;i<t.length;i++)if(this._notNameChars.indexOf(t[i])>=0){n=!1;break}if(n){var s=t.slice(r+1),a=t.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace===a&&0>this.flags.indexOf("d"))return this.flags.indexOf("k")>=0&&0>this.keyords.indexOf(s)?s:":"+s;var o=this.prefixes[a];if(o||(o=this.makeUpPrefix(a)),o)return this.namespacesUsed[a]=!0,o+":"+s}}return this.explicitURI(t)}},{key:"writeStore",value:function(e){var t=this.store,r=t.fetcher,n=r&&r.appNode,i=this.store.index[3];for(var s in i){var a=t.fromNT(s);n&&a.equals(n)||e("\n"+this.atomicTermToN3(a)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,a))+" }.\n")}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(r){e("\n<"+r.object.value+"> log:metadata {\n");var n=t.statementsMatching(void 0,void 0,void 0,r.subject);e(this.statementsToN3(this.statementsToN3(n))),e("}.\n")});var o=[];n&&o.push(n);var u=[];o.map(function(e){u=u.concat(t.statementsMatching(void 0,void 0,void 0,e))}),e(this.statementsToN3(u))}},{key:"statementsToXML",value:function(e){var t=[];t["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",n=function(e){for(var t="",r=0;r<e;r++)t+=" ";return t},i=function e(t){for(var r="",n=0;n<t.length;n++){var i=t[n];r+="string"==typeof i?i:e(i)}return r},s=(function(e){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var t=this.rootSubjects(e),r=t.roots,n=[],i=0;i<r.length;i++){var s=r[i];n.push(c(s,t))}return n}).bind(this);function o(e){return void 0===e?"@@@undefined@@@@":e.replace(/[&<"]/g,function(e){switch(e[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}var u=(function(e){return o(this.base?a.zI(this.base,e.uri):e.uri)}).bind(this),c=(function(e,t){var n,i,s,a,d=[],p=t.subjects[this.toStr(e)];if(void 0===p)return h(e,t);p.sort(function(e,t){var n=e.predicate.uri,i=t.predicate.uri;if(n.substring(0,r.length)===r||i.substring(0,r.length)===r)return n.localeCompare(i);var s=n.substring(r.length),a=i.substring(r.length),o=parseInt(s,10),u=parseInt(a,10);return isNaN(o)||isNaN(u)||o!==s||u!==a?n.localeCompare(i):o-u});for(var g=0;g<p.length;g++){if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===(s=p[g]).predicate.uri&&!n&&"NamedNode"===s.object.termType){n=s.object;continue}if((a=s.predicate).uri.substr(0,r.length)===r){var y=a.uri.substr(r.length),m=parseInt(y,10);y===m.toString()&&(a=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(i=f(a),s.object.termType){case"BlankNode":d=1===t.incoming[s.object].length?d.concat(["<"+i+' rdf:parseType="Resource">',c(s.object,t),"</"+i+">"]):d.concat(["<"+i+' rdf:nodeID="'+s.object.toNT().slice(2)+'"/>']);break;case"NamedNode":d=d.concat(["<"+i+' rdf:resource="'+u(s.object)+'"/>']);break;case"Literal":d=d.concat(["<"+i+(s.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+o(s.object.datatype.uri)+'"')+(s.object.language?' xml:lang="'+s.object.language+'"':"")+">"+o(s.object.value)+"</"+i+">"]);break;case"Collection":d=d.concat(["<"+i+' rdf:parseType="Collection">',l(s.object,t),"</"+i+">"]);break;default:throw Error("Can't serialize object of type "+s.object.termType+" into XML")}}var v=n?f(n):"rdf:Description",w="";return"BlankNode"===e.termType?t.incoming[e]&&1===t.incoming[e].length||(w=' rdf:nodeID="'+e.toNT().slice(2)+'"'):w=' rdf:about="'+u(e)+'"',["<"+v+w+">"].concat([d]).concat(["</"+v+">"])}).bind(this);function l(e,t){for(var r=[],n=0;n<e.elements.length;n++)r.push(c(e.elements[n],t));return r}var h=(function(e,t){var r=[],n=t.subjects[this.toStr(e)];if(!n)return r;n.sort();for(var i=0;i<n.length;i++){var s=n[i];switch(s.object.termType){case"BlankNode":r=t.rootsHash[s.object.toNT()]?r.concat(["<"+f(s.predicate)+' rdf:nodeID="'+s.object.toNT().slice(2)+'">',"</"+f(s.predicate)+">"]):r.concat(["<"+f(s.predicate)+' rdf:parseType="Resource">',h(s.object,t),"</"+f(s.predicate)+">"]);break;case"NamedNode":r=r.concat(["<"+f(s.predicate)+' rdf:resource="'+u(s.object)+'"/>']);break;case"Literal":r=r.concat(["<"+f(s.predicate)+(s.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+o(s.object.datatype.value)+'"')+(s.object.language?' xml:lang="'+s.object.language+'"':"")+">"+o(s.object.value)+"</"+f(s.predicate)+">"]);break;case"Collection":r=r.concat(["<"+f(s.predicate)+' rdf:parseType="Collection">',l(s.object,t),"</"+f(s.predicate)+">"]);break;default:throw Error("Can't serialize object of type "+s.object.termType+" into XML")}}return r}).bind(this),f=(function(e){var r=e.uri,n=r.indexOf("#");if(n<0&&0>this.flags.indexOf("/")&&(n=r.lastIndexOf("/")),n<0)throw Error("Cannot make qname out of <"+r+">");for(var i=n+1;i<r.length;i++)if(this._notNameChars.indexOf(r[i])>=0)throw Error('Invalid character "'+r[i]+'" cannot be in XML qname for URI: '+r);var s=r.slice(n+1),a=r.slice(0,n+1);if(this.defaultNamespace&&this.defaultNamespace===a&&0>this.flags.indexOf("d"))return s;var o=this.prefixes[a];return o||(o=this.makeUpPrefix(a)),t[a]=!0,o+":"+s}).bind(this),d=s(e),p="<rdf:RDF";for(var g in this.defaultNamespace&&(p+=' xmlns="'+o(this.defaultNamespace)+'"'),t)if(t.hasOwnProperty(g)){var y=this.base&&this.flags.includes("z")?a.zI(this.base,g):g;p+="\n xmlns:"+this.prefixes[g]+'="'+o(y)+'"'}return function e(t,r){var s,a="",o=1e5;r||(r=0);for(var u=0;u<t.length;u++){var c=t[u];if("string"!=typeof c){var l=e(c,r+1);l.length<10*(80-4*r)&&0>l.indexOf('"""')&&(s=i(c)).length<80-4*r&&(c="   "+s,l=""),l&&(o=1e4),a+=l}"string"==typeof c&&(o<4*r+4?(a=a.slice(0,-1)+" "+c+"\n",o+=c.length+1):(a+=(s=n(4*r)+c)+"\n",o=s.length))}return a}([p+=">",d,"</rdf:RDF>"],-1)}},{key:"statementsToJsonld",value:function(e){var t=this.statementsToN3(e);return JSON.stringify(f.parse(t),null,2)}}])}()},7059:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(5514),i=r(8566),s=r(1568),a=r(4480),o=r(8663),u=r(5750),c=new u.A,l=function(){function e(t,r,i,o){(0,n.A)(this,e),(0,s.A)(this,"subject",void 0),(0,s.A)(this,"predicate",void 0),(0,s.A)(this,"object",void 0),(0,s.A)(this,"graph",void 0),this.subject=a.A.fromValue(t),this.predicate=a.A.fromValue(r),this.object=a.A.fromValue(i),this.graph=void 0==o?c:a.A.fromValue(o)}return(0,i.A)(e,[{key:"why",get:function(){return this.graph},set:function(e){this.graph=e}},{key:"equals",value:function(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}},{key:"substitute",value:function(t){return new e(this.subject.substitute(t),this.predicate.substitute(t),this.object.substitute(t),(0,u.U)(this.graph)?this.graph:this.graph.substitute(t))}},{key:"toCanonical",value:function(){var e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==o.ic&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),(0,u.U)(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}}])}()},2778:(e,t,r)=>{"use strict";r.d(t,{A:()=>L});var n=r(5514),i=r(8566),s=r(9608),a=r(1701),o=r(5965),u=r(1568),c=r(879),l=r(2523),h=r(4400),f=r(1779),d=r(2761),p=r(4523),g=r(1558),y=r(7034),m=r(4488),v=r(6416),w=(0,i.A)(function e(t,r){(0,n.A)(this,e),this.pat=new L,this.vars=[],this.name=t,this.id=r});function b(e,t,r,n){function i(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&(r+="    "+t+" -> "+e[t]);return r}function s(e,t){return this.trunkBindings=t,this.originalCallback=e,this.branches=[],this}function a(e,t){return this.count=0,this.success=!1,this.done=!1,this.callback=e,this.onDone=t,this}s.prototype.checkAllDone=function(){var e;for(e=0;e<this.branches.length;e++)if(!this.branches[e].done)return;m.A.debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},s.prototype.doCallBacks=function(e,t){var r;if(e<0)return this.originalCallback(t);for(r=0;r<this.branches[e].results.length;r++)this.doCallBacks(e-1,function(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}(t,this.branches[e].results[r]))},a.prototype.reportMatch=function(e){this.callback(e),this.success=!0},a.prototype.reportDone=function(){this.done=!0,m.A.info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var o=function(e){return this.count=0,this.done=!1,this.results=[],this.junction=e,e.branches.push(this),this};function u(e,t){return e.nvars!==t.nvars?e.nvars-t.nvars:e.index.length-t.index.length}o.prototype.reportMatch=function(e){this.results.push(e)},o.prototype.reportDone=function(){m.A.debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),m.A.debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var c=0,h=function e(r,n,a,u,l,h,f){m.A.debug("Match begins, Branch count now: "+f.count+" for "+f.pattern_debug);var p,g,y=n.statements;if(0===y.length){if(m.A.debug("FOUND MATCH WITH BINDINGS:"+i(a)),0===n.optional.length)f.reportMatch(a);else{m.A.debug("OPTIONAL: "+n.optional);var w,b=new s(t,a),_=[];for(w=0;w<n.optional.length;w++)_[w]=new o(b),_[w].pattern_debug=n.optional[w];for(w=0;w<n.optional.length;w++)_[w].count=_[w].count+1,e(r,n.optional[w],a,"",l,t,_[w])}f.count--,m.A.debug("Match ends -- success , Branch count now: "+f.count+" for "+f.pattern_debug);return}var A=y.length;if(l){var x="match"+c++,T=function(t,i){var s=t.uri.split("#")[0];l.nowOrWhenFetched(s,void 0,function(i,s,o){i||console.log("Error following link to <"+t.uri+"> in query: "+s),e(r,n,a,u,l,h,f)})};for(g=0;g<A;g++){if(void 0!==a[(p=y[g]).subject]&&a[p.subject].uri&&l&&"unrequested"===l.getState((0,v.En)(a[p.subject].uri))){T(a[p.subject],x);return}if(void 0!==a[p.object]&&a[p.object].uri&&l&&"unrequested"===l.getState((0,v.En)(a[p.object].uri))){T(a[p.object],x);return}}}d(r,n,a,u,l,h,f)},f=function(e,t){var r,n,i=!0;for(r in e)e.hasOwnProperty(r)&&t[r]&&(n=t[r].test)&&!n(e[r])&&(i=!1);return i},d=function(e,t,r,n,s,a,o){var c,d,p,g,y,v,w,b,_,A,x=t.statements,T=x.length;for(c=0;c<T;c++)!function(e,t,r){var n,i,s,a;for(s=0,t.nvars=0,t.index=null,n=[t.subject,t.predicate,t.object,t.why],a=[e.subjectIndex,e.predicateIndex,e.objectIndex,e.whyIndex];s<4;s++){var o=n[s];if(o.uri&&o.uri===l.U);else if(o.isVar&&!(void 0!==r[o]))t.nvars++;else{if(o=function(e,t){var r=t[e];return void 0===r?e:r}(n[s],r),e.redirections[e.id(o)]&&(o=e.redirections[e.id(o)]),!(i=a[s][e.id(o)]))return t.index=[],!1;(null===t.index||t.index.length>i.length)&&(t.index=i)}}null===t.index&&(t.index=e.statements)}(e,w=x[c],r);x.sort(u),w=x[0];var E=e.formula();E.optional=t.optional,E.constraints=t.constraints,E.statements=x.slice(1),m.A.debug(n+"match2 searching "+w.index.length+" for "+w+"; bindings so far="+i(r));var k=w.index.length,N=0;for(b=0;b<k;b++)for(A=w.index[b],_=function e(t,r,n,i){if(t.length!==r.length)return[];if(!t.length)return[[[],null]];var s,a,o,u,c,h,f,d,p=function(t,r,n,i){var s=n[t];if(void 0===s){if(t.isVar){var a=[];return a[t]=r,[[a,null]]}s=t}if(!s.complexType)return(i.redirections[s]&&(s=i.redirections[s]),i.redirections[r]&&(r=i.redirections[r]),s.equals(r)||s.uri&&s.uri===l.U)?[[[],null]]:[];if(t instanceof Array)return r instanceof Array?e(t,r,n):[];throw Error("query.js: oops - code not written yet")}(t[0],r[0],n,i);if(0===p.length)return p;var g=[],y=p.length;for(a=0;a<y;a++){for(h in o=p[a][0],d=[],o)o.hasOwnProperty(h)&&(d[h]=o[h]);for(h in n)n.hasOwnProperty(h)&&(d[h]=n[h]);for(u=0,c=(s=e(t.slice(1),r.slice(1),d,i)).length;u<c;u++){for(h in f=s[u][0],o)o.hasOwnProperty(h)&&(f[h]=o[h]);g.push([f,null])}}return g}([w.subject,w.predicate,w.object,w.why],[A.subject,A.predicate,A.object,A.why],r,e),m.A.info(n+" From first: "+_.length+": "+function(e){var t,r="Bindings: ",n=e.length;for(t=0;t<n;t++)r+=i(e[t][0])+";\n	";return r}(_)),p=_.length,d=0;d<p;d++)if(y=[],f(v=_[d][0],t.constraints)){for(g in v)v.hasOwnProperty(g)&&(y[g]=v[g]);for(g in r)r.hasOwnProperty(g)&&(y[g]=r[g]);o.count++,N++,h(e,E,y,n+"  ",s,a,o)}else m.A.debug("Branch count CS: "+o.count);o.count--,0===N&&m.A.debug("Match2 fails completely on "+w),m.A.debug("Match2 ends, Branch count: "+o.count+" for "+o.pattern_debug),0===o.count&&(m.A.debug("Branch finished."),o.reportDone())},p=this;m.A.debug("Query on "+this.statements.length);var g=new a(t,n);g.count++,e.sync?h(p,e.pat,e.pat.initBindings,"",r,t,g):setTimeout(function(){h(p,e.pat,e.pat.initBindings,"",r,t,g)},0)}var _=r(8663),A=r(2598),x=r(7847),T=r(1396),E=r(1407),k=r(5750),N=r(538);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){(0,u.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(R=function(){return!!e})()}var C="http://www.w3.org/2002/07/owl#";function O(e,t,r,n){var i=e.any(t,r,void 0);return!!i&&(e.equate(i,n),!0)}function U(e,t,r,n){var i=e.any(void 0,r,n);return!!i&&(e.equate(i,t),!0)}function j(e,t,r,n,i){e.typeCallback&&e.typeCallback(e,n,i);var s=e.classActions[e.id(n)],a=!1;if(s)for(var o=0;o<s.length;o++)a=a||s[o](e,t,r,n,i);return a}var L=function(e){function t(e){var r,i,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.A)(this,t),r=t,i=[void 0,void 0,void 0,void 0,c],r=(0,a.A)(r),o=(0,s.A)(this,R()?Reflect.construct(r,i||[],(0,a.A)(this).constructor):r.apply(this,i)),(0,u.A)(o,"updater",void 0),(0,u.A)(o,"namespaces",void 0),(0,u.A)(o,"classActions",void 0),(0,u.A)(o,"propertyActions",void 0),(0,u.A)(o,"redirections",void 0),(0,u.A)(o,"aliases",void 0),(0,u.A)(o,"HTTPRedirects",void 0),(0,u.A)(o,"subjectIndex",void 0),(0,u.A)(o,"predicateIndex",void 0),(0,u.A)(o,"objectIndex",void 0),(0,u.A)(o,"whyIndex",void 0),(0,u.A)(o,"index",void 0),(0,u.A)(o,"features",void 0),(0,u.A)(o,"_universalVariables",void 0),(0,u.A)(o,"_existentialVariables",void 0),(0,u.A)(o,"rdfArrayRemove",void 0),(0,u.A)(o,"dataCallbacks",void 0),o.propertyActions={},o.classActions={},o.redirections=[],o.aliases=[],o.HTTPRedirects=[],o.subjectIndex=[],o.predicateIndex=[],o.objectIndex=[],o.whyIndex=[],o.index=[o.subjectIndex,o.predicateIndex,o.objectIndex,o.whyIndex],o.namespaces={},o.features=e||[],o.rdfArrayRemove=c.rdfArrayRemove||d.Uz,c.dataCallback&&(o.dataCallbacks=[c.dataCallback]),o.initPropertyActions(o.features),o}return(0,o.A)(t,e),(0,i.A)(t,[{key:"substitute",value:function(e){var r=this.statements.map(function(t){return t.substitute(e)}),n=new t;return n.add(r),n}},{key:"addDataCallback",value:function(e){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(e)}},{key:"applyPatch",value:function(e,t,r){var n,i=this,s=null;function a(a){if(e.delete){n=e.delete,s&&(n=n.substitute(s));var o=[],u=(n=n.statements).map(function(e){var r=i.statementsMatching(e.subject,e.predicate,e.object,t);return 0===r.length?(o.push(e),null):r[0]});if(o.length)return r("Could not find to delete: "+o.join("\n or "));u.map(function(e){i.remove(e)})}e.insert&&(n=e.insert,s&&(n=n.substitute(s)),(n=n.statements).map(function(e){e.graph=t,i.add(e.subject,e.predicate,e.object,e.graph)})),a()}if(e.where){var o=new w("patch");o.pat=e.where,o.pat.statements.map(function(e){e.graph=(0,x.cg)(t.value)}),o.sync=!0;var u=[];i.query(o,function(e){u.push(e)},i.fetcher,function(){return 0===u.length?r("No match found to be patched:"+e.where):u.length>1?r("Patch ambiguous. No patch done."):void(s=u[0],a(r))})}else a(r)}},{key:"declareExistential",value:function(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e}},{key:"initPropertyActions",value:function(e){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[j],(0,f.Do)(e,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(C,"sameAs")))]=[function(e,t,r,n,i){return e.equate(t,n),!0}]),(0,f.Do)(e,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(C,"InverseFunctionalProperty")))]=[function(e,t,r,n,i){return e.newPropertyAction(t,U)}]),(0,f.Do)(e,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(C,"FunctionalProperty")))]=[function(e,t,r,n,i){return e.newPropertyAction(t,O)}])}},{key:"addStatement",value:function(e){return this.add(e.subject,e.predicate,e.object,e.graph),this.statements.length}},{key:"add",value:function(e,t,r,n){if(1==arguments.length){if(e instanceof Array)for(l=0;l<e.length;l++)this.add(e[l]);else(0,p.aF)(e)?this.add(e.subject,e.predicate,e.object,e.graph):(0,p.ok)(e)&&this.add(e.statements);return this}n||(n=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof e&&(e=this.rdfFactory.namedNode(e)),t=g.A.fromValue(t);var i=g.A.fromValue(r);if(n=g.A.fromValue(n),!(0,p.CZ)(e))throw Error("Subject is not a subject type");if(!(0,p.fY)(t))throw Error("Predicate ".concat(t," is not a predicate type"));if(!(0,p.DJ)(i))throw Error("Object ".concat(i," is not an object type"));if(!(0,p.RN)(n))throw Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,t,n);var s=this.id(this.canon(t));h=this.propertyActions[s];var a=!1;if(h)for(l=0;l<h.length;l++)a=a||h[l](this,e,t,i,n);if(this.holds(e,t,i,n))return null;var o=[this.id(this.canon(e)),s,this.id(this.canon(i)),this.id(this.canon(n))];for(l=0,f=this.rdfFactory.quad(e,t,i,n);l<4;l++){var u=this.index[l],c=o[l];u[c]||(u[c]=[]),u[c].push(f)}if(this.statements.push(f),this.dataCallbacks){var l,h,f,d,y=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return I(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,void 0)}}(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}(this.dataCallbacks);try{for(y.s();!(d=y.n()).done;)(0,d.value)(f)}catch(e){y.e(e)}finally{y.f()}}return f}},{key:"canon",value:function(e){if(!e)return e;var t=this.redirections[this.id(e)];if(t)return t;switch(e.termType){case _.$Q:return new E.A(e.value);case _.r0:return e;case _.ic:return new k.A;case _.S:case _.bD:return e;case _.QW:return new N.A(e.value,e.language,e.datatype);case _.Kk:return new A.A(e.value);case _.P2:return new y.A(e.value);default:throw Error("Term Type not recognized for canonization: ".concat(e.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var r in t)t.hasOwnProperty(r)&&this.checkStatementList(t[r],e)}}},{key:"checkStatementList",value:function(e,t){void 0===t&&(t=0);for(var r,n=" found in "+["subject","predicate","object","why"][t]+" index.",i=0;i<e.length;i++){for(var s=[(r=e[i]).subject,r.predicate,r.object,r.graph],a=function(e,t){for(var r=0;r<e.length;r++)if(e[r].subject.equals(t.subject)&&e[r].predicate.equals(t.predicate)&&e[r].object.equals(t.object)&&e[r].why.equals(t.graph))return!0},o=0;o<4;o++){var u=this.canon(s[o]),c=this.id(u);this.index[o][c]&&a(this.index[o][c],r)}if(!a(this.statements,r))throw Error("Statement list does not statement "+r+"@"+r.graph+n)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(e,t){return Object.prototype.hasOwnProperty.call(e,"compareTerm")?e.compareTerm(t):c.A[e.termType]<c.A[t.termType]?-1:c.A[e.termType]>c.A[t.termType]?1:e.value<t.value?-1:e.value>t.value?1:0}},{key:"copyTo",value:function(e,t,r){r||(r=[]);var n=this.statementsMatching(e);-1!==(0,f.Do)(r,"two-direction")&&n.concat(this.statementsMatching(void 0,void 0,e));for(var i=0;i<n.length;i++){var s=n[i];switch(s.object.termType){case"NamedNode":this.add(t,s.predicate,s.object);break;case"Literal":case"BlankNode":case"Collection":this.add(t,s.predicate,s.object.copy(this))}-1!==(0,f.Do)(r,"delete")&&this.remove(s)}}},{key:"equate",value:function(e,t){var r=this.canon(e),n=this.canon(t),i=this.compareTerms(r,n);return!i||(i<0?this.replaceWith(n,r):this.replaceWith(r,n))}},{key:"formula",value:function(e){return new t(e)}},{key:"length",get:function(){return this.statements.length}},{key:"match",value:function(e,t,r,n){return this.statementsMatching(g.A.fromValue(e),g.A.fromValue(t),g.A.fromValue(r),g.A.fromValue(n))}},{key:"mentionsURI",value:function(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]}},{key:"newExistential",value:function(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)}},{key:"newPropertyAction",value:function(e,t){var r=this.id(e);this.propertyActions[r]||(this.propertyActions[r]=[]),this.propertyActions[r].push(t);for(var n=this.statementsMatching(void 0,e,void 0),i=!1,s=0;s<n.length;s++)i=i||t(this,n[s].subject,e,n[s].object);return i}},{key:"newUniversal",value:function(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t}},{key:"variable",value:function(e){return new y.A(e)}},{key:"nextSymbol",value:function(e){for(var t=0;;t++){var r=e.value+"#n"+t;if(!this.mentionsURI(r))return this.sym(r)}}},{key:"query",value:function(e,t,r,n){return b.call(this,e,t,r,n)}},{key:"querySync",value:function(e){var t=[],r=!1;if(e.sync=!0,b.call(this,e,function(e){t.push(e)},null,function(){r=!0}),!r)throw Error("Sync query should have called done function");return t}},{key:"remove",value:function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}if((0,p.ok)(e))return this.remove(e.statements);var r=this.statementsMatching(e.subject,e.predicate,e.object,e.graph);if(!r.length)throw Error("Statement to be removed is not on store: "+e);return this.removeStatement(r[0]),this}},{key:"removeDocument",value:function(e){this.removeMetadata(e);for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),r=0;r<t.length;r++)this.removeStatement(t[r]);return this.removeMatches(e,null,null),this}},{key:"removeMetadata",value:function(e){for(var t=this.sym("chrome://TheCurrentSession"),r="http://www.w3.org/2007/ont/link#",n=this.statementsMatching(void 0,this.sym("".concat(r,"requestedURI")),this.rdfFactory.literal(e.value),t).map(function(e){return e.subject}),i=0;i<n.length;i++){var s=n[i];if(void 0!=s){var a=void 0,o=this.any(s,this.sym("".concat(r,"status")),null,t);if(void 0!=o){a=this.statementsMatching(o,this.sym("".concat(r,"status")),null,t).slice();for(var u=0;u<a.length;u++)this.removeStatement(a[u])}var c=this.any(s,this.sym("".concat(r,"response")),null,t);if(void 0!=c){a=this.statementsMatching(c,null,null,t).slice();for(var u=0;u<a.length;u++)this.removeStatement(a[u])}a=this.statementsMatching(s,null,null,t).slice();for(var u=0;u<a.length;u++)this.removeStatement(a[u])}}return this.removeMatches(this.sym(e.value),null,null,t),this}},{key:"removeMany",value:function(e,t,r,n,i){for(var s=this.statementsMatching(e,t,r,n,!1),a=[],o=0;o<s.length;o++)a.push(s[o]);for(i&&(a=a.slice(0,i)),o=0;o<a.length;o++)this.remove(a[o])}},{key:"removeMatches",value:function(e,t,r,n){return this.removeMany(e,t,r,n),this}},{key:"removeStatement",value:function(e){for(var t=[e.subject,e.predicate,e.object,e.graph],r=0;r<4;r++){var n=this.canon(t[r]),i=this.id(n);this.index[r][i]&&this.rdfArrayRemove(this.index[r][i],e)}return this.rdfArrayRemove(this.statements,e),this}},{key:"removeStatements",value:function(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}},{key:"replaceWith",value:function(e,t){for(var r=this.id(e),n=this.id(t),i=function(e){var t=e[r];if(t){var i=e[n];i?e[n]=t.concat(i):e[n]=t,delete e[r]}},s=0;s<4;s++)i(this.index[s]);if(this.redirections[r]=t,e.value){if(this.aliases[n]||(this.aliases[n]=[]),this.aliases[n].push(e),this.aliases[r])for(s=0;s<this.aliases[r].length;s++)this.redirections[this.id(this.aliases[r][s])]=t,this.aliases[n].push(this.aliases[r][s]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return i(this.classActions),i(this.propertyActions),!0}},{key:"allAliases",value:function(e){var t=this.aliases[this.id(this.canon(e))]||[];return t.push(this.canon(e)),t}},{key:"sameThings",value:function(e,t){if(e.equals(t))return!0;var r=this.canon(e);if(!r)return!1;var n=this.canon(t);return!!n&&r.value===n.value}},{key:"setPrefixForURI",value:function(e,t){if(("tab"!==e||!this.namespaces.tab)&&"ns"!==e.slice(0,2)&&"default"!==e.slice(0,7)){for(var r in this.namespaces)this.namespaces[r]==t&&delete this.namespaces[r];this.namespaces[e]=t}}},{key:"statementsMatching",value:function(e,t,r,n,i){var s,a,o,u,c=[e,t,r,n],l=[],h=[],f=[],d=[];for(s=0;s<4;s++)l[s]=this.canon(g.A.fromValue(c[s])),l[s]?(d.push(s),h[s]=this.id(l[s])):f.push(s);if(0===d.length)return this.statements;if(1===d.length)return s=d[0],(a=this.index[s][h[s]])&&i&&a.length>1&&(a=a.slice(0,1)),a=a||[];var p=1e10;for(u=0;u<d.length;u++){if(s=d[u],!(a=this.index[s][h[s]]))return[];a.length<p&&(p=a.length,o=u)}for(var y=d[o],m=this.index[y][h[y]],v=d.slice(0,o).concat(d.slice(o+1)),w=[],b=["subject","predicate","object","why"],_=0;_<m.length;_++){var A=m[_];for(u=0;u<v.length;u++)if(s=v[u],!this.canon(A[b[s]]).equals(l[s])){A=null;break}if(null!=A&&(w.push(A),i))break}return w}},{key:"uris",value:function(e){var t=this.canon(e),r=this.aliases[this.id(t)];if(!t.value)return[];var n=[t.value];if(r)for(var i=0;i<r.length;i++)n.push(r[i].uri);return n}},{key:"serialize",value:function(e,t,r,n){var i,s=null!==(i=n)&&void 0!==i&&i.namespaces?S(S({},this.namespaces),n.namespaces):S({},this.namespaces);return n=S(S({},n||{}),{},{namespaces:s}),(0,T.A)(r,this,e,t,void 0,n)}}],[{key:"defaultGraphURI",get:function(){return l.U}}])}(h.A);(0,u.A)(L,"handleRDFType",void 0),L.handleRDFType=j},8663:(e,t,r)=>{"use strict";r.d(t,{$Q:()=>i,BR:()=>g,Fn:()=>b,H:()=>x,JG:()=>v,K9:()=>w,Kk:()=>n,MG:()=>p,P2:()=>a,QW:()=>s,S:()=>c,_0:()=>y,bD:()=>l,bM:()=>m,hu:()=>A,i2:()=>f,ic:()=>o,lc:()=>h,ny:()=>d,r0:()=>u,sT:()=>_});var n="NamedNode",i="BlankNode",s="Literal",a="Variable",o="DefaultGraph",u="Collection",c="Empty",l="Graph",h="text/html",f="application/ld+json",d="text/n3",p="application/n3",g="application/nquads",y="application/n-quads",m="application/n-triples",v="application/rdf+xml",w="application/sparql-update",b="application/sparql-update-single-match",_="text/turtle",A="application/x-turtle",x="application/xhtml+xml"},9821:(e,t,r)=>{"use strict";r.d(t,{A:()=>b});var n=r(1855),i=r(1760),s=r(5514),a=r(8566),o=r(1568),u=r(5283),c=r.n(u),l=r(2778),h=r(6416),f=r(8841),d=r(6105),p=r(1390),g=r(4523),y=r(2761),m=r(8819);function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return w(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var b=function(){var e;return(0,a.A)(function e(t){if((0,s.A)(this,e),(0,o.A)(this,"store",void 0),(0,o.A)(this,"ifps",void 0),(0,o.A)(this,"fps",void 0),(0,o.A)(this,"patchControl",void 0),(0,o.A)(this,"ns",void 0),(t=t||new l.A).updater)throw Error("You can't have two UpdateManagers for the same store");t.fetcher||(t.fetcher=new f.A(t)),this.store=t,t.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=(0,d.A)("http://www.w3.org/2007/ont/link#"),this.ns.http=(0,d.A)("http://www.w3.org/2007/ont/http#"),this.ns.httph=(0,d.A)("http://www.w3.org/2007/ont/httph#"),this.ns.ldp=(0,d.A)("http://www.w3.org/ns/ldp#"),this.ns.rdf=(0,d.A)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.rdfs=(0,d.A)("http://www.w3.org/2000/01/rdf-schema#"),this.ns.rdf=(0,d.A)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.owl=(0,d.A)("http://www.w3.org/2002/07/owl#"),this.patchControl=[]},[{key:"patchControlFor",value:function(e){return this.patchControl[e.value]||(this.patchControl[e.value]=[]),this.patchControl[e.value]}},{key:"isHttpUri",value:function(e){return"http"===e.slice(0,4)}},{key:"flagAuthorizationMetadata",value:function(e){e||(e=this.store);var t,r,n=null===(t=e.fetcher)||void 0===t?void 0:t.appNode,i=v(e.statementsMatching(void 0,this.ns.link("requestedURI"),void 0,n).map(function(e){return e.subject}));try{for(i.s();!(r=i.n()).done;){var s=r.value,a=e.any(s,this.ns.link("response"),null,n);void 0!=a&&e.add(a,this.ns.link("outOfDate"),!0,n)}}catch(e){i.e(e)}finally{i.f()}}},{key:"checkEditable",value:(e=(0,i.A)(c().mark(function e(t,r){var n,i,s;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:if(r||(r=this.store),!(void 0!==(i=this.editable(t,r)))){e.next=6;break}return e.abrupt("return",i);case 6:return e.next=8,null===(n=r.fetcher)||void 0===n?void 0:n.load(t);case 8:return s=this.editable(t,r),e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)})),function(t,r){return e.apply(this,arguments)})},{key:"editable",value:function(e,t){if(!e)return!1;if(t||(t=this.store),e=(0,m.E)(e),!this.isHttpUri(e)&&t.holds(t.rdfFactory.namedNode(e),t.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),t.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#MachineEditableDocument")))return"LOCALFILE";for(var r=!1,n=null===(u=t.fetcher)||void 0===u?void 0:u.appNode,i=t.each(void 0,this.ns.link("requestedURI"),(0,h.En)(e),n),s=0;s<i.length;s++)if(void 0!==(c=i[s])){var a=t.any(c,this.ns.link("response"),null,n);if(void 0!==a){if(t.anyJS(a,this.ns.link("outOfDate"),null,n))continue;var o=t.anyValue(a,this.ns.httph("wac-allow"));if(o){var u,c,l,f,d=v(o.split(","));try{for(d.s();!(f=d.n()).done;){var p=f.value.split("=");if(p[0].includes("user")&&!p[1].includes("write")&&!p[1].includes("append"))return!1}}catch(e){d.e(e)}finally{d.f()}}var g=t.each(a,this.ns.httph("accept-patch"));if(g.length)for(var y=0;y<g.length;y++){if((l=g[y].value.trim()).indexOf("text/n3")>=0)return"N3PATCH";if(l.indexOf("application/sparql-update")>=0||l.indexOf("application/sparql-update-single-match")>=0)return"SPARQL"}var w=t.each(a,this.ns.httph("ms-author-via"));if(w.length)for(var b=0;b<w.length;b++){if((l=w[b].value.trim()).indexOf("SPARQL")>=0)return"SPARQL";if(l.indexOf("DAV")>=0)return"DAV"}if(!this.isHttpUri(e)){if(!o)return!1;return"LOCALFILE"}var _=t.each(a,this.ns.http("status"));if(_.length)for(var A=0;A<_.length;A++)(200===_[A]||404===_[A])&&(r=!0)}}if(0===i.length);else if(r)return!1}},{key:"anonymize",value:function(e){return"_:"===e.toNT().substr(0,2)&&this.mentioned(e)?"?"+e.toNT().substr(2):e.toNT()}},{key:"anonymizeNT",value:function(e){return this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+" ."}},{key:"nTriples",value:function(e){return"".concat(e.subject.toNT()," ").concat(e.predicate.toNT()," ").concat(e.object.toNT()," .")}},{key:"statementBnodes",value:function(e){return[e.subject,e.predicate,e.object].filter(function(e){return(0,g.jt)(e)})}},{key:"statementArrayBnodes",value:function(e){for(var t=[],r=0;r<e.length;r++)t=t.concat(this.statementBnodes(e[r]));t.sort();for(var n=[],i=0;i<t.length;i++)0!==i&&t[i].equals(t[i-1])||n.push(t[i]);return n}},{key:"cacheIfps",value:function(){this.ifps={};for(var e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("InverseFunctionalProperty")),t=0;t<e.length;t++)this.ifps[e[t].value]=!0;this.fps={},e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("FunctionalProperty"));for(var r=0;r<e.length;r++)this.fps[e[r].value]=!0}},{key:"bnodeContext2",value:function(e,t,r){for(var n,i,s=this.store.statementsMatching(void 0,void 0,e,t),a=0;a<s.length;a++)if(this.fps[s[a].predicate.value]){if(!(n=s[a].subject).isBlank)return[s[a]];if(r&&(i=this.bnodeContext2(n,t,r-1)))return i.concat([s[a]])}s=this.store.statementsMatching(e,void 0,void 0,t);for(var o=0;o<s.length;o++)if(this.ifps[s[o].predicate.value]){if(!(n=s[o].object).isBlank)return[s[o]];if(r&&(i=this.bnodeContext2(n,t,r-1)))return i.concat([s[o]])}return null}},{key:"bnodeContext1",value:function(e,t){for(var r=0;r<3;r++){var n=this.bnodeContext2(e,t,r);if(null!==n)return n}return this.store.connectedStatements(e,t)}},{key:"mentioned",value:function(e){return 0!==this.store.statementsMatching(e,null,null,null).length||0!==this.store.statementsMatching(null,e).length||0!==this.store.statementsMatching(null,null,e).length}},{key:"bnodeContext",value:function(e,t){var r=[];if(e.length){this.cacheIfps();for(var n=0;n<e.length;n++){var i=e[n];this.mentioned(i)&&(r=r.concat(this.bnodeContext1(i,t)))}}return r}},{key:"statementContext",value:function(e){var t=this.statementBnodes(e);return this.bnodeContext(t,e.graph)}},{key:"contextWhere",value:function(e){var t=this;return e&&0!==e.length?"WHERE { "+e.map(function(e){return t.anonymizeNT(e)}).join("\n")+" }\n":""}},{key:"fire",value:function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Promise.resolve().then(function(){if(!e)throw Error("No URI given for remote editing operation: "+t);return i.noMeta=!0,i.contentType=i.contentType||"application/sparql-update",i.body=t,n.store.fetcher.webOperation("PATCH",e,i)}).then(function(n){if(!n.ok)throw Error("UpdateManager: update failed for <"+e+"> status="+n.status+", "+n.statusText+"\n   for query: "+t);r(e,n.ok,n.responseText,n)}).catch(function(t){r(e,!1,t.message,t)})}},{key:"update_statement",value:function(e){if(!e||e.graph){var t=this,r=this.statementContext(e);return{statement:e?[e.subject,e.predicate,e.object,e.graph]:void 0,statementNT:e?this.anonymizeNT(e):void 0,where:t.contextWhere(r),set_object:function(e,r){var n=this.where;n+="DELETE DATA { "+this.statementNT+" } ;\n",n+="INSERT DATA { "+this.anonymize(this.statement[0])+" "+this.anonymize(this.statement[1])+" "+this.anonymize(e)+"  . }\n",t.fire(this.statement[3].value,n,r)}}}}},{key:"insert_statement",value:function(e,t){var r=e instanceof Array?e[0]:e,n=this.contextWhere(this.statementContext(r));if(e instanceof Array){for(var i="",s=0;s<e.length;s++)i+=e[s]+"\n";n+="INSERT DATA { "+i+" }\n"}else n+="INSERT DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(r.graph.value,n,t)}},{key:"delete_statement",value:function(e,t){var r=e instanceof Array?e[0]:e,n=this.contextWhere(this.statementContext(r));if(e instanceof Array){for(var i="",s=0;s<e.length;s++)i+=e[s]+"\n";n+="DELETE DATA { "+i+" }\n"}else n+="DELETE DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(r.graph.value,n,t)}},{key:"requestDownstreamAction",value:function(e,t){var r=this.patchControlFor(e);if(r.pendingUpstream){if(r.downstreamAction){if(""+r.downstreamAction!=""+t)throw Error("Can't wait for > 1 different downstream actions")}else r.downstreamAction=t}else t(e)}},{key:"clearUpstreamCount",value:function(e){this.patchControlFor(e).upstreamCount=0}},{key:"getUpdatesVia",value:function(e){var t=this.store.fetcher.getHeader(e,"updates-via");return t&&t.length?t[0].trim():null}},{key:"addDownstreamChangeListener",value:function(e,t){var r=this,n=this.patchControlFor(e);n.downstreamChangeListeners||(n.downstreamChangeListeners=[]),n.downstreamChangeListeners.push(t),this.setRefreshHandler(e,function(e){r.reloadAndSync(e)})}},{key:"reloadAndSync",value:function(e){var t=this.patchControlFor(e),r=this;if(t.reloading){t.outOfDate=!0;return}t.reloading=!0;var n=1e3;!function i(){r.reload(r.store,e,function(e,r,s){if(e){if(t.downstreamChangeListeners)for(var a=0;a<t.downstreamChangeListeners.length;a++)t.downstreamChangeListeners[a]();t.reloading=!1,t.outOfDate&&(t.outOfDate=!1,i())}else t.reloading=!1,s&&0===s.status&&(t.reloading=!0,setTimeout(i,n*=2))})}()}},{key:"setRefreshHandler",value:function(e,t){var r=this.getUpdatesVia(e),n=this,i=this,s=1500,a=0;if(!r)return!1;var o=(r=(0,h.fj)(r,e.value)).replace(/^http:/,"ws:").replace(/^https:/,"wss:");return!function r(){if("undefined"!=typeof WebSocket)u=new WebSocket(o);else{if("undefined"==typeof window||!window.WebSocket)return;u=window.WebSocket(o)}u.onopen=function(){s=1500,this.send("sub "+e.value),a&&i.requestDownstreamAction(e,t)};var u,c=n.patchControlFor(e);c.upstreamCount=0,u.onerror=function(e){},u.onclose=function(e){s*=2,a+=1,setTimeout(function(){r()},s)},u.onmessage=function(r){!r.data||"pub"!==r.data.slice(0,3)||"upstreamCount"in c&&(c.upstreamCount-=1,c.upstreamCount>=0)||(c.upstreamCount=0,n.requestDownstreamAction(e,t))}}(),!0}},{key:"updateMany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.concat(t).map(function(e){return e.why}),n=this,i=[];r.forEach(function(e){i.find(function(t){return t.equals(e)})||i.push(e)});var s=i.map(function(r){return n.update(e.filter(function(e){return e.why.equals(r)}),t.filter(function(e){return e.why.equals(r)}))});return s.length,Promise.all(s)}},{key:"constructSparqlUpdateQuery",value:function(e,t,r){var n=this.contextWhere(r),i="";if(n.length){if(e.length){i+="DELETE { ";for(var s=0;s<e.length;s++)i+=this.anonymizeNT(e[s])+"\n";i+=" }\n"}if(t.length){i+="INSERT { ";for(var a=0;a<t.length;a++)i+=this.anonymizeNT(t[a])+"\n";i+=" }\n"}i+=n}else{if(e.length){i+="DELETE DATA { ";for(var o=0;o<e.length;o++)i+=this.anonymizeNT(e[o])+"\n";i+=" } \n"}if(t.length){e.length&&(i+=" ; "),i+="INSERT DATA { ";for(var u=0;u<t.length;u++)i+=this.nTriples(t[u])+"\n";i+=" }\n"}}return i}},{key:"constructN3PatchQuery",value:function(e,t,r){var n=this,i="\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix ex: <http://www.example.org/terms#>.\n\n_:patch\n";return r&&r.length>0&&(i+="\n      solid:where {\n        ".concat(r.map(function(e){return n.anonymizeNT(e)}).join("\n        "),"\n      };")),e.length>0&&(i+="\n      solid:deletes {\n        ".concat(e.map(function(e){return n.anonymizeNT(e)}).join("\n        "),"\n      };")),t.length>0&&(i+="\n      solid:inserts {\n        ".concat(t.map(function(e){return n.anonymizeNT(e)}).join("\n        "),"\n      };")),i+="   a solid:InsertDeletePatch .\n"}},{key:"update",value:function(e,t,r,i){var s=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!r){var o=this;return new Promise(function(r,n){o.update(e,t,function(e,t,i){t?r():n(Error(i))},i,a)})}try{var u=this.store,c=e?(0,g.ok)(e)?e.statements:e instanceof Array?e:[e]:[],l=t?(0,g.ok)(t)?t.statements:t instanceof Array?t:[t]:[];if(!(c instanceof Array))throw Error("Type Error "+(0,n.A)(c)+": "+c);if(!(l instanceof Array))throw Error("Type Error "+(0,n.A)(l)+": "+l);if(0===c.length&&0===l.length)return r(null,!0);var h=c.length?c[0].graph:l[0].graph;if(!h){var f="Error patching: statement does not specify which document to patch:"+c[0]+", "+l[0];throw Error(f)}if("NamedNode"!==h.termType){var d="Error patching: document not a NamedNode:"+c[0]+", "+l[0];throw Error(d)}var p=this.patchControlFor(h),m=Date.now(),v=["subject","predicate","object","why"],w={delete:c,insert:l};["insert","delete"].map(function(e){w[e].map(function(e){if(!h.equals(e.graph))throw Error("update: destination "+h+" inconsistent with delete quad "+e.graph);v.map(function(t){if(void 0===e[t])throw Error("update: undefined "+t+" of statement.")})})});var b=this.editable(h.value,u);if(!1===b)throw Error("Update: Can't make changes in uneditable "+h);if(void 0===b){if(i)throw Error("Update: Loaded "+h+"but still can't figure out what editing protocol it supports.");this.store.fetcher.load(h).then(function(n){s.update(e,t,r,!0,a)},function(n){if(404===n.response.status)s.update(e,t,r,!0,a);else throw Error("Update: Can't get updatability status ".concat(h," before patching: ").concat(n))});return}if(b.indexOf("SPARQL")>=0||b.indexOf("N3PATCH")>=0){var _=b.indexOf("SPARQL")>=0,A=[];c.length&&(A=this.statementArrayBnodes(c)),l.length&&(A=A.concat(this.statementArrayBnodes(l)));var x=this.bnodeContext(A,h),T=_?this.constructSparqlUpdateQuery(c,l,x):this.constructN3PatchQuery(c,l,x);a.contentType=_?"application/sparql-update":"text/n3",p.pendingUpstream=p.pendingUpstream?p.pendingUpstream+1:1,"upstreamCount"in p&&(p.upstreamCount+=1),this.fire(h.value,T,function(e,t,n,i){if(i.elapsedTimeMs=Date.now()-m,t){try{u.remove(c)}catch(e){t=!1,n="Remote Ok BUT error deleting "+c.length+" from store!!! "+e}for(var s=0;s<l.length;s++)u.add(l[s].subject,l[s].predicate,l[s].object,h)}if(r(e,t,n,i),p.pendingUpstream-=1,0===p.pendingUpstream&&p.downstreamAction){var a=p.downstreamAction;delete p.downstreamAction,a(h)}},a)}else if(b.indexOf("DAV")>=0)this.updateDav(h,c,l,r,a);else if(b.indexOf("LOCALFILE")>=0)try{this.updateLocalFile(h,c,l,r,a)}catch(e){r(h.value,!1,"Exception trying to write back file <"+h.value+">\n")}else throw Error("Unhandled edit method: '"+b+"' for "+h)}catch(e){r(void 0,!1,"Exception in update: "+e+"\n"+y.uN(e))}}},{key:"updateDav",value:function(e,t,r,n){var i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=this.store,o=a.any(e,this.ns.link("request"));if(!o)throw Error("No record of our HTTP GET request for document: "+e);var u=a.any(o,this.ns.link("response"));if(!u)return null;for(var c=a.the(u,this.ns.httph("content-type")).value,l=a.statementsMatching(void 0,void 0,void 0,e).slice(),f=0;f<t.length;f++)y.Uz(l,t[f]);for(var d=0;d<r.length;d++)l.push(r[d]);var p=this.serialize(e.value,l,c),g=a.the(u,this.ns.httph("content-location"));return g&&(i=(0,h.fj)(g.value,i)),s.contentType=c,s.noMeta=!0,s.body=p,a.fetcher.webOperation("PUT",i,s).then(function(i){if(!i.ok)throw Error(i.error);for(var s=0;s<t.length;s++)a.remove(t[s]);for(var o=0;o<r.length;o++)a.add(r[o].subject,r[o].predicate,r[o].object,e);n(e.value,i.ok,i.responseText,i)}).catch(function(t){n(e.value,!1,t.message,t)})}},{key:"updateLocalFile",value:function(e,t,r,n){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=this.store,a=s.statementsMatching(void 0,void 0,void 0,e).slice(),o=0;o<t.length;o++)y.Uz(a,t[o]);for(var u=0;u<r.length;u++)a.push(r[u]);var c=e.value.lastIndexOf(".");if(c<1)throw Error("Rewriting file: No filename extension: "+e.value);var l=e.value.slice(c+1),h=f.A.CONTENT_TYPE_BY_EXT[l];if(!h)throw Error("File extension ."+l+" not supported for data write");i.body=this.serialize(e.value,a,h),i.contentType=h,s.fetcher.webOperation("PUT",e.value,i).then(function(i){if(!i.ok)return n(e.value,!1,i.error);for(var a=0;a<t.length;a++)s.remove(t[a]);for(var o=0;o<r.length;o++)s.add(r[o].subject,r[o].predicate,r[o].object,e);n(e.value,!0,"")})}},{key:"serialize",value:function(e,t,r){var n,i=this.store;if("string"==typeof t)return t;var s=(0,p.A)(i);switch(s.suggestNamespaces(i.namespaces),s.setBase(e),r){case"text/xml":case"application/rdf+xml":n=s.statementsToXML(t);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":n=s.statementsToN3(t);break;default:throw Error("Content-type "+r+" not supported for data serialization")}return n}},{key:"put",value:function(e,t,r,n){var i,s=this,a=this.store;return Promise.resolve().then(function(){return i=s.serialize(e.value,t,r),a.fetcher.webOperation("PUT",e.value,{contentType:r,body:i})}).then(function(r){if(!r.ok)return n(e.value,r.ok,r.error,r);delete a.fetcher.nonexistent[e.value],delete a.fetcher.requested[e.value],"string"!=typeof t&&t.map(function(e){a.addStatement(e)}),n(e.value,r.ok,"",r)}).catch(function(t){n(e.value,!1,t.message)})}},{key:"reload",value:function(e,t,r){var n=Date.now();e.fetcher.nowOrWhenFetched(t.value,{force:!0,noMeta:!0,clearPreviousData:!0},function(e,i,s){if(e){if(s.onErrorWasCalled||200!==s.status)r(!1,"Non-HTTP error reloading data: "+i,s);else{var a=Date.now()-n;t.reloadTimeTotal||(t.reloadTimeTotal=0),t.reloadTimeCount||(t.reloadTimeCount=0),t.reloadTimeTotal+=a,t.reloadTimeCount+=1,r(!0)}}else r(!1,"Error reloading data: "+i,s)})}}])}()},6416:(e,t,r)=>{"use strict";r.d(t,{Cx:()=>s,En:()=>i,TB:()=>o,fj:()=>a,zI:()=>u});var n=n||console.log;function i(e){var t;return(t=e.indexOf("#"))<0?e:e.slice(0,t)}function s(e){var t=/[^\/]*\/\/([^\/]*)\//.exec(e);return t?t[1]:""}function a(e,t){var r,i,s,a,o,u=t.indexOf("#");if(u>0&&(t=t.slice(0,u)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(e.indexOf(":")>=0||(r=t.indexOf(":"),0===t.length))return e;if(r<0)return n("Invalid base: "+t+" in join with given: "+e),e;if(i=t.slice(0,+r+1||9e9),0===e.indexOf("//"))return i+e;if(t.indexOf("//",r)===r+1){if((s=t.indexOf("/",r+3))<0)return t.length-r-3>0?t+"/"+e:i+e}else if((s=t.indexOf("/",r+1))<0)return t.length-r-1>0?t+"/"+e:i+e;if(0===e.indexOf("/"))return t.slice(0,s)+e;if((a=(o=t.slice(s)).lastIndexOf("/"))<0)return i+e;for(a>=0&&a<o.length-1&&(o=o.slice(0,+a+1||9e9)),o+=e;o.match(/[^\/]*\/\.\.\//);)o=o.replace(/[^\/]*\/\.\.\//,"");return o=(o=o.replace(/\.\//g,"")).replace(/\/\.$/,"/"),t.slice(0,s)+o}function o(e){var t=e.indexOf(":");return t<0?null:e.slice(0,t)}function u(e,t){var r,n,i,s,a,o,u,c,l,h,f,d,p=RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!e)return t;if(e===t)return"";for(r=u=0,s=t.length;u<s&&t[r]===e[r];r=++u);if(e.slice(0,r).match(p)&&((n=t.indexOf("//"))<0&&(n=-2),i=t.indexOf("/",n+2),"/"!==t[i+1]&&"/"!==e[i+1]&&t.slice(0,i)===e.slice(0,i)))return t.slice(i);if("#"===t[r]&&e.length===r)return t.slice(r);for(;r>0&&"/"!==t[r-1];)r--;if(r<3||e.indexOf("//",r-2)>0||t.indexOf("//",r-2)>0||e.indexOf(":",r)>0)return t;for(c=0,o=0,a=(h=e.slice(r)).length;c<a;c++)"/"===h[c]&&o++;if(0===o&&r<t.length&&"#"===t[r])return"./"+t.slice(r);if(0===o&&r===t.length)return"./";if(d="",o>0)for(l=1,f=o;f>=1?l<=f:l>=f;f>=1?++l:--l)d+="../";return d+t.slice(r)}},2761:(e,t,r)=>{"use strict";r.d(t,{Kw:()=>a,Uz:()=>h,VQ:()=>c,h4:()=>l,jI:()=>o,tE:()=>s,uN:()=>f});var n=r(2598),i=r(6002);function s(e){return e=e.split(";")[0].trim(),new n.A("http://www.w3.org/ns/iana/media-types/"+e+"#Resource")}function a(e,t){e.callbacks={};for(var r=t.length-1;r>=0;r--)e.callbacks[t[r]]=[];e.addHook=function(t){e.callbacks[t]||(e.callbacks[t]=[])},e.addCallback=function(t,r){e.callbacks[t].push(r)},e.removeCallback=function(t,r){for(var n=0;n<e.callbacks[t].length;n++)if(e.callbacks[t][n].name===r)return e.callbacks[t].splice(n,1),!0;return!1},e.insertCallback=function(t,r){e.callbacks[t].unshift(r)},e.fireCallbacks=function(t,r){var n,i,s=[],a=[],o=e.callbacks[t].length;for(n=o-1;n>=0;n--)(i=e.callbacks[t][n])&&i.apply(e,r)&&s.push(i);for(n=s.length-1;n>=0;n--)a.push(s[n]);for(n=o;n<e.callbacks[t].length;n++)a.push(e.callbacks[t][n]);e.callbacks[t]=a}}function o(e,t){var r=[];(t=t||{}).selfClosing&&t.selfClosing.split(" ").forEach(function(e){r[e]=!0});var n=[];return t&&t.skipAttributes&&t.skipAttributes.split(" ").forEach(function(e){n[e]=!0}),function e(t,r,n,i){var s,a="",o=[!1];if(void 0===t.nodeType)return a;if(1===t.nodeType){if(t.hasAttribute("class")&&r&&r.classWithChildText&&t.matches(r.classWithChildText.class))a+=t.querySelector(r.classWithChildText.element).textContent;else if(!(r&&r.skipNodeWithClass&&t.matches("."+r.skipNodeWithClass))){var u=t.nodeName.toLowerCase();a+="<"+u;var c=[];for(s=t.attributes.length-1;s>=0;s--){var l=t.attributes[s];if((!i||!(i.length>0)||!i[l.name])&&!/^\d+$/.test(l.name)){if("class"===l.name&&r&&r.replaceClassItemWith&&l.value.split(" ").indexOf(r.replaceClassItemWith.source)>-1){var h=RegExp(r.replaceClassItemWith.source,"g");l.value=l.value.replace(h,r.replaceClassItemWith.target).trim()}"class"===l.name&&r&&r.skipClassWithValue&&r.skipClassWithValue===l.value||c.push(l.name+"='"+l.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(c.length>0&&(r&&r.sortAttributes&&c.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),a+=" "+c.join(" ")),n&&n.ename)a+=" />";else{for(a+=">",a+="html"===u?"\n  ":"",o.push("style"===u||"script"===u),s=0;s<t.childNodes.length;s++)a+=e(t.childNodes[s]);o.pop(),a+="body"===u?"</"+u+">\n":"</"+u+">"}}}else if(8===t.nodeType)a+="\x3c!--"+t.nodeValue+"--\x3e";else if(3===t.nodeType||4===t.nodeType){var f=t.nodeValue.replace(/\n+$/,"");a+=o[o.length-1]?f:f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+t.nodeType),console.log(t);return a}(e,t,r,n)}function u(e,t,r,n){var i=function(e){return"BlankNode"===e.termType?null:e},s=function(e){var t=r.statementsMatching(e).map(function(e){return""+i(e.subject)+" "+i(e.predicate)+" "+i(e.object)}).concat(r.statementsMatching(void 0,void 0,e).map(function(e){return""+i(e.subject)+" "+i(e.predicate)+" "+i(e.object)}));return t.sort(),t.join("\n")},a=Object.prototype.hasOwnProperty.call(r,"compareTerms")?r.compareTerms(e,t):e.compareTerm(t);return"BlankNode"===e.termType&&"BlankNode"===t.termType?0===a?0:s(e)>s(t)?1:s(e)<s(t)?-1:a:n&&e.uri&&t.uri?(n[e.uri]||e.uri).localeCompare(n[t.uri]||t.uri):a}function c(e,t,r,n){return u(e.subject,t.subject,r,n)||u(e.predicate,t.predicate,r,n)||u(e.object,t.object,r,n)}function l(t,r){return(r=r||{},e&&e.exports)?new i.DOMParser().parseFromString(t,r.contentType||"application/xhtml+xml"):("undefined"!=typeof window&&window.DOMParser?new window.DOMParser:new i.DOMParser).parseFromString(t,"application/xml")}function h(e,t){for(var r=0;r<e.length;r++)if(e[r].subject.equals(t.subject)&&e[r].predicate.equals(t.predicate)&&e[r].object.equals(t.object)&&e[r].why.equals(t.why)){e.splice(r,1);return}throw Error("RDFArrayRemove: Array did not contain "+t+" "+t.why)}function f(e){var t=""+e+"\n";if(!e.stack)return t+"No stack available.\n";for(var r=e.stack.toString().split("\n"),n=[],i=0;i<r.length;i++){var s=r[i];if(s.indexOf("ecmaunit.js")>-1)break;"("==s.charAt(0)&&(s="function"+s);var a=s.split("@");n.push(a)}for(var i=0;i<n.length;i++)t+="  "+n[i][1]+"\n    "+n[i][0];return t}e=r.hmd(e)},1779:(e,t,r)=>{"use strict";r.d(t,{Do:()=>a,Eu:()=>n,XV:()=>s});var n=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],i={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function s(e,t,r){var n=[];return r.reduce(function(t,r,s,a){var o;return n.push(e.quad(t,e.namedNode(i.first),a[s])),s<a.length-1?(o=e.blankNode(),n.push(e.quad(t,e.namedNode(i.rest),o))):n.push(e.quad(t,e.namedNode(i.rest),e.namedNode(i.nil))),o},t),n}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.length;for(r<0&&(r=n+r);r<n;r++)if(e[r]===t)return r;return -1}},2523:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var n=r(2598),i="chrome:theSession";new n.A(i)},8819:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e?e:e.value}r.d(t,{E:()=>n})},4523:(e,t,r)=>{"use strict";r.d(t,{CZ:()=>c,D0:()=>f,DJ:()=>u,DZ:()=>h,P3:()=>o,RN:()=>m,SH:()=>s,Y2:()=>g,aF:()=>p,c$:()=>d,fY:()=>l,jt:()=>y,ok:()=>a});var n=r(1855),i=r(8663);function s(e){return"object"===(0,n.A)(e)&&null!==e&&"subject"in e}function a(e){return"object"===(0,n.A)(e)&&null!==e&&"statements"in e}function o(e){return f(e)&&e.termType===i.r0}function u(e){return e&&Object.prototype.hasOwnProperty.call(e,"termType")&&(e.termType===i.Kk||e.termType===i.P2||e.termType===i.$Q||e.termType===i.r0||e.termType===i.QW||e.termType===i.bD)}function c(e){return e&&Object.prototype.hasOwnProperty.call(e,"termType")&&(e.termType===i.Kk||e.termType===i.P2||e.termType===i.$Q||e.termType===i.r0||e.termType===i.QW||e.termType===i.bD)}function l(e){return f(e)&&(e.termType===i.Kk||e.termType===i.$Q||e.termType===i.P2)}function h(e){return f(e)&&e.termType===i.P2}function f(e){return"object"===(0,n.A)(e)&&null!==e&&"termType"in e}function d(e){return e.termType===i.QW}function p(e){return"object"===(0,n.A)(e)&&null!==e&&"subject"in e&&"predicate"in e&&"object"in e}function g(e){return f(e)&&"NamedNode"===e.termType}function y(e){return f(e)&&"termType"in e&&"BlankNode"===e.termType}function m(e){return f(e)&&(e.termType===i.Kk||e.termType===i.P2||e.termType===i.$Q||e.termType===i.ic)}},7034:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(5514),i=r(8566),s=r(9608),a=r(1701),o=r(5965),u=r(1568),c=r(879),l=r(4480),h=r(8663),f=r(6416);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}var p=function(e){function t(){var e,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,n.A)(this,t),e=t,r=[o],e=(0,a.A)(e),i=(0,s.A)(this,d()?Reflect.construct(e,r||[],(0,a.A)(this).constructor):e.apply(this,r)),(0,u.A)(i,"termType",h.P2),(0,u.A)(i,"base","varid:"),(0,u.A)(i,"classOrder",c.A.Variable),(0,u.A)(i,"isVar",1),(0,u.A)(i,"uri",void 0),i.base="varid:",i.uri=f.fj(o,i.base),i}return(0,o.A)(t,e),(0,i.A)(t,[{key:"equals",value:function(e){return!!e&&this.termType===e.termType&&this.value===e.value}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(e){var t;return null!=(t=e[this.toNT()])?t:this}},{key:"toString",value:function(){return t.toString(this)}}],[{key:"toString",value:function(e){return e.uri.slice(0,e.base.length)===e.base?"?".concat(e.uri.slice(e.base.length)):"?".concat(e.uri)}}])}(l.A)},1485:e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,r,n,s){var a,o,u=Object.create((r&&r.prototype instanceof y?r:y).prototype);return i(u,"_invoke",{value:(a=new N(s||[]),o=f,function(r,i){if(o===d)throw Error("Generator is already running");if(o===p){if("throw"===r)throw i;return{value:t,done:!0}}for(a.method=r,a.arg=i;;){var s=a.delegate;if(s){var u=function e(r,n){var i=n.method,s=r.iterator[i];if(t===s)return n.delegate=null,"throw"===i&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+i+"' method")),g;var a=h(s,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[r.resultName]=o.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,g)}(s,a);if(u){if(u===g)continue;return u}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===f)throw o=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=d;var c=h(e,n,a);if("normal"===c.type){if(o=a.done?p:"suspendedYield",c.arg===g)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(o=p,a.method="throw",a.arg=c.arg)}})}),u}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",d="executing",p="completed",g={};function y(){}function m(){}function v(){}var w={};c(w,a,function(){return this});var b=Object.getPrototypeOf,_=b&&b(b(D([])));_&&_!==r&&n.call(_,a)&&(w=_);var A=v.prototype=y.prototype=Object.create(w);function x(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){var r;i(this,"_invoke",{value:function(i,s){function a(){return new t(function(r,a){!function r(i,s,a,o){var u=h(e[i],e,s);if("throw"===u.type)o(u.arg);else{var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,a,o)},function(e){r("throw",e,a,o)}):t.resolve(l).then(function(e){c.value=e,a(c)},function(e){return r("throw",e,a,o)})}}(i,s,r,a)})}return r=r?r.then(a,a):a()}})}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function D(e){if(null!=e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw TypeError(typeof e+" is not iterable")}return m.prototype=v,i(A,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:m,configurable:!0}),m.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},x(T.prototype),c(T.prototype,o,function(){return this}),e.AsyncIterator=T,e.async=function(t,r,n,i,s){void 0===s&&(s=Promise);var a=new T(l(t,r,n,i),s);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(A),c(A,u,"Generator"),c(A,a,function(){return this}),c(A,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return o.type="throw",o.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else if(c){if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return(a.type=e,a.arg=t,s)?(this.method="next",this.next=s.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},9152:e=>{"use strict";var t=(()=>{var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,o=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&a(e,r,t[r]);if(n)for(var r of n(t))s.call(t,r)&&a(e,r,t[r]);return e},u=(e,t,r)=>(a(e,"symbol"!=typeof t?t+"":t,r),r),c={};((t,r)=>{for(var n in r)e(t,n,{get:r[n],enumerable:!0})})(c,{DEFAULT_OPTIONS:()=>h,DEFAULT_UUID_LENGTH:()=>l,default:()=>d});var l=6,h={dictionary:"alphanum",shuffle:!0,debug:!1,length:l,counter:0},f=class{constructor(e={}){u(this,"counter"),u(this,"debug"),u(this,"dict"),u(this,"version"),u(this,"dictIndex",0),u(this,"dictRange",[]),u(this,"lowerBound",0),u(this,"upperBound",0),u(this,"dictLength",0),u(this,"uuidLength"),u(this,"_digit_first_ascii",48),u(this,"_digit_last_ascii",58),u(this,"_alpha_lower_first_ascii",97),u(this,"_alpha_lower_last_ascii",123),u(this,"_hex_last_ascii",103),u(this,"_alpha_upper_first_ascii",65),u(this,"_alpha_upper_last_ascii",91),u(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),u(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),u(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),u(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),u(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),u(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),u(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),u(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),u(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),u(this,"log",(...e)=>{let t=[...e];if(t[0]=`[short-unique-id] ${e[0]}`,!0===this.debug&&"undefined"!=typeof console&&null!==console)return console.log(...t)}),u(this,"_normalizeDictionary",(e,t)=>{let r;if(e&&Array.isArray(e)&&e.length>1)r=e;else{let t;r=[],this.dictIndex=t=0;let n=`_${e}_dict_ranges`,i=this._dict_ranges[n];Object.keys(i).forEach(e=>{for(this.dictRange=i[e],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=t=this.lowerBound;this.lowerBound<=this.upperBound?t<this.upperBound:t>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?t+=1:t-=1)r.push(String.fromCharCode(this.dictIndex))})}return t&&(r=r.sort(()=>Math.random()-.5)),r}),u(this,"setDictionary",(e,t)=>{this.dict=this._normalizeDictionary(e,t),this.dictLength=this.dict.length,this.setCounter(0)}),u(this,"seq",()=>this.sequentialUUID()),u(this,"sequentialUUID",()=>{let e,t;let r="";e=this.counter;do t=e%this.dictLength,e=Math.trunc(e/this.dictLength),r+=this.dict[t];while(0!==e);return this.counter+=1,r}),u(this,"rnd",(e=this.uuidLength||l)=>this.randomUUID(e)),u(this,"randomUUID",(e=this.uuidLength||l)=>{let t,r,n;if(null==e||e<1)throw Error("Invalid UUID Length Provided");for(n=0,t="";n<e;n+=1)r=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,t+=this.dict[r];return t}),u(this,"fmt",(e,t)=>this.formattedUUID(e,t)),u(this,"formattedUUID",(e,t)=>{let r={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return e.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,e=>{let n=e.slice(0,2),i=parseInt(e.slice(2),10);return"$s"===n?r[n]().padStart(i,"0"):"$t"===n&&t?r[n](i,t):r[n](i)})}),u(this,"availableUUIDs",(e=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,e).toFixed(0))),u(this,"approxMaxBeforeCollision",(e=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*e).toFixed(20))),u(this,"collisionProbability",(e=this.availableUUIDs(this.uuidLength),t=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(e)/this.availableUUIDs(t)).toFixed(20))),u(this,"uniqueness",(e=this.availableUUIDs(this.uuidLength))=>{let t=parseFloat((1-this.approxMaxBeforeCollision(e)/e).toFixed(20));return t>1?1:t<0?0:t}),u(this,"getVersion",()=>this.version),u(this,"stamp",(e,t)=>{let r=Math.floor(+(t||new Date)/1e3).toString(16);if("number"==typeof e&&0===e)return r;if("number"!=typeof e||e<10)throw Error("Param finalLength must be a number greater than or equal to 10,\nor 0 if you want the raw hexadecimal timestamp");let n=e-9,i=Math.round(Math.random()*(n>15?15:n)),s=this.randomUUID(n);return`${s.substring(0,i)}${r}${s.substring(i)}${i.toString(16)}`}),u(this,"parseStamp",(e,t)=>{if(t&&!/t0|t[1-9]\d{1,}/.test(t))throw Error("Cannot extract date from a formated UUID with no timestamp in the format");let r=t?t.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,e=>({$r:e=>[...Array(e)].map(()=>"r").join(""),$s:e=>[...Array(e)].map(()=>"s").join(""),$t:e=>[...Array(e)].map(()=>"t").join("")})[e.slice(0,2)](parseInt(e.slice(2),10))).replace(/^(.*?)(t{8,})(.*)$/g,(t,r,n)=>e.substring(r.length,r.length+n.length)):e;if(8===r.length)return new Date(1e3*parseInt(r,16));if(r.length<10)throw Error("Stamp length invalid");let n=parseInt(r.substring(r.length-1),16);return new Date(1e3*parseInt(r.substring(n,n+8),16))}),u(this,"setCounter",e=>{this.counter=e}),u(this,"validate",(e,t)=>{let r=t?this._normalizeDictionary(t):this.dict;return e.split("").every(e=>r.includes(e))});let t=o(o({},h),e);this.counter=0,this.debug=!1,this.dict=[],this.version="5.2.0";let{dictionary:r,shuffle:n,length:i,counter:s}=t;return this.uuidLength=i,this.setDictionary(r,n),this.setCounter(s),this.debug=t.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength} and counter set to ${this.counter}`),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this),this}};u(f,"default",f);var d=f;return((n,s,a,o)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let u of r(s))i.call(n,u)||u===a||e(n,u,{get:()=>s[u],enumerable:!(o=t(s,u))||o.enumerable});return n})(e({},"__esModule",{value:!0}),c)})();e.exports=t.default,"undefined"!=typeof window&&(t=t.default)},6220:e=>{let t={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",skos:"http://www.w3.org/2004/02/skos/core#",bookmark:"http://www.w3.org/2002/01/bookmark#",vann:"http://purl.org/vocab/vann/"};e.exports=function(e={namedNode:e=>e}){let r={};for(let n in t){let i=t[n];r[n]=function(t=""){return e.namedNode(i+t)}}return r}},3790:(e,t,r)=>{var n=r(3321).default;function i(){"use strict";e.exports=i=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},s=Object.prototype,a=s.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function d(e,r,n,i){var s,a,u=Object.create((r&&r.prototype instanceof w?r:w).prototype);return o(u,"_invoke",{value:(s=new I(i||[]),a=g,function(r,i){if(a===y)throw Error("Generator is already running");if(a===m){if("throw"===r)throw i;return{value:t,done:!0}}for(s.method=r,s.arg=i;;){var o=s.delegate;if(o){var u=function e(r,n){var i=n.method,s=r.iterator[i];if(s===t)return n.delegate=null,"throw"===i&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+i+"' method")),v;var a=p(s,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[r.resultName]=o.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(o,s);if(u){if(u===v)continue;return u}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(a===g)throw a=m,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a=y;var c=p(e,n,s);if("normal"===c.type){if(a=s.done?m:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(a=m,s.method="throw",s.arg=c.arg)}})}),u}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=d;var g="suspendedStart",y="executing",m="completed",v={};function w(){}function b(){}function _(){}var A={};f(A,c,function(){return this});var x=Object.getPrototypeOf,T=x&&x(x(R([])));T&&T!==s&&a.call(T,c)&&(A=T);var E=_.prototype=w.prototype=Object.create(A);function k(e){["next","throw","return"].forEach(function(t){f(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){var r;o(this,"_invoke",{value:function(i,s){function o(){return new t(function(r,o){!function r(i,s,o,u){var c=p(e[i],e,s);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==n(h)&&a.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(h).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(c.arg)}(i,s,r,o)})}return r=r?r.then(o,o):o()}})}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function r(){for(;++i<e.length;)if(a.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw TypeError(n(e)+" is not iterable")}return b.prototype=_,o(E,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:b,configurable:!0}),b.displayName=f(_,h,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,f(e,h,"GeneratorFunction")),e.prototype=Object.create(E),e},r.awrap=function(e){return{__await:e}},k(N.prototype),f(N.prototype,l,function(){return this}),r.AsyncIterator=N,r.async=function(e,t,n,i,s){void 0===s&&(s=Promise);var a=new N(d(e,t,n,i),s);return r.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},k(E),f(E,h,"Generator"),f(E,c,function(){return this}),f(E,"toString",function(){return"[object Generator]"}),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return o.type="throw",o.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=a.call(s,"catchLoc"),c=a.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},r}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3321:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5283:(e,t,r)=>{var n=r(3790)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},1760:(e,t,r)=>{"use strict";function n(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){var a=e.apply(t,r);function o(e){n(a,i,s,o,u,"next",e)}function u(e){n(a,i,s,o,u,"throw",e)}o(void 0)})}}r.d(t,{A:()=>i})},5514:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}r.d(t,{A:()=>n})},8566:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(49);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,n.A)(i.key),i)}}function s(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},1568:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(49);function i(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},1701:(e,t,r)=>{"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,{A:()=>n})},5965:(e,t,r)=>{"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}r.d(t,{A:()=>i})},9608:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(1855);function i(e,t){if(t&&("object"==(0,n.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}},49:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(1855);function i(e){var t=function(e,t){if("object"!=(0,n.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=(0,n.A)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.A)(t)?t:t+""}},1855:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{A:()=>n})},3443:(e,t,r)=>{"use strict";let n,i,s,a,o;r.d(t,{hd:()=>tH,nY:()=>tz,iD:()=>t$,ri:()=>tV});let u=new TextEncoder,c=new TextDecoder;function l(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}let h=e=>{let t=e;"string"==typeof t&&(t=u.encode(t));let r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))},f=e=>h(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),d=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},p=e=>{let t=e;t instanceof Uint8Array&&(t=c.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return d(t)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}};class g extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}g.code="ERR_JOSE_GENERIC";class y extends g{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n,this.payload=t}}y.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class m extends g{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n,this.payload=t}}m.code="ERR_JWT_EXPIRED";class v extends g{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}v.code="ERR_JOSE_ALG_NOT_ALLOWED";class w extends g{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}w.code="ERR_JOSE_NOT_SUPPORTED";class b extends g{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}b.code="ERR_JWE_DECRYPTION_FAILED";class _ extends g{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}_.code="ERR_JWE_INVALID";class A extends g{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}A.code="ERR_JWS_INVALID";class x extends g{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}x.code="ERR_JWT_INVALID";class T extends g{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}T.code="ERR_JWK_INVALID";class E extends g{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}E.code="ERR_JWKS_INVALID";class k extends g{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}k.code="ERR_JWKS_NO_MATCHING_KEY";class N extends g{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator,N.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class D extends g{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}D.code="ERR_JWKS_TIMEOUT";class S extends g{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function I(e,t){let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new w(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}S.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";let R=crypto,C=e=>e instanceof CryptoKey,O=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function U(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function j(e,t){return e.name===t}function L(e){return parseInt(e.name.slice(4),10)}function P(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let F=(e,...t)=>P("Key must be ",e,...t);function M(e,t,...r){return P(`Key for the ${e} algorithm must be `,t,...r)}let q=e=>!!C(e)||e?.[Symbol.toStringTag]==="KeyObject",B=["CryptoKey"];function H(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $(e){return H(e)&&"string"==typeof e.kty}let V=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new w('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new w('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new w('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new w('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),n=[t,e.ext??!1,e.key_ops??r],i={...e};return delete i.alg,delete i.use,R.subtle.importKey("jwk",i,...n)},z=e=>p(e),K=e=>e?.[Symbol.toStringTag]==="KeyObject",X=async(e,t,r,n,i=!1)=>{let s=e.get(t);if(s?.[n])return s[n];let a=await V({...r,alg:n});return i&&Object.freeze(t),s?s[n]=a:e.set(t,{[n]:a}),a},W={normalizePublicKey:(e,t)=>{if(K(e)){let r=e.export({format:"jwk"});return(delete r.d,delete r.dp,delete r.dq,delete r.p,delete r.q,delete r.qi,r.k)?z(r.k):(i||(i=new WeakMap),X(i,e,r,t))}return $(e)?e.k?p(e.k):(i||(i=new WeakMap),X(i,e,e,t,!0)):e},normalizePrivateKey:(e,t)=>{if(K(e)){let r=e.export({format:"jwk"});return r.k?z(r.k):(n||(n=new WeakMap),X(n,e,r,t))}return $(e)?e.k?p(e.k):(n||(n=new WeakMap),X(n,e,e,t,!0)):e}};async function G(e,t,r){if("sign"===r&&(t=await W.normalizePrivateKey(t,e)),"verify"===r&&(t=await W.normalizePublicKey(t,e)),C(t))return!function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!j(e.algorithm,"HMAC"))throw U("HMAC");let r=parseInt(t.slice(2),10);if(L(e.algorithm.hash)!==r)throw U(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!j(e.algorithm,"RSASSA-PKCS1-v1_5"))throw U("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(L(e.algorithm.hash)!==r)throw U(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!j(e.algorithm,"RSA-PSS"))throw U("RSA-PSS");let r=parseInt(t.slice(2),10);if(L(e.algorithm.hash)!==r)throw U(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw U("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!j(e.algorithm,"ECDSA"))throw U("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw U(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}(function(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}})(e,r)}(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(F(t,...B));return R.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw TypeError(F(t,...B,"Uint8Array","JSON Web Key"))}let J=async(e,t,r,n)=>{let i=await G(e,t,"verify");O(e,i);let s=I(e,i.algorithm);try{return await R.subtle.verify(s,i,r,n)}catch{return!1}},Q=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0},Y=e=>e?.[Symbol.toStringTag],Z=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},ee=(e,t,r,n)=>{if(!(t instanceof Uint8Array)){if(n&&$(t)){if(function(e){return $(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&Z(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!q(t))throw TypeError(M(e,t,...B,"Uint8Array",n?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${Y(t)} instances for symmetric algorithms must be of type "secret"`)}},et=(e,t,r,n)=>{if(n&&$(t))switch(r){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&Z(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&Z(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!q(t))throw TypeError(M(e,t,...B,n?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${Y(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${Y(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${Y(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${Y(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${Y(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function er(e,t,r,n){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?ee(t,r,n,e):et(t,r,n,e)}er.bind(void 0,!1);let en=er.bind(void 0,!0),ei=function(e,t,r,n,i){let s;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(s=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!s.has(a))throw new w(`Extension Header Parameter "${a}" is not recognized`);if(void 0===i[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(s.get(a)&&void 0===n[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(n.crit)},es=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function ea(e,t){if(!H(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return p(e.k);case"RSA":if(void 0!==e.oth)throw new w('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return V({...e,alg:t});default:throw new w('Unsupported "kty" (Key Type) Parameter value')}}async function eo(e,t,r){let n,i;if(!H(e))throw new A("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new A('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new A("JWS Protected Header incorrect type");if(void 0===e.payload)throw new A("JWS Payload missing");if("string"!=typeof e.signature)throw new A("JWS Signature missing or incorrect type");if(void 0!==e.header&&!H(e.header))throw new A("JWS Unprotected Header incorrect type");let s={};if(e.protected)try{let t=p(e.protected);s=JSON.parse(c.decode(t))}catch{throw new A("JWS Protected Header is invalid")}if(!Q(s,e.header))throw new A("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let a={...s,...e.header},o=ei(A,new Map([["b64",!0]]),r?.crit,s,a),h=!0;if(o.has("b64")&&"boolean"!=typeof(h=s.b64))throw new A('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:f}=a;if("string"!=typeof f||!f)throw new A('JWS "alg" (Algorithm) Header Parameter missing or invalid');let d=r&&es("algorithms",r.algorithms);if(d&&!d.has(f))throw new v('"alg" (Algorithm) Header Parameter value not allowed');if(h){if("string"!=typeof e.payload)throw new A("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new A("JWS Payload must be a string or an Uint8Array instance");let g=!1;"function"==typeof t?(t=await t(s,e),g=!0,en(f,t,"verify"),$(t)&&(t=await ea(t,f))):en(f,t,"verify");let y=l(u.encode(e.protected??""),u.encode("."),"string"==typeof e.payload?u.encode(e.payload):e.payload);try{n=p(e.signature)}catch{throw new A("Failed to base64url decode the signature")}if(!await J(f,t,n,y))throw new S;if(h)try{i=p(e.payload)}catch{throw new A("Failed to base64url decode the payload")}else i="string"==typeof e.payload?u.encode(e.payload):e.payload;let m={payload:i};return(void 0!==e.protected&&(m.protectedHeader=s),void 0!==e.header&&(m.unprotectedHeader=e.header),g)?{...m,key:t}:m}async function eu(e,t,r){if(e instanceof Uint8Array&&(e=c.decode(e)),"string"!=typeof e)throw new A("Compact JWS must be a string or Uint8Array");let{0:n,1:i,2:s,length:a}=e.split(".");if(3!==a)throw new A("Invalid Compact JWS");let o=await eo({payload:i,protected:n,signature:s},t,r),u={payload:o.payload,protectedHeader:o.protectedHeader};return"function"==typeof t?{...u,key:o.key}:u}let ec=e=>Math.floor(e.getTime()/1e3),el=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,eh=e=>{let t;let r=el.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t},ef=e=>e.toLowerCase().replace(/^application\//,""),ed=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),ep=(e,t,r={})=>{let n,i;try{n=JSON.parse(c.decode(t))}catch{}if(!H(n))throw new x("JWT Claims Set must be a top-level JSON object");let{typ:s}=r;if(s&&("string"!=typeof e.typ||ef(e.typ)!==ef(s)))throw new y('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:a=[],issuer:o,subject:u,audience:l,maxTokenAge:h}=r,f=[...a];for(let e of(void 0!==h&&f.push("iat"),void 0!==l&&f.push("aud"),void 0!==u&&f.push("sub"),void 0!==o&&f.push("iss"),new Set(f.reverse())))if(!(e in n))throw new y(`missing required "${e}" claim`,n,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(n.iss))throw new y('unexpected "iss" claim value',n,"iss","check_failed");if(u&&n.sub!==u)throw new y('unexpected "sub" claim value',n,"sub","check_failed");if(l&&!ed(n.aud,"string"==typeof l?[l]:l))throw new y('unexpected "aud" claim value',n,"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=eh(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:d}=r,p=ec(d||new Date);if((void 0!==n.iat||h)&&"number"!=typeof n.iat)throw new y('"iat" claim must be a number',n,"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new y('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>p+i)throw new y('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new y('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=p-i)throw new m('"exp" claim timestamp check failed',n,"exp","check_failed")}if(h){let e=p-n.iat;if(e-i>("number"==typeof h?h:eh(h)))throw new m('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(e<0-i)throw new y('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};async function eg(e,t,r){let n=await eu(e,t,r);if(n.protectedHeader.crit?.includes("b64")&&!1===n.protectedHeader.b64)throw new x("JWTs MUST NOT use unencoded payload");let i={payload:ep(n.protectedHeader,n.payload,r),protectedHeader:n.protectedHeader};return"function"==typeof t?{...i,key:n.key}:i}let ey=async(e,t,r)=>{let n,i;let s=!1;"function"==typeof AbortController&&(n=new AbortController,i=setTimeout(()=>{s=!0,n.abort()},t));let a=await fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",headers:r.headers}).catch(e=>{if(s)throw new D;throw e});if(void 0!==i&&clearTimeout(i),200!==a.status)throw new g("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await a.json()}catch{throw new g("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function em(e){return H(e)}function ev(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}class ew{constructor(e){if(this._cached=new WeakMap,!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(em)}(e))throw new E("JSON Web Key Set malformed");this._jwks=ev(e)}async getKey(e,t){let{alg:r,kid:n}={...e,...t?.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new w('Unsupported "alg" value for a JSON Web Key Set')}}(r),s=this._jwks.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:a,length:o}=s;if(0===o)throw new k;if(1!==o){let e=new N,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of s)try{yield await eb(t,e,r)}catch{}},e}return eb(this._cached,a,r)}}async function eb(e,t,r){let n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){let e=await ea({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new E("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}function e_(e){let t=new ew(e),r=async(e,r)=>t.getKey(e,r);return Object.defineProperties(r,{jwks:{value:()=>ev(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),r}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(s="jose/v5.9.6");let eA=Symbol();class ex{constructor(e,t){if(!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:t?.agent,headers:t?.headers},this._timeoutDuration="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this._cooldownDuration="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,t?.[eA]!==void 0&&(this._cache=t?.[eA],function(e,t){return!!(!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||Date.now()-e.uat>=t)&&"jwks"in e&&H(e.jwks)&&Array.isArray(e.jwks.keys)&&Array.prototype.every.call(e.jwks.keys,H))}(t?.[eA],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=e_(this._cache.jwks)))}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._local&&this.fresh()||await this.reload();try{return await this._local(e,t)}catch(r){if(r instanceof k&&!1===this.coolingDown())return await this.reload(),this._local(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0);let e=new Headers(this._options.headers);s&&!e.has("User-Agent")&&(e.set("User-Agent",s),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=ey(this._url,this._timeoutDuration,this._options).then(e=>{this._local=e_(e),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=e),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}let eT=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:f(e)};if(!C(e))throw TypeError(F(e,...B,"Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...s}=await R.subtle.exportKey("jwk",e);return s};async function eE(e){return eT(e)}let ek=async(e,t,r)=>{let n=await G(e,t,"sign");return O(e,n),new Uint8Array(await R.subtle.sign(I(e,n.algorithm),n,r))};class eN{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new A("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Q(this._protectedHeader,this._unprotectedHeader))throw new A("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader},i=ei(A,new Map([["b64",!0]]),t?.crit,this._protectedHeader,n),s=!0;if(i.has("b64")&&"boolean"!=typeof(s=this._protectedHeader.b64))throw new A('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:a}=n;if("string"!=typeof a||!a)throw new A('JWS "alg" (Algorithm) Header Parameter missing or invalid');en(a,e,"sign");let o=this._payload;s&&(o=u.encode(f(o)));let h=l(r=this._protectedHeader?u.encode(f(JSON.stringify(this._protectedHeader))):u.encode(""),u.encode("."),o),d={signature:f(await ek(a,e,h)),payload:""};return s&&(d.payload=c.decode(o)),this._unprotectedHeader&&(d.header=this._unprotectedHeader),this._protectedHeader&&(d.protected=c.decode(r)),d}}class eD{constructor(e){this._flattened=new eN(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function eS(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class eI{constructor(e={}){if(!H(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:eS("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:eS("setNotBefore",ec(e))}:this._payload={...this._payload,nbf:ec(new Date)+eh(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:eS("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:eS("setExpirationTime",ec(e))}:this._payload={...this._payload,exp:ec(new Date)+eh(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:ec(new Date)}:e instanceof Date?this._payload={...this._payload,iat:eS("setIssuedAt",ec(e))}:"string"==typeof e?this._payload={...this._payload,iat:eS("setIssuedAt",ec(new Date)+eh(e))}:this._payload={...this._payload,iat:eS("setIssuedAt",e)},this}}class eR extends eI{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){let r=new eD(u.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new x("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}function eC(e){let t=e?.modulusLength??2048;if("number"!=typeof t||t<2048)throw new w("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function eO(e,t){let r,n;switch(e){case"PS256":case"PS384":case"PS512":r={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:eC(t)},n=["sign","verify"];break;case"RS256":case"RS384":case"RS512":r={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:eC(t)},n=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":r={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:eC(t)},n=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":r={name:"ECDSA",namedCurve:"P-256"},n=["sign","verify"];break;case"ES384":r={name:"ECDSA",namedCurve:"P-384"},n=["sign","verify"];break;case"ES512":r={name:"ECDSA",namedCurve:"P-521"},n=["sign","verify"];break;case"EdDSA":{n=["sign","verify"];let e=t?.crv??"Ed25519";switch(e){case"Ed25519":case"Ed448":r={name:e};break;default:throw new w("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{n=["deriveKey","deriveBits"];let e=t?.crv??"P-256";switch(e){case"P-256":case"P-384":case"P-521":r={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":r={name:e};break;default:throw new w("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new w('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return R.subtle.generateKey(r,t?.extractable??!1,n)}async function eU(e,t){return eO(e,t)}let ej={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},eL=new Uint8Array(16),eP=[];for(let e=0;e<256;++e)eP.push((e+256).toString(16).slice(1));let eF=function(e,t,r){if(ej.randomUUID&&!t&&!e)return ej.randomUUID();let n=(e=e||{}).random??e.rng?.()??function(){if(!a){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(eL)}();if(n.length<16)throw Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return(eP[e[t+0]]+eP[e[t+1]]+eP[e[t+2]]+eP[e[t+3]]+"-"+eP[e[t+4]]+eP[e[t+5]]+"-"+eP[e[t+6]]+eP[e[t+7]]+"-"+eP[e[t+8]]+eP[e[t+9]]+"-"+eP[e[t+10]]+eP[e[t+11]]+eP[e[t+12]]+eP[e[t+13]]+eP[e[t+14]]+eP[e[t+15]]).toLowerCase()}(n)},eM="solidClientAuthn:",eq=["ES256","RS256"],eB={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},eH="openid offline_access webid";class e${constructor(e){this.handleables=e,this.handleables=e}async getProperHandler(e){let t=await Promise.all(this.handleables.map(t=>t.canHandle(...e)));for(let e=0;e<t.length;e+=1)if(t[e])return this.handleables[e];return null}async canHandle(...e){return await this.getProperHandler(e)!==null}async handle(...e){let t=await this.getProperHandler(e);if(t)return t.handle(...e);throw Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map(e=>{try{return JSON.stringify(e)}catch(t){return e.toString()}}).join(", ")}`)}}async function eV(e,t,r,n){let i,s;try{let{payload:s}=await eg(e,function(e,t){let r=new ex(e,void 0),n=async(e,t)=>r.getKey(e,t);return Object.defineProperties(n,{coolingDown:{get:()=>r.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>r.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>r.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!r._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>r._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),n}(new URL(t)),{issuer:r,audience:n});i=s}catch(e){throw Error(`Token verification failed: ${e.stack}`)}if("string"==typeof i.azp&&(s=i.azp),"string"==typeof i.webid)return{webId:i.webid,clientId:s};if("string"!=typeof i.sub)throw Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:s}}catch(e){throw Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${e}].`)}}function ez(e){try{let t=new URL(e),r=!t.searchParams.has("code")&&!t.searchParams.has("state"),n=""===t.hash;return r&&n}catch(e){return!1}}function eK(e){let t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}class eX{constructor(e,t){this.storageUtility=e,this.redirector=t,this.parametersGuard=e=>void 0!==e.issuerConfiguration.grantTypesSupported&&e.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&void 0!==e.redirectUrl,this.storageUtility=e,this.redirector=t}async canHandle(e){return this.parametersGuard(e)}async handleRedirect({oidcLoginOptions:e,state:t,codeVerifier:r,targetUrl:n}){var i;if(!this.parametersGuard(e))throw Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(t,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:r,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:(!!e.dpop).toString(),keepAlive:("boolean"!=typeof(i=e.keepAlive)||!!i).toString()})]),this.redirector.redirect(n,{handleRedirect:e.handleRedirect})}}class eW{constructor(e){this.sessionInfoManager=e,this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class eG{constructor(e){this.redirector=e,this.redirector=e}async canHandle(e,t){return(null==t?void 0:t.logoutType)==="idp"}async handle(e,t){if((null==t?void 0:t.logoutType)!=="idp")throw Error("Attempting to call idp logout handler to perform app logout");if(void 0===t.toLogoutUrl)throw Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(t.toLogoutUrl(t),{handleRedirect:t.handleRedirect})}}class eJ{constructor(e,t){this.handlers=[new eW(e),new eG(t)]}async canHandle(){return!0}async handle(e,t){for(let r of this.handlers)await r.canHandle(e,t)&&await r.handle(e,t)}}function eQ(){return{isLoggedIn:!1,sessionId:eF(),fetch:(...e)=>fetch(...e)}}async function eY(e,t){await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0})])}class eZ{constructor(e){this.storageUtility=e,this.storageUtility=e}update(e,t){throw Error("Not Implemented")}get(e){throw Error("Not implemented")}async getAll(){throw Error("Not implemented")}async clear(e){return eY(e,this.storageUtility)}async register(e){throw Error("Not implemented")}async getRegisteredSessionIdAll(){throw Error("Not implemented")}async clearAll(){throw Error("Not implemented")}}function e0(e){try{return new URL(e),!0}catch(e){return!1}}async function e1(e,t,r,n){let i;if(t.scopesSupported.includes("webid")&&void 0!==e.clientId&&e0(e.clientId))i={clientId:e.clientId,clientName:e.clientName,clientType:"solid-oidc"};else{if(void 0===e.clientId||e0(e.clientId))return n.getClient({sessionId:e.sessionId,clientName:e.clientName,redirectUrl:e.redirectUrl},t);i={clientId:e.clientId,clientSecret:e.clientSecret,clientName:e.clientName,clientType:"static"}}let s={clientId:i.clientId,clientType:i.clientType};return"static"===i.clientType&&(s.clientSecret=i.clientSecret),i.clientName&&(s.clientName=i.clientName),await r.setForUser(e.sessionId,s),i}let e2=(e,t)=>fetch(e,t);class e3{constructor(e,t,r,n,i){this.loginHandler=e,this.redirectHandler=t,this.logoutHandler=r,this.sessionInfoManager=n,this.issuerConfigFetcher=i,this.fetch=e2,this.logout=async(e,t)=>{await this.logoutHandler.handle(e,(null==t?void 0:t.logoutType)==="idp"?{...t,toLogoutUrl:this.boundLogout}:t),this.fetch=e2,delete this.boundLogout},this.getSessionInfo=async e=>this.sessionInfoManager.get(e),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=e,this.redirectHandler=t,this.logoutHandler=r,this.sessionInfoManager=n,this.issuerConfigFetcher=i}}async function e5(e,t,r){try{let[n,i,s,a,o]=await Promise.all([t.getForUser(e,"issuer",{errorIfNull:!0}),t.getForUser(e,"codeVerifier"),t.getForUser(e,"redirectUrl"),t.getForUser(e,"dpop",{errorIfNull:!0}),t.getForUser(e,"keepAlive")]);await t.deleteForUser(e,"codeVerifier");let u=await r.fetchConfig(n);return{codeVerifier:i,redirectUrl:s,issuerConfig:u,dpop:"true"===a,keepAlive:"string"!=typeof o||"true"===o}}catch(t){throw Error(`Failed to retrieve OIDC context from storage associated with session [${e}]: ${t}`)}}async function e8(e,t,r,n,i,s,a,o){void 0!==s&&await e.setForUser(t,{refreshToken:s},{secure:a}),void 0!==r&&await e.setForUser(t,{webId:r},{secure:a}),void 0!==n&&await e.setForUser(t,{clientId:n},{secure:a}),void 0!==i&&await e.setForUser(t,{isLoggedIn:i},{secure:a}),void 0!==o&&await e.setForUser(t,{publicKey:JSON.stringify(o.publicKey),privateKey:JSON.stringify(await eE(o.privateKey))},{secure:a})}class e9{constructor(e,t){this.secureStorage=e,this.insecureStorage=t,this.secureStorage=e,this.insecureStorage=t}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,t){let r=await (t?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(void 0===r)return{};try{return JSON.parse(r)}catch(n){throw Error(`Data for user [${e}] in [${t?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(e,t,r){await (r?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(t))}async get(e,t){let r=await ((null==t?void 0:t.secure)?this.secureStorage:this.insecureStorage).get(e);if(void 0===r&&(null==t?void 0:t.errorIfNull))throw Error(`[${e}] is not stored`);return r}async set(e,t,r){return((null==r?void 0:r.secure)?this.secureStorage:this.insecureStorage).set(e,t)}async delete(e,t){return((null==t?void 0:t.secure)?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,t,r){let n;let i=await this.getUserData(e,null==r?void 0:r.secure);if(i&&i[t]||(n=void 0),void 0===(n=i[t])&&(null==r?void 0:r.errorIfNull))throw Error(`Field [${t}] for user [${e}] is not stored`);return n||void 0}async setForUser(e,t,r){let n;try{n=await this.getUserData(e,null==r?void 0:r.secure)}catch(e){n={}}await this.setUserData(e,{...n,...t},null==r?void 0:r.secure)}async deleteForUser(e,t,r){let n=await this.getUserData(e,null==r?void 0:r.secure);delete n[t],await this.setUserData(e,n,null==r?void 0:r.secure)}async deleteAllUserData(e,t){await ((null==t?void 0:t.secure)?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class e6{constructor(){this.map={}}async get(e){return this.map[e]||void 0}async set(e,t){this.map[e]=t}async delete(e){delete this.map[e]}}class e4 extends Error{constructor(e){super(e)}}class e7 extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class te extends Error{constructor(e,t,r){super(e),this.error=t,this.errorDescription=r}}async function tt(e,t,r){return new eR({htu:function(e){let t=new URL(e);return new URL(t.pathname,t.origin).toString()}(e),htm:t.toUpperCase(),jti:eF()}).setProtectedHeader({alg:eq[0],jwk:r.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(r.privateKey,{})}async function tr(){let{privateKey:e,publicKey:t}=await eU(eq[0]),r={privateKey:e,publicKey:await eE(t)};return[r.publicKey.alg]=eq,r}async function tn(e,t,r,n){var i;let s=new Headers(null==n?void 0:n.headers);return s.set("Authorization",`DPoP ${t}`),s.set("DPoP",await tt(e,null!==(i=null==n?void 0:n.method)&&void 0!==i?i:"get",r)),{...n,headers:s}}async function ti(e,t,r,n){if(void 0!==r)return tn(e,t,r,n);let i=new Headers(null==n?void 0:n.headers);return i.set("Authorization",`Bearer ${t}`),{...n,headers:i}}async function ts(e,t,r,n){return fetch(t,await ti(t.toString(),e,n,r))}async function ta(e,t,r){var n;let i=await e.tokenRefresher.refresh(e.sessionId,e.refreshToken,t);return null==r||r.emit(eB.SESSION_EXTENDED,null!==(n=i.expiresIn)&&void 0!==n?n:600),"string"==typeof i.refreshToken&&(null==r||r.emit(eB.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}let to=e=>void 0!==e?e-5>0?e-5:e:600;async function tu(e,t){var r;let n;let i=e,s=null==t?void 0:t.refreshOptions;if(void 0!==s){let e=async()=>{var r,a,o,u;try{let{accessToken:a,refreshToken:o,expiresIn:u}=await ta(s,t.dpopKey,t.eventEmitter);i=a,void 0!==o&&(s.refreshToken=o),clearTimeout(n),n=setTimeout(e,1e3*to(u)),null===(r=t.eventEmitter)||void 0===r||r.emit(eB.TIMEOUT_SET,n)}catch(e){e instanceof te&&(null===(a=null==t?void 0:t.eventEmitter)||void 0===a||a.emit(eB.ERROR,e.error,e.errorDescription),null===(o=null==t?void 0:t.eventEmitter)||void 0===o||o.emit(eB.SESSION_EXPIRED)),e instanceof e7&&e.missingFields.includes("access_token")&&(null===(u=null==t?void 0:t.eventEmitter)||void 0===u||u.emit(eB.SESSION_EXPIRED))}};n=setTimeout(e,1e3*to(t.expiresIn)),null===(r=t.eventEmitter)||void 0===r||r.emit(eB.TIMEOUT_SET,n)}else if(void 0!==t&&void 0!==t.eventEmitter){let e=setTimeout(()=>{t.eventEmitter.emit(eB.SESSION_EXPIRED)},1e3*to(t.expiresIn));t.eventEmitter.emit(eB.TIMEOUT_SET,e)}return async(e,r)=>{let n=await ts(i,e,r,null==t?void 0:t.dpopKey),s=!n.ok&&![401,403].includes(n.status);return n.ok||s||n.url!==e&&(null==t?void 0:t.dpopKey)!==void 0&&(n=await ts(i,n.url,r,t.dpopKey)),n}}var tc=r(429),tl=r(5674);async function th(e,t){var r,n,i;if(!t.registrationEndpoint)throw Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");let s=(n=t.idTokenSigningAlgValuesSupported,null!==(i=eq.find(e=>n.includes(e)))&&void 0!==i?i:null),a={client_name:e.clientName,application_type:"web",redirect_uris:[null===(r=e.redirectUrl)||void 0===r?void 0:r.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:s,grant_types:["authorization_code","refresh_token"]},o=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(o.ok){let t=await o.json();return!function(e,t){if(void 0===e.client_id)throw Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&(void 0===e.redirect_uris||e.redirect_uris[0]!==t.redirectUrl.toString()))throw Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`)}(t,e),{clientId:t.client_id,clientSecret:t.client_secret,idTokenSignedResponseAlg:t.id_token_signed_response_alg,clientType:"dynamic"}}throw 400===o.status&&function(e,t){var r,n,i,s;if("invalid_redirect_uri"===e.error)throw Error(`Dynamic client registration failed: the provided redirect uri [${null===(r=t.redirectUrl)||void 0===r?void 0:r.toString()}] is invalid - ${null!==(n=e.error_description)&&void 0!==n?n:""}`);if("invalid_client_metadata"===e.error)throw Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${null!==(i=e.error_description)&&void 0!==i?i:""}`);throw Error(`Dynamic client registration failed: ${e.error} - ${null!==(s=e.error_description)&&void 0!==s?s:""}`)}(await o.json(),e),Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function tf(e){return void 0!==e.error_description&&"string"==typeof e.error_description}function td(e,t){if(void 0!==e.error&&"string"==typeof e.error)throw new te(`Token endpoint returned error [${e.error}]${tf(e)?`: ${e.error_description}`:""}${void 0!==e.error_uri&&"string"==typeof e.error_uri?` (see ${e.error_uri})`:""}`,e.error,tf(e)?e.error_description:void 0);if(!(void 0!==e.access_token&&"string"==typeof e.access_token))throw new e7(["access_token"]);if(!(void 0!==e.id_token&&"string"==typeof e.id_token))throw new e7(["id_token"]);if(!(void 0!==e.token_type&&"string"==typeof e.token_type))throw new e7(["token_type"]);if(!(void 0===e.expires_in||"number"==typeof e.expires_in))throw new e7(["expires_in"]);if(!t&&"bearer"!==e.token_type.toLowerCase())throw Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function tp(e,t,r,n){let i;!function(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw Error(`This issuer [${e.issuer}] does not have a token endpoint`)}(e,r);let s={"content-type":"application/x-www-form-urlencoded"};n&&(i=await tr(),s.DPoP=await tt(e.tokenEndpoint,"POST",i)),t.clientSecret&&(s.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);let a={method:"POST",headers:s,body:new URLSearchParams({grant_type:r.grantType,redirect_uri:r.redirectUrl,code:r.code,code_verifier:r.codeVerifier,client_id:t.clientId}).toString()},o=await fetch(e.tokenEndpoint,a),u=td(await o.json(),n),{webId:c,clientId:l}=await eV(u.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:u.access_token,idToken:u.id_token,refreshToken:void 0!==u.refresh_token&&"string"==typeof u.refresh_token?u.refresh_token:void 0,webId:c,clientId:l,dpopKey:i,expiresIn:u.expires_in}}let tg=e=>{try{return new URL(e),!0}catch(e){return!1}};async function ty(e,t,r,n){let i;if(void 0===r.clientId)throw Error("No client ID available when trying to refresh the access token.");let s={grant_type:"refresh_token",refresh_token:e,scope:eH},a={};void 0!==n&&(a={DPoP:await tt(t.tokenEndpoint,"POST",n)});let o={};void 0!==r.clientSecret?o={Authorization:`Basic ${btoa(`${r.clientId}:${r.clientSecret}`)}`}:tg(r.clientId)&&(s.client_id=r.clientId);let u=await fetch(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(s).toString(),headers:{...a,...o,"Content-Type":"application/x-www-form-urlencoded"}});try{i=await u.json()}catch(e){throw Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}let c=td(i,void 0!==n),{webId:l}=await eV(c.id_token,t.jwksUri,t.issuer,r.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:"string"==typeof c.refresh_token?c.refresh_token:void 0,webId:l,dpopKey:n,expiresIn:c.expires_in}}async function tm(){let e=new tl.OidcClient({response_mode:"query"});await e.clearStaleState(new tl.WebStorageStateStore({}));let t=window.localStorage,r=[];for(let e=0;e<=t.length;e+=1){let n=t.key(e);n&&(n.match(/^oidc\..+$/)||n.match(/^solidClientAuthenticationUser:.+$/))&&r.push(n)}r.forEach(e=>t.removeItem(e))}class tv extends e9{constructor(e,t){super(e,t)}}class tw extends e3{constructor(){super(...arguments),this.login=async(e,t)=>{var r,n;await this.sessionInfoManager.clear(e.sessionId);let i=null!==(r=e.redirectUrl)&&void 0!==r?r:function(e){let t=eK(e);return(t.hash="",e.includes(`${t.origin}/`))?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}(window.location.href);if(!ez(i))throw Error(`${i} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...e,redirectUrl:i,clientName:null!==(n=e.clientName)&&void 0!==n?n:e.clientId,eventEmitter:t})},this.validateCurrentSession=async e=>{let t=await this.sessionInfoManager.get(e);return void 0===t||void 0===t.clientAppId||void 0===t.issuer?null:t},this.handleIncomingRedirect=async(e,t)=>{try{let r=await this.redirectHandler.handle(e,t,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(e),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(e),t.emit(eB.ERROR,"redirect",r);return}}}async cleanUrlAfterRedirect(e){let t=eK(e).href;for(window.history.replaceState(null,"",t);window.location.href!==t;)await new Promise(e=>{setTimeout(()=>e(),1)})}}function tb(e){return"string"==typeof e.oidcIssuer}function t_(e){return"string"==typeof e.redirectUrl}class tA{constructor(e,t,r,n){this.storageUtility=e,this.oidcHandler=t,this.issuerConfigFetcher=r,this.clientRegistrar=n,this.storageUtility=e,this.oidcHandler=t,this.issuerConfigFetcher=r,this.clientRegistrar=n}async canHandle(e){return tb(e)&&t_(e)}async handle(e){if(!tb(e))throw new e4(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!t_(e))throw new e4(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);let t=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),r=await e1(e,t,this.storageUtility,this.clientRegistrar),n={issuer:t.issuer,dpop:"dpop"===e.tokenType.toLowerCase(),...e,issuerConfiguration:t,client:r};return this.oidcHandler.handle(n)}}class tx extends eX{async handle(e){var t;let r={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl,response_type:"code",scope:eH,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:null!==(t=e.prompt)&&void 0!==t?t:"consent"},n=new tl.OidcClient(r);try{let t=await n.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:e,state:t.state._id,codeVerifier:t.state._code_verifier,targetUrl:t.url.toString()})}catch(e){console.error(e)}}}let tT={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};class tE{constructor(e){this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let t;let r=new URL(".well-known/openid-configuration",e.endsWith("/")?e:`${e}/`).href,n=await fetch(r);try{t=function(e){let t={};return Object.keys(e).forEach(r=>{tT[r]&&(t[tT[r].toKey]=e[r])}),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}(await n.json())}catch(t){throw new e4(`[${e.toString()}] has an invalid configuration: ${t.message}`)}return await this.storageUtility.set(tE.getLocalStorageKey(e),JSON.stringify(t)),t}}async function tk(e,t){await eY(e,t),await tm()}class tN extends eZ{async get(e){let[t,r,n,i,s,a,o,u]=await Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if("string"==typeof s&&!ez(s)){await Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})]);return}if(void 0!==u&&!("string"==typeof u&&["DPoP","Bearer"].includes(u)))throw Error(`Tokens of type [${u}] are not supported.`);if(void 0!==n||void 0!==t||void 0!==r||void 0!==a)return{sessionId:e,webId:r,isLoggedIn:"true"===t,redirectUrl:s,refreshToken:a,issuer:o,clientAppId:n,clientAppSecret:i,tokenType:null!=u?u:"DPoP"}}async clear(e){return tk(e,this.storageUtility)}}class tD{async canHandle(e){try{return new URL(e),!0}catch(t){throw Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e){return eQ()}}class tS{constructor(e,t,r,n,i){this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=r,this.clientRegistrar=n,this.tokerRefresher=i,this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=r,this.clientRegistrar=n,this.tokerRefresher=i}async canHandle(e){try{let t=new URL(e);return null!==t.searchParams.get("code")&&null!==t.searchParams.get("state")}catch(t){throw Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e,t){let r;if(!await this.canHandle(e))throw Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);let n=new URL(e),i=n.searchParams.get("state"),s=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:a,codeVerifier:o,redirectUrl:u,dpop:c}=await e5(s,this.storageUtility,this.issuerConfigFetcher),l=n.searchParams.get("iss");if("string"==typeof l&&l!==a.issuer)throw Error(`The value of the iss parameter (${l}) does not match the issuer identifier of the authorization server (${a.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(void 0===o)throw Error(`The code verifier for session ${s} is missing from storage.`);if(void 0===u)throw Error(`The redirect URL for session ${s} is missing from storage.`);let h=await this.clientRegistrar.getClient({sessionId:s},a),f=Date.now(),d=await tp(a,h,{grantType:"authorization_code",code:n.searchParams.get("code"),codeVerifier:o,redirectUrl:u},c);window.localStorage.removeItem(`oidc.${i}`),void 0!==d.refreshToken&&(r={sessionId:s,refreshToken:d.refreshToken,tokenRefresher:this.tokerRefresher});let p=await tu(d.accessToken,{dpopKey:d.dpopKey,refreshOptions:r,eventEmitter:t,expiresIn:d.expiresIn});await e8(this.storageUtility,s,d.webId,d.clientId,"true",void 0,!0);let g=await this.sessionInfoManager.get(s);if(!g)throw Error(`Could not retrieve session: [${s}].`);return Object.assign(g,{fetch:p,getLogoutUrl:function({endSessionEndpoint:e,idTokenHint:t}){if(void 0!==e)return function({state:r,postLogoutUrl:n}){return function({endSessionEndpoint:e,idTokenHint:t,postLogoutRedirectUri:r,state:n}){let i=new URL(e);return void 0!==t&&i.searchParams.append("id_token_hint",t),void 0!==r&&(i.searchParams.append("post_logout_redirect_uri",r),void 0!==n&&i.searchParams.append("state",n)),i.toString()}({endSessionEndpoint:e,idTokenHint:t,state:r,postLogoutRedirectUri:n})}}({idTokenHint:d.idToken,endSessionEndpoint:a.endSessionEndpoint}),expirationDate:"number"==typeof d.expiresIn?f+1e3*d.expiresIn:void 0})}}class tI extends e${constructor(e){super(e)}}class tR{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,t){this.storage.setItem(e,t)}async delete(e){this.storage.removeItem(e)}}class tC{redirect(e,t){t&&t.handleRedirect?t.handleRedirect(e):t&&t.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class tO{constructor(e){this.storageUtility=e,this.storageUtility=e}async getClient(e,t){var r;let[n,i,s,a]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientType",{secure:!1})]);if(n&&"string"==typeof(r=a)&&["dynamic","static","solid-oidc"].includes(r))return{clientId:n,clientSecret:i,clientName:s,clientType:a};try{let r=await th(e,t),n={clientId:r.clientId,clientType:"dynamic"};return r.clientSecret&&(n.clientSecret=r.clientSecret),r.idTokenSignedResponseAlg&&(n.idTokenSignedResponseAlg=r.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,n,{secure:!1}),r}catch(e){throw Error(`Client registration failed: [${e}]`)}}}class tU{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(t){throw Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e,t){if(void 0!==t){let r=new URL(e),n=r.searchParams.get("error"),i=r.searchParams.get("error_description");t.emit(eB.ERROR,n,i)}return eQ()}}class tj{constructor(e,t,r){this.storageUtility=e,this.issuerConfigFetcher=t,this.clientRegistrar=r,this.storageUtility=e,this.issuerConfigFetcher=t,this.clientRegistrar=r}async refresh(e,t,r,n){let i=await e5(e,this.storageUtility,this.issuerConfigFetcher),s=await this.clientRegistrar.getClient({sessionId:e},i.issuerConfig);if(void 0===t)throw Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(i.dpop&&void 0===r)throw Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);let a=await ty(t,i.issuerConfig,s,r);return void 0!==a.refreshToken&&(null==n||n.emit(eB.NEW_REFRESH_TOKEN,a.refreshToken)),a}}function tL(e){let t=new e6,r=new tv(e.secureStorage||t,e.insecureStorage||new tR),n=new tE(r),i=new tO(r),s=new tN(r),a=new tj(r,n,i),o=new tC;return new tw(new tA(r,new tx(r,o),n,i),new tI([new tU,new tS(r,s,n,i,a),new tD]),new eJ(s,o),s,n)}let tP=`${eM}currentSession`,tF=`${eM}currentUrl`;async function tM(e,t,r){var n;let i=await t.validateCurrentSession(e);return null!==i&&(window.localStorage.setItem(tF,window.location.href),await t.login({sessionId:e,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:null!==(n=i.tokenType)&&void 0!==n?n:"DPoP"},r.events),!0)}class tq{constructor(e={},t){this.tokenRequestInProgress=!1,this.login=async e=>{var t;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...e,tokenType:null!==(t=e.tokenType)&&void 0!==t?t:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(e,t)=>this.clientAuthentication.fetch(e,t),this.internalLogout=async(e,t)=>{window.localStorage.removeItem(tP),await this.clientAuthentication.logout(this.info.sessionId,t),this.info.isLoggedIn=!1,e&&this.events.emit(eB.LOGOUT)},this.logout=async e=>this.internalLogout(!0,e),this.handleIncomingRedirect=async(e={})=>{var t;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;let r="string"==typeof e?{url:e}:e,n=null!==(t=r.url)&&void 0!==t?t:window.location.href;this.tokenRequestInProgress=!0;let i=await this.clientAuthentication.handleIncomingRedirect(n,this.events);if(function(e){return!!(null==e?void 0:e.isLoggedIn)}(i)){this.setSessionInfo(i);let e=window.localStorage.getItem(tF);null===e?this.events.emit(eB.LOGIN):(window.localStorage.removeItem(tF),this.events.emit(eB.SESSION_RESTORED,e))}else if(!0===r.restorePreviousSession){let e=window.localStorage.getItem(tP);if(null!==e&&await tM(e,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,i},this.events=new tc,e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=tL({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=tL({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId,clientAppId:e.sessionInfo.clientAppId}:this.info={sessionId:null!=t?t:eF(),isLoggedIn:!1},this.events.on(eB.LOGIN,()=>window.localStorage.setItem(tP,this.info.sessionId)),this.events.on(eB.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(eB.ERROR,()=>this.internalLogout(!1))}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.clientAppId=e.clientAppId,this.info.expirationDate=e.expirationDate,this.events.on(eB.SESSION_EXTENDED,e=>{this.info.expirationDate=Date.now()+1e3*e})}}function tB(){return void 0===o&&(o=new tq),o}let tH=(...e)=>tB().fetch(...e),t$=(...e)=>tB().login(...e),tV=(...e)=>tB().logout(...e),tz=(...e)=>tB().handleIncomingRedirect(...e)},9210:(e,t,r)=>{"use strict";r.d(t,{A:()=>N});var n=r(7847);async function i(e,t,r){await t.updateMany(r.deletions,r.insertions),r.filesToCreate.map(t=>{(function(e,t){e.webOperation("PUT",t,{contentType:"text/turtle"})})(e,t.url)})}async function s(e,t){t&&await e.load(t.value)}var a=r(4523),o=r(6105);let u=(0,o.A)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),c=(0,o.A)("http://www.w3.org/ns/solid/terms#"),l=(0,o.A)("http://www.w3.org/ns/pim/space#"),h=(0,o.A)("http://www.w3.org/ns/ldp#");class f{constructor(e,t,r){this.store=e,this.webIdNode=t,this.preferencesDoc=r}queryPrivateTypeIndex(){let e=this.store.any(this.webIdNode,c("privateTypeIndex"),null,this.preferencesDoc);return(0,a.Y2)(e)?e:null}}class d{constructor(e,t){this.webIdNode=e,this.store=t}queryPublicTypeIndex(){let e=c("publicTypeIndex");return this.queryNamedNode(e)}queryPreferencesFile(){let e=l("preferencesFile");return this.queryNamedNode(e)}queryNamedNode(e){let t=this.store.any(this.webIdNode,e,null,this.webIdNode.doc());return(0,a.Y2)(t)?t:null}}class p{constructor(e,t){this.store=e,this.typeIndexDoc=t}queryInstancesForClass(e){return this.queryRegistrationsForType(e).instances}getNamedNodes(e,t){return this.store.each(t,c(e),null,this.typeIndexDoc).filter(e=>(0,a.Y2)(e)).map(e=>e)}queryRegistrationsForType(e){return this.store.each(null,c("forClass"),e,this.typeIndexDoc).filter(e=>(0,a.Y2)(e)).map(e=>e).map(e=>({instances:this.getNamedNodes("instance",e),instanceContainers:this.getNamedNodes("instanceContainer",e)})).reduce((e,t)=>({instances:[...e.instances,...t.instances],instanceContainers:[...e.instanceContainers,...t.instanceContainers]}),{instanceContainers:[],instances:[]})}}class g{constructor(e,t){this.containerNode=e,this.store=t}queryContents(){return this.store.each(this.containerNode,h("contains"),null,this.containerNode).filter(e=>(0,a.Y2)(e)).map(e=>e)}}class y{constructor(e){this.store=e.store,this.fetcher=e.fetcher,this.updater=e.updater}async fetchNode(e){return s(this.fetcher,e)}async fetchAll(e){return Promise.all(e.map(e=>this.fetchNode(e)))}async discoverType(e,t){await this.fetchNode(e);let r=new d(e,this.store),n=r.queryPublicTypeIndex(),i=r.queryPreferencesFile();await Promise.allSettled([this.fetchNode(n),this.fetchNode(i)]);let s={instances:[],instanceContainers:[]},a=n?new p(this.store,n).queryRegistrationsForType(t):s,o=i?new f(this.store,e,i).queryPrivateTypeIndex():null;return await this.fetchNode(o),{private:o?new p(this.store,o).queryRegistrationsForType(t):s,public:a}}async isContainer(e){let t=(0,n.ov)(e);return await this.fetcher.load(t.value),this.store.holds(t,u("type"),h("Container"),t.doc())}}let m=new(r(9152))({length:10}),v=(0,o.A)("http://purl.org/dc/terms/"),w=(0,o.A)("http://www.w3.org/2002/01/bookmark#"),b=(0,o.A)("http://www.w3.org/2001/XMLSchema#");function _(e,t,r){let i=(0,n.ov)(e);return{uri:e,deletions:[],insertions:[(0,n.st)(i,u("type"),w("Bookmark"),i.doc()),(0,n.st)(i,v("title"),(0,n.cO)(t),i.doc()),(0,n.st)(i,w("recalls"),(0,n.ov)(r),i.doc()),(0,n.st)(i,v("created"),(0,n.cO)(new Date().toISOString(),void 0,b("dateTime")),i.doc())],filesToCreate:[]}}class A{constructor(e,t){this.bookmarkDoc=e,this.store=t}queryBookmarks(){return this.store.each(void 0,u("type"),w("Bookmark"),this.bookmarkDoc).map(e=>e).map(e=>{let t=this.store.anyValue(e,v("title"),void 0,this.bookmarkDoc);if(!t)return null;let r=this.store.anyValue(e,w("recalls"),void 0,this.bookmarkDoc);return r?{uri:e.uri,title:t,bookmarkedUrl:r}:null}).filter(x)}}function x(e){return null!==e}let T=w("Bookmark");class E{constructor(e){this.store=e.store,this.fetcher=e.fetcher,this.updater=e.updater,this.support=new y(e)}async listBookmarks(e){if(!await this.support.isContainer(e))return new A((0,n.ov)(e),this.store).queryBookmarks();{let t=new g((0,n.ov)(e),this.store).queryContents();return await this.support.fetchAll(t),t.flatMap(e=>new A(e,this.store).queryBookmarks())}}async discoverStorage(e){let t=await this.support.discoverType((0,n.ov)(e),T);return{privateUrls:k([...t.private.instances,...t.private.instanceContainers]),publicUrls:k([...t.public.instances,...t.public.instanceContainers])}}async createBookmark({storageUrl:e,title:t,url:r}){let s=(0,n.ov)(e);await this.fetcher.load(s.value);let a=(this.store.holds(s,u("type"),h("Container"),s.doc())?function(e,t,r){return _(e+m.rnd(6)+"#it",t,r)}:function(e,t,r){return _(e+"#"+m.rnd(6),t,r)})(e,t,r);return await i(this.fetcher,this.updater,a),a.uri}async updateBookmark({uri:e,newTitle:t,newUrl:r}){let s=(0,n.ov)(e);await this.support.fetchNode(s);let a=function(e,t,r,i){let s=[(0,n.st)(t,v("modified"),(0,n.cO)(new Date().toISOString(),void 0,b("dateTime")),t.doc())],a=e.statementsMatching(t,v("title"),null,t.doc()),o=e.statementsMatching(t,w("recalls"),null,t.doc());return r&&s.push((0,n.st)(t,v("title"),(0,n.cO)(r),t.doc())),i&&s.push((0,n.st)(t,w("recalls"),(0,n.ov)(i),t.doc())),{insertions:s,deletions:[...a,...o],filesToCreate:[]}}(this.store,s,t,r);await i(this.fetcher,this.updater,a)}async deleteBookmark(e){let t=(0,n.ov)(e);await this.support.fetchNode(t);let r={insertions:[],deletions:this.store.statementsMatching(t,null,null,t.doc()),filesToCreate:[]};await i(this.fetcher,this.updater,r)}}function k(e){return e.map(e=>e.uri)}let N=E}}]);
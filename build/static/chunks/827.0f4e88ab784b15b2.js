(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[827],{4247:e=>{"use strict";e.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((t,n,r)=>t+(0===r?"":",")+e(void 0===n||"symbol"==typeof n?null:n),"")+"]":"{"+Object.keys(t).sort().reduce((n,r,a)=>{if(void 0===t[r]||"symbol"==typeof t[r])return n;let i=0===n.length?"":",";return n+i+e(r)+":"+e(t[r])},"")+"}"}},5854:(e,t,n)=>{"use strict";let{isArray:r,isObject:a,isString:i}=n(8798),{asArray:o}=n(3005),{prependBase:l}=n(1970),s=n(2007),d=n(1596);e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:n,base:l,cycles:u=new Set}){t&&a(t)&&t["@context"]&&(t=t["@context"]);let c=[];for(let p of t=o(t)){if(i(p)){let t=this._get(p);t||(t=await this._resolveRemoteContext({activeCtx:e,url:p,documentLoader:n,base:l,cycles:u})),r(t)?c.push(...t):c.push(t);continue}if(null===p){c.push(new d({document:null}));continue}a(p)||function(e){throw new s("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}(t);let o=JSON.stringify(p),h=this._get(o);h||(h=new d({document:p}),this._cacheResolvedContext({key:o,resolved:h,tag:"static"})),c.push(h)}return c}_get(e){let t=this.perOpCache.get(e);if(!t){let n=this.sharedCache.get(e);n&&(t=n.get("static"))&&this.perOpCache.set(e,t)}return t}_cacheResolvedContext({key:e,resolved:t,tag:n}){if(this.perOpCache.set(e,t),void 0!==n){let r=this.sharedCache.get(e);r||(r=new Map,this.sharedCache.set(e,r)),r.set(n,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:n,base:o,cycles:s}){t=l(o,t);let{context:d,remoteDoc:u}=await this._fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:s});!function e({context:t,base:n}){if(!t)return;let o=t["@context"];if(i(o)){t["@context"]=l(n,o);return}if(r(o)){for(let t=0;t<o.length;++t){let r=o[t];if(i(r)){o[t]=l(n,r);continue}a(r)&&e({context:{"@context":r},base:n})}return}if(a(o))for(let t in o)e({context:o[t],base:n})}({context:d,base:o=u.documentUrl||t});let c=await this.resolve({activeCtx:e,context:d,documentLoader:n,base:o,cycles:s});return this._cacheResolvedContext({key:t,resolved:c,tag:u.tag}),c}async _fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:o}){let l,d;if(o.size>10)throw new s("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(o.has(t))throw new s("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});o.add(t);try{l=(d=await n(t)).document||null,i(l)&&(l=JSON.parse(l))}catch(e){throw new s(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${t}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:e})}if(!a(l))throw new s(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${t}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:t});return l="@context"in l?{"@context":l["@context"]}:{"@context":{}},d.contextUrl&&(r(l["@context"])||(l["@context"]=[l["@context"]]),l["@context"].push(d.contextUrl)),{context:l,remoteDoc:d}}}},2007:e=>{"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},8025:e=>{"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},7971:(e,t,n)=>{"use strict";e.exports=n(201).NQuads},785:e=>{"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){let t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},1596:(e,t,n)=>{"use strict";let r=n(4261);e.exports=class{constructor({document:e}){this.document=e,this.cache=new r({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},7498:(e,t,n)=>{"use strict";let r=n(2007),{isArray:a,isObject:i,isString:o,isUndefined:l}=n(8798),{isList:s,isValue:d,isGraph:u,isSimpleGraph:c,isSubjectReference:p}=n(5280),{expandIri:h,getContextValue:f,isKeyword:g,process:v,processingMode:y}=n(3828),{removeBase:m,prependBase:x}=n(1970),{REGEX_KEYWORD:b,addValue:w,asArray:j,compareShortestLeast:I}=n(3005),N={};function S(e,t,n){if("@nest"!==h(e,t,{vocab:!0},n))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=N,N.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:h={}})=>{if(a(n)){let r=[];for(let a=0;a<n.length;++a){let i=await N.compact({activeCtx:e,activeProperty:t,element:n[a],options:h});null!==i&&r.push(i)}return h.compactArrays&&1===r.length&&0===(f(e,t,"@container")||[]).length&&(r=r[0]),r}let m=f(e,t,"@context");if(l(m)||(e=await v({activeCtx:e,localCtx:m,propagate:!0,overrideProtected:!0,options:h})),i(n)){if(h.link&&"@id"in n&&h.link.hasOwnProperty(n["@id"])){let e=h.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(d(n)||p(n)){let r=N.compactValue({activeCtx:e,activeProperty:t,value:n,options:h});return h.link&&p(n)&&(h.link.hasOwnProperty(n["@id"])||(h.link[n["@id"]]=[]),h.link[n["@id"]].push({expanded:n,compacted:r})),r}if(s(n)&&(f(e,t,"@container")||[]).includes("@list"))return N.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:h});let m="@reverse"===t,x={},b=e;d(n)||p(n)||(e=e.revertToPreviousContext());let I=f(b,t,"@context");l(I)||(e=await v({activeCtx:e,localCtx:I,propagate:!0,overrideProtected:!0,options:h})),h.link&&"@id"in n&&(h.link.hasOwnProperty(n["@id"])||(h.link[n["@id"]]=[]),h.link[n["@id"]].push({expanded:n,compacted:x}));let O=n["@type"]||[];O.length>1&&(O=Array.from(O).sort());let k=e;for(let t of O){let n=f(b,N.compactIri({activeCtx:k,iri:t,relativeTo:{vocab:!0}}),"@context");l(n)||(e=await v({activeCtx:e,localCtx:n,options:h,propagate:!1}))}for(let l of Object.keys(n).sort()){let p=n[l];if("@id"===l){let t=j(p).map(t=>N.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:h.base}));1===t.length&&(t=t[0]),x[N.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t;continue}if("@type"===l){let t=j(p).map(e=>N.compactIri({activeCtx:b,iri:e,relativeTo:{vocab:!0}}));1===t.length&&(t=t[0]);let n=N.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),r=(f(e,n,"@container")||[]).includes("@set")&&y(e,1.1)||a(t)&&0===p.length;w(x,n,t,{propertyIsArray:r});continue}if("@reverse"===l){let t=await N.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:h});for(let n in t)if(e.mappings.has(n)&&e.mappings.get(n).reverse){let r=t[n],a=(f(e,n,"@container")||[]).includes("@set")||!h.compactArrays;w(x,n,r,{propertyIsArray:a}),delete t[n]}Object.keys(t).length>0&&w(x,N.compactIri({activeCtx:e,iri:l,relativeTo:{vocab:!0}}),t);continue}if("@preserve"===l){let n=await N.compact({activeCtx:e,activeProperty:t,element:p,options:h});a(n)&&0===n.length||w(x,l,n);continue}if("@index"===l){if((f(e,t,"@container")||[]).includes("@index"))continue;w(x,N.compactIri({activeCtx:e,iri:l,relativeTo:{vocab:!0}}),p);continue}if("@graph"!==l&&"@list"!==l&&"@included"!==l&&g(l)){w(x,N.compactIri({activeCtx:e,iri:l,relativeTo:{vocab:!0}}),p);continue}if(!a(p))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===p.length){let t=N.compactIri({activeCtx:e,iri:l,value:p,relativeTo:{vocab:!0},reverse:m}),n=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null,r=x;n&&(S(e,n,h),i(x[n])||(x[n]={}),r=x[n]),w(r,t,p,{propertyIsArray:!0})}for(let t of p){let n;let r=N.compactIri({activeCtx:e,iri:l,value:t,relativeTo:{vocab:!0},reverse:m}),p=e.mappings.has(r)?e.mappings.get(r)["@nest"]:null,g=x;p&&(S(e,p,h),i(x[p])||(x[p]={}),g=x[p]);let v=f(e,r,"@container")||[],y=u(t),b=s(t);b?n=t["@list"]:y&&(n=t["@graph"]);let I=await N.compact({activeCtx:e,activeProperty:r,element:b||y?n:t,options:h});if(b){if(a(I)||(I=[I]),v.includes("@list")){w(g,r,I,{valueIsArray:!0,allowDuplicate:!0});continue}I={[N.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:I},"@index"in t&&(I[N.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(y){if(v.includes("@graph")&&(v.includes("@id")||v.includes("@index")&&c(t))){let n;g.hasOwnProperty(r)?n=g[r]:g[r]=n={},w(n,(v.includes("@id")?t["@id"]:t["@index"])||N.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}}),I,{propertyIsArray:!h.compactArrays||v.includes("@set")})}else v.includes("@graph")&&c(t)?a(I)&&I.length>1&&(I={"@included":I}):(a(I)&&1===I.length&&h.compactArrays&&(I=I[0]),I={[N.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:I},"@id"in t&&(I[N.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(I[N.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])),w(g,r,I,{propertyIsArray:!h.compactArrays||v.includes("@set")})}else if(v.includes("@language")||v.includes("@index")||v.includes("@id")||v.includes("@type")){let n,a;if(g.hasOwnProperty(r)?n=g[r]:g[r]=n={},v.includes("@language"))d(I)&&(I=I["@value"]),a=t["@language"];else if(v.includes("@index")){let n=f(e,r,"@index")||"@index",i=N.compactIri({activeCtx:e,iri:n,relativeTo:{vocab:!0}});if("@index"===n)a=t["@index"],delete I[i];else{let e;if([a,...e]=j(I[n]||[]),o(a))switch(e.length){case 0:delete I[n];break;case 1:I[n]=e[0];break;default:I[n]=e}else a=null}}else if(v.includes("@id")){let t=N.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});a=I[t],delete I[t]}else if(v.includes("@type")){let n;let i=N.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});switch([a,...n]=j(I[i]||[]),n.length){case 0:delete I[i];break;case 1:I[i]=n[0];break;default:I[i]=n}1===Object.keys(I).length&&"@id"in t&&(I=await N.compact({activeCtx:e,activeProperty:r,element:{"@id":t["@id"]},options:h}))}a||(a=N.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),w(n,a,I,{propertyIsArray:v.includes("@set")})}else{let e=!h.compactArrays||v.includes("@set")||v.includes("@list")||a(I)&&0===I.length||"@list"===l||"@graph"===l;w(g,r,I,{propertyIsArray:e})}}}return x}return n},N.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:a={vocab:!1},reverse:o=!1,base:l=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);let c=e.getInverse();if(g(t)&&t in c&&"@none"in c[t]&&"@type"in c[t]["@none"]&&"@none"in c[t]["@none"]["@type"])return c[t]["@none"]["@type"]["@none"];if(a.vocab&&t in c){let r=e["@language"]||"@none",a=[];i(n)&&"@index"in n&&!("@graph"in n)&&a.push("@index","@index@set"),i(n)&&"@preserve"in n&&(n=n["@preserve"][0]),u(n)?("@index"in n&&a.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&a.push("@graph@id","@graph@id@set"),a.push("@graph","@graph@set","@set"),"@index"in n||a.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||a.push("@graph@id","@graph@id@set")):i(n)&&!d(n)&&a.push("@id","@id@set","@type","@set@type");let l="@language",c="@null";if(o)l="@type",c="@reverse",a.push("@set");else if(s(n)){"@index"in n||a.push("@list");let e=n["@list"];if(0===e.length)l="@any",c="@none";else{let t=0===e.length?r:null,n=null;for(let r=0;r<e.length;++r){let a=e[r],i="@none",o="@none";if(d(a)){if("@direction"in a){let e=(a["@language"]||"").toLowerCase(),t=a["@direction"];i=`${e}_${t}`}else"@language"in a?i=a["@language"].toLowerCase():"@type"in a?o=a["@type"]:i="@null"}else o="@id";if(null===t?t=i:i!==t&&d(a)&&(t="@none"),null===n?n=o:o!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none","@none"!==(n=n||"@none")?(l="@type",c=n):c=t}}else{if(d(n)){if("@language"in n&&!("@index"in n)){a.push("@language","@language@set"),c=n["@language"];let e=n["@direction"];e&&(c=`${c}_${e}`)}else"@direction"in n&&!("@index"in n)?c=`_${n["@direction"]}`:"@type"in n&&(l="@type",c=n["@type"])}else l="@type",c="@id";a.push("@set")}a.push("@none"),!i(n)||"@index"in n||a.push("@index","@index@set"),d(n)&&1===Object.keys(n).length&&a.push("@language","@language@set");let p=function(e,t,n,r,a,o){null===o&&(o="@null");let l=[];if(("@id"===o||"@reverse"===o)&&i(n)&&"@id"in n){"@reverse"===o&&l.push("@reverse");let t=N.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?l.push.apply(l,["@vocab","@id"]):l.push.apply(l,["@id","@vocab"])}else{l.push(o);let e=l.find(e=>e.includes("_"));e&&l.push(e.replace(/^[^_]+_/,"_"))}l.push("@none");let s=e.inverse[t];for(let e of r){if(!(e in s))continue;let t=s[e][a];for(let e of l)if(e in t)return t[e]}return null}(e,t,n,a,l,c);if(null!==p)return p}if(a.vocab&&"@vocab"in e){let n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){let r=t.substr(n.length);if(!e.mappings.has(r))return r}}let p=null,h=[],f=e.fastCurieMap,v=t.length-1;for(let e=0;e<v&&t[e]in f;++e)""in(f=f[t[e]])&&h.push(f[""][0]);for(let r=h.length-1;r>=0;--r){let a=h[r];for(let r of a.terms){let i=r+":"+t.substr(a.iri.length);e.mappings.get(r)._prefix&&(!e.mappings.has(i)||null===n&&e.mappings.get(i)["@id"]===t)&&(null===p||0>I(i,p))&&(p=i)}}if(null!==p)return p;for(let[n,a]of e.mappings)if(a&&a._prefix&&t.startsWith(n+":"))throw new r(`Absolute IRI "${t}" confused with prefix "${n}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!a.vocab){if(!("@base"in e))return m(l,t);if(e["@base"]){let n=m(x(l,e["@base"]),t);return b.test(n)?`./${n}`:n}}return t},N.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(d(n)){let r=f(e,t,"@type"),a=f(e,t,"@language"),i=f(e,t,"@direction"),l=f(e,t,"@container")||[],s="@index"in n&&!l.includes("@index");if(!s&&"@none"!==r&&(n["@type"]===r||"@language"in n&&n["@language"]===a&&"@direction"in n&&n["@direction"]===i||"@language"in n&&n["@language"]===a||"@direction"in n&&n["@direction"]===i))return n["@value"];let d=Object.keys(n).length,u=1===d||2===d&&"@index"in n&&!s,c="@language"in e,p=o(n["@value"]),h=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==r&&(!c||!p||h))return n["@value"];let g={};return s&&(g[N.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?g[N.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=N.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(g[N.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(g[N.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),g[N.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],g}let a=h(e,t,{vocab:!0},r),i=f(e,t,"@type"),l=N.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===i},base:r.base});return"@id"===i||"@vocab"===i||"@graph"===a?l:{[N.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:l}}},746:e=>{"use strict";let t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:n,XSD_BOOLEAN:n+"boolean",XSD_DOUBLE:n+"double",XSD_INTEGER:n+"integer",XSD_STRING:n+"string"}},3828:(e,t,n)=>{"use strict";let r=n(3005),a=n(2007),{isArray:i,isObject:o,isString:l,isUndefined:s}=n(8798),{isAbsolute:d,isRelative:u,prependBase:c}=n(1970),{handleEvent:p}=n(6056),{REGEX_BCP47:h,REGEX_KEYWORD:f,asArray:g,compareShortestLeast:v}=n(3005),y=new Map,m={};function x(e,t,n,r,a,i){if(null===t||!l(t)||m.isKeyword(t))return t;if(t.match(f))return null;if(r&&r.hasOwnProperty(t)&&!0!==a.get(t)&&m.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:a,options:i}),(n=n||{}).vocab){let n=e.mappings.get(t);if(null===n)return null;if(o(n)&&"@id"in n)return n["@id"]}let s=t.indexOf(":");if(s>0){let n=t.substr(0,s),o=t.substr(s+1);if("_"===n||0===o.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&m.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:a,options:i});let l=e.mappings.get(n);if(l&&l._prefix)return l["@id"]+o;if(d(t))return t}if(n.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(n.base){let n,r;"@base"in e?e["@base"]?(r=c(i.base,e["@base"]),n=c(r,t)):(r=e["@base"],n=t):(r=i.base,n=c(i.base,t)),t=n}return t}e.exports=m,m.process=async({activeCtx:e,localCtx:t,options:n,propagate:r=!0,overrideProtected:s=!1,cycles:f=new Set})=>{if(o(t)&&"@context"in t&&i(t["@context"])&&(t=t["@context"]),0===g(t).length)return e;let v=[],y=[({event:e,next:t})=>{v.push(e),t()}];n.eventHandler&&y.push(n.eventHandler);let b=n;n={...n,eventHandler:y};let w=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});o(w[0].document)&&"boolean"==typeof w[0].document["@propagate"]&&(r=w[0].document["@propagate"]);let j=e;for(let i of(r||j.previousContext||((j=j.clone()).previousContext=e),w)){let{document:r}=i;if(e=j,null===r){if(!s&&0!==Object.keys(e.protected).length)throw new a("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});j=e=m.getInitialContext(n).clone();continue}let g=i.getProcessed(e);if(g){if(b.eventHandler)for(let e of g.events)p({event:e,options:b});j=e=g.context;continue}if(o(r)&&"@context"in r&&(r=r["@context"]),!o(r))throw new a("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:r});j=j.clone();let y=new Map;if("@version"in r){if(1.1!==r["@version"])throw new a("Unsupported JSON-LD version: "+r["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:r});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new a("@version: "+r["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:r});j.processingMode="json-ld-1.1",j["@version"]=r["@version"],y.set("@version",!0)}if(j.processingMode=j.processingMode||e.processingMode,"@base"in r){let e=r["@base"];if(null===e||d(e));else if(u(e))e=c(j["@base"],e);else throw new a('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:r});j["@base"]=e,y.set("@base",!0)}if("@vocab"in r){let e=r["@vocab"];if(null===e)delete j["@vocab"];else if(l(e)){if(!d(e)&&m.processingMode(j,1))throw new a('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:r});{let t=x(j,e,{vocab:!0,base:!0},void 0,void 0,n);!d(t)&&n.eventHandler&&p({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:t}},options:n}),j["@vocab"]=t}}else throw new a('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:r});y.set("@vocab",!0)}if("@language"in r){let e=r["@language"];if(null===e)delete j["@language"];else if(l(e))!e.match(h)&&n.eventHandler&&p({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:n}),j["@language"]=e.toLowerCase();else throw new a('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:r});y.set("@language",!0)}if("@direction"in r){let t=r["@direction"];if("json-ld-1.0"===e.processingMode)throw new a("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:r});if(null===t)delete j["@direction"];else if("ltr"!==t&&"rtl"!==t)throw new a('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:r});else j["@direction"]=t;y.set("@direction",!0)}if("@propagate"in r){let n=r["@propagate"];if("json-ld-1.0"===e.processingMode)throw new a("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:r});if("boolean"!=typeof n)throw new a("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});y.set("@propagate",!0)}if("@import"in r){let i=r["@import"];if("json-ld-1.0"===e.processingMode)throw new a("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:r});if(!l(i))throw new a("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});let o=await n.contextResolver.resolve({activeCtx:e,context:i,documentLoader:n.documentLoader,base:n.base});if(1!==o.length)throw new a("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});let s=o[0].getProcessed(e);if(s)r=s;else{let n=o[0].document;if("@import"in n)throw new a("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(let e in n)r.hasOwnProperty(e)||(r[e]=n[e]);o[0].setProcessed(e,r)}y.set("@import",!0)}for(let e in y.set("@protected",r["@protected"]||!1),r)if(m.createTermDefinition({activeCtx:j,localCtx:r,term:e,defined:y,options:n,overrideProtected:s}),o(r[e])&&"@context"in r[e]){let t=r[e]["@context"],i=!0;if(l(t)){let e=c(n.base,t);f.has(e)?i=!1:f.add(e)}if(i)try{await m.process({activeCtx:j.clone(),localCtx:r[e]["@context"],overrideProtected:!0,options:n,cycles:f})}catch(t){throw new a("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:r[e]["@context"],term:e})}}i.setProcessed(e,{context:j,events:v})}return j},m.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:s,overrideProtected:u=!1})=>{let c;if(r.has(n)){if(r.get(n))return;throw new a("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}if(r.set(n,!1),t.hasOwnProperty(n)&&(c=t[n]),"@type"===n&&o(c)&&"@set"===(c["@container"]||"@set")&&m.processingMode(e,1.1)){let e=["@container","@id","@protected"],r=Object.keys(c);if(0===r.length||r.some(t=>!e.includes(t)))throw new a("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else if(m.isKeyword(n))throw new a("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});else if(n.match(f)){s.eventHandler&&p({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:s});return}else if(""===n)throw new a("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});let h=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let g=!1;if((l(c)||null===c)&&(g=!0,c={"@id":c}),!o(c))throw new a("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});let v={};e.mappings.set(n,v),v.reverse=!1;let y=["@container","@id","@language","@reverse","@type"];for(let n in m.processingMode(e,1.1)&&y.push("@context","@direction","@index","@nest","@prefix","@protected"),c)if(!y.includes(n))throw new a("Invalid JSON-LD syntax; a term definition must not contain "+n,"jsonld.SyntaxError",{code:"invalid term definition",context:t});let b=n.indexOf(":");if(v._termHasColon=b>0,"@reverse"in c){if("@id"in c)throw new a("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in c)throw new a("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});let i=c["@reverse"];if(!l(i))throw new a("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(i.match(f)){s.eventHandler&&p({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:i}},options:s}),h?e.mappings.set(n,h):e.mappings.delete(n);return}let o=x(e,i,{vocab:!0,base:!1},t,r,s);if(!d(o))throw new a("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});v["@id"]=o,v.reverse=!0}else if("@id"in c){let i=c["@id"];if(i&&!l(i))throw new a("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===i)v["@id"]=null;else if(!m.isKeyword(i)&&i.match(f)){s.eventHandler&&p({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:i}},options:s}),h?e.mappings.set(n,h):e.mappings.delete(n);return}else if(i!==n){if(!d(i=x(e,i,{vocab:!0,base:!1},t,r,s))&&!m.isKeyword(i))throw new a("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){let o=new Map(r).set(n,!0);if(x(e,n,{vocab:!0,base:!1},t,o,s)!==i)throw new a("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}v["@id"]=i,v._prefix=g&&!v._termHasColon&&null!==i.match(/[:\/\?#\[\]@]$/)}}if(!("@id"in v)){if(v._termHasColon){let a=n.substr(0,b);if(t.hasOwnProperty(a)&&m.createTermDefinition({activeCtx:e,localCtx:t,term:a,defined:r,options:s}),e.mappings.has(a)){let t=n.substr(b+1);v["@id"]=e.mappings.get(a)["@id"]+t}else v["@id"]=n}else if("@type"===n)v["@id"]=n;else{if(!("@vocab"in e))throw new a("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});v["@id"]=e["@vocab"]+n}}if((!0===c["@protected"]||!0===r.get("@protected")&&!1!==c["@protected"])&&(e.protected[n]=!0,v.protected=!0),r.set(n,!0),"@type"in c){let n=c["@type"];if(!l(n))throw new a("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===n||"@none"===n){if(m.processingMode(e,1))throw new a(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==n&&"@vocab"!==n){if(!d(n=x(e,n,{vocab:!0,base:!1},t,r,s)))throw new a("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new a("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}v["@type"]=n}if("@container"in c){let n=l(c["@container"])?[c["@container"]]:c["@container"]||[],r=["@list","@set","@index","@language"],o=!0,s=n.includes("@set");if(m.processingMode(e,1.1)){if(r.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new a("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new a("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else o&=n.length<=(s?2:1);if(n.includes("@type")&&(v["@type"]=v["@type"]||"@id",!["@id","@vocab"].includes(v["@type"])))throw new a("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else o&=!i(c["@container"]),o&=n.length<=1;if(o&=n.every(e=>r.includes(e)),!(o&=!(s&&n.includes("@list"))))throw new a("Invalid JSON-LD syntax; @context @container value must be one of the following: "+r.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(v.reverse&&!n.every(e=>["@index","@set"].includes(e)))throw new a("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});v["@container"]=n}if("@index"in c){if(!("@container"in c)||!v["@container"].includes("@index"))throw new a(`Invalid JSON-LD syntax; @index without @index in @container: "${c["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!l(c["@index"])||0===c["@index"].indexOf("@"))throw new a(`Invalid JSON-LD syntax; @index must expand to an IRI: "${c["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});v["@index"]=c["@index"]}if("@context"in c&&(v["@context"]=c["@context"]),"@language"in c&&!("@type"in c)){let e=c["@language"];if(null!==e&&!l(e))throw new a("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),v["@language"]=e}if("@prefix"in c){if(n.match(/:|\//))throw new a("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(m.isKeyword(v["@id"]))throw new a("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"==typeof c["@prefix"])v._prefix=!0===c["@prefix"];else throw new a("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in c){let e=c["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new a('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});v["@direction"]=e}if("@nest"in c){let e=c["@nest"];if(!l(e)||"@nest"!==e&&0===e.indexOf("@"))throw new a("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});v["@nest"]=e}let w=v["@id"];if("@context"===w||"@preserve"===w)throw new a("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(h&&h.protected&&!u&&(e.protected[n]=!0,v.protected=!0,!function e(t,n){if(!(t&&"object"==typeof t)||!(n&&"object"==typeof n))return t===n;let r=Array.isArray(t);if(r!==Array.isArray(n))return!1;if(r){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(!e(t[r],n[r]))return!1;return!0}let a=Object.keys(t),i=Object.keys(n);if(a.length!==i.length)return!1;for(let r in t){let a=t[r],i=n[r];if("@container"===r&&Array.isArray(a)&&Array.isArray(i)&&(a=a.slice().sort(),i=i.slice().sort()),!e(a,i))return!1}return!0}(h,v)))throw new a("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n})},m.expandIri=(e,t,n,r)=>x(e,t,n,void 0,void 0,r),m.getInitialContext=e=>{let t=JSON.stringify({processingMode:e.processingMode}),n=y.get(t);if(n)return n;let a={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){if(this.inverse)return this.inverse;let e=this.inverse={},t=this.fastCurieMap={},n={},r=(this["@language"]||"@none").toLowerCase(),a=this["@direction"],o=this.mappings;for(let l of[...o.keys()].sort(v)){let s=o.get(l);if(null===s)continue;let d=s["@container"]||"@none";if(d=[].concat(d).sort().join(""),null!==s["@id"])for(let o of g(s["@id"])){let u=e[o],c=m.isKeyword(o);if(u)c||s._termHasColon||n[o].push(l);else if(e[o]=u={},!c&&!s._termHasColon){n[o]=[l];let e={iri:o,terms:n[o]};o[0]in t?t[o[0]].push(e):t[o[0]]=[e]}if(u[d]||(u[d]={"@language":{},"@type":{},"@any":{}}),i(l,(u=u[d])["@any"],"@none"),s.reverse)i(l,u["@type"],"@reverse");else if("@none"===s["@type"])i(l,u["@any"],"@none"),i(l,u["@language"],"@none"),i(l,u["@type"],"@none");else if("@type"in s)i(l,u["@type"],s["@type"]);else if("@language"in s&&"@direction"in s){let e=s["@language"],t=s["@direction"];e&&t?i(l,u["@language"],`${e}_${t}`.toLowerCase()):e?i(l,u["@language"],e.toLowerCase()):t?i(l,u["@language"],`_${t}`):i(l,u["@language"],"@null")}else"@language"in s?i(l,u["@language"],(s["@language"]||"@null").toLowerCase()):"@direction"in s?s["@direction"]?i(l,u["@language"],`_${s["@direction"]}`):i(l,u["@language"],"@none"):(a?i(l,u["@language"],`_${a}`):i(l,u["@language"],r),i(l,u["@language"],"@none"),i(l,u["@type"],"@none"))}}for(let e in t)(function e(t,n,r){let a,i;let o=t[n],l=t[n]={};for(let e of o)(i=r>=(a=e.iri).length?"":a[r])in l?l[i].push(e):l[i]=[e];for(let t in l)""!==t&&e(l,t,r+1)})(t,e,1);return e},clone:function(){let e={};return e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=r.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===y.size&&y.clear(),y.set(t,a),a;function i(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},m.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){let r=e.mappings.get(t);if(s(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},m.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,m.isKeyword=e=>{if(!l(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},3537:(e,t,n)=>{"use strict";let{parseLinkHeader:r,buildHeaders:a}=n(3005),{LINK_HEADER_CONTEXT:i}=n(746),o=n(2007),l=n(785),{prependBase:s}=n(1970),d=/(^|(\r\n))link:/i;e.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>{return t=a(t),new l().wrapLoader(u);async function u(a){let l,c;if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))throw new o('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(e&&0!==a.indexOf("https"))throw new o('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});try{l=await function(e,t,n){let r=new(e=e||XMLHttpRequest);return new Promise((e,a)=>{for(let i in r.onload=()=>e(r),r.onerror=e=>a(e),r.open("GET",t,!0),n)r.setRequestHeader(i,n[i]);r.send()})}(n,a,t)}catch(e){throw new o("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:e})}if(l.status>=400)throw new o("URL could not be dereferenced: "+l.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:l.status});let p={contextUrl:null,documentUrl:a,document:l.response},h=null,f=l.getResponseHeader("Content-Type");if(d.test(l.getAllResponseHeaders())&&(c=l.getResponseHeader("Link")),c&&"application/ld+json"!==f){let e=r(c),t=e[i];if(Array.isArray(t))throw new o("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});t&&(p.contextUrl=t.target),(h=e.alternate)&&"application/ld+json"==h.type&&!(f||"").match(/^application\/(\w*\+)?json$/)&&(p=await u(s(a,h.target)))}return p}}},6056:(e,t,n)=>{"use strict";let r=n(2007),{isArray:a}=n(8798),{asArray:i}=n(3005),o={};e.exports=o,o.defaultEventHandler=null,o.setupEventHandler=({options:e={}})=>{let t=[].concat(e.safe?o.safeEventHandler:[],e.eventHandler?i(e.eventHandler):[],o.defaultEventHandler?o.defaultEventHandler:[]);return 0===t.length?null:t},o.handleEvent=({event:e,options:t})=>{(function e({event:t,handlers:n}){let i=!0;for(let o=0;i&&o<n.length;++o){i=!1;let l=n[o];if(a(l))i=e({event:t,handlers:l});else if("function"==typeof l)l({event:t,next:()=>{i=!0}});else if("object"==typeof l)t.code in l?l[t.code]({event:t,next:()=>{i=!0}}):i=!0;else throw new r("Invalid event handler.","jsonld.InvalidEventHandler",{event:t})}return i})({event:e,handlers:t.eventHandler})};let l=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);o.safeEventHandler=function({event:e,next:t}){if("warning"===e.level&&l.has(e.code))throw new r("Safe mode validation error.","jsonld.ValidationError",{event:e});t()},o.logEventHandler=function({event:e,next:t}){console.log(`EVENT: ${e.message}`,{event:e}),t()},o.logWarningEventHandler=function({event:e,next:t}){"warning"===e.level&&console.warn(`WARNING: ${e.message}`,{event:e}),t()},o.unhandledEventHandler=function({event:e}){throw new r("No handler for event.","jsonld.UnhandledEvent",{event:e})},o.setDefaultEventHandler=function({eventHandler:e}={}){o.defaultEventHandler=e?i(e):null}},5529:(e,t,n)=>{"use strict";let r=n(2007),{isArray:a,isObject:i,isEmptyObject:o,isString:l,isUndefined:s}=n(8798),{isList:d,isValue:u,isGraph:c,isSubject:p}=n(5280),{expandIri:h,getContextValue:f,isKeyword:g,process:v,processingMode:y}=n(3828),{isAbsolute:m}=n(1970),{REGEX_BCP47:x,REGEX_KEYWORD:b,addValue:w,asArray:j,getValues:I,validateTypeValue:N}=n(3005),{handleEvent:S}=n(6056),O={};function k({value:e,count:t,options:n}){if(0===t||"@value"in e||"@list"in e||1===t&&"@id"in e){if(n.eventHandler){let r,a;0===t?(r="empty object",a="Dropping empty object."):"@value"in e?(r="object with only @value",a="Dropping object with only @value."):"@list"in e?(r="object with only @list",a="Dropping object with only @list."):1===t&&"@id"in e&&(r="object with only @id",a="Dropping object with only @id."),S({event:{type:["JsonLdEvent"],code:r,level:"warning",message:a,details:{value:e}},options:n})}return null}return e}async function E({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:c,expandedParent:b,options:I={},insideList:D,typeKey:A,typeScopedContext:R}){let T;let C=Object.keys(c).sort(),_=[],J=c[A]&&"@json"===h(e,a(c[A])?c[A][0]:c[A],{vocab:!0},{...I,typeExpansion:!0});for(let E of C){let D,A=c[E];if("@context"===E)continue;let C=h(e,E,{vocab:!0},I);if(null===C||!(m(C)||g(C))){I.eventHandler&&S({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:E,expandedProperty:C}},options:I});continue}if(g(C)){if("@reverse"===n)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:A});if(C in b&&"@included"!==C&&"@type"!==C)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:C})}if("@id"===C){if(!l(A)){if(!I.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(i(A)){if(!o(A))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}else if(a(A)){if(!A.every(e=>l(e)))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}else throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}w(b,"@id",j(A).map(t=>{if(l(t)){let n=h(e,t,{base:!0},I);return I.eventHandler&&(null===n?null===t?S({event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:t}},options:I}):S({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:I}):m(n)||S({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:t,expandedId:n}},options:I})),n}return t}),{propertyIsArray:I.isFrame});continue}if("@type"===C){i(A)&&(A=Object.fromEntries(Object.entries(A).map(([e,t])=>[h(R,e,{vocab:!0}),j(t).map(e=>h(R,e,{base:!0,vocab:!0},{...I,typeExpansion:!0}))]))),N(A,I.isFrame),w(b,"@type",j(A).map(e=>{if(l(e)){let t=h(R,e,{base:!0,vocab:!0},{...I,typeExpansion:!0});return"@json"!==t&&!m(t)&&I.eventHandler&&S({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:e}},options:I}),t}return e}),{propertyIsArray:!!I.isFrame});continue}if("@included"===C&&y(e,1.1)){let n=j(await O.expand({activeCtx:e,activeProperty:t,element:A,options:I}));if(!n.every(e=>p(e)))throw new r("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:A});w(b,"@included",n,{propertyIsArray:!0});continue}if("@graph"===C&&!(i(A)||a(A)))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:A});if("@value"===C){T=A,J&&y(e,1.1)?b["@value"]=A:w(b,"@value",A,{propertyIsArray:I.isFrame});continue}if("@language"===C){if(null===A)continue;if(!l(A)&&!I.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:A});for(let e of A=j(A).map(e=>l(e)?e.toLowerCase():e))l(e)&&!e.match(x)&&I.eventHandler&&S({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:I});w(b,"@language",A,{propertyIsArray:I.isFrame});continue}if("@direction"===C){if(!l(A)&&!I.isFrame)throw new r('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:A});for(let e of A=j(A))if(l(e)&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:A});w(b,"@direction",A,{propertyIsArray:I.isFrame});continue}if("@index"===C){if(!l(A))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:A});w(b,"@index",A);continue}if("@reverse"===C){if(!i(A))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:A});if("@reverse"in(D=await O.expand({activeCtx:e,activeProperty:"@reverse",element:A,options:I})))for(let e in D["@reverse"])w(b,e,D["@reverse"][e],{propertyIsArray:!0});let t=b["@reverse"]||null;for(let e in D){if("@reverse"===e)continue;null===t&&(t=b["@reverse"]={}),w(t,e,[],{propertyIsArray:!0});let n=D[e];for(let a=0;a<n.length;++a){let i=n[a];if(u(i)||d(i))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:D});w(t,e,i,{propertyIsArray:!0})}}continue}if("@nest"===C){_.push(E);continue}let M=e,P=f(e,E,"@context");s(P)||(M=await v({activeCtx:e,localCtx:P,propagate:!0,overrideProtected:!0,options:I}));let H=f(e,E,"@container")||[];if(H.includes("@language")&&i(A)){let e=f(M,E,"@direction");D=function(e,t,n,i){let o=[];for(let s of Object.keys(t).sort()){let d=h(e,s,{vocab:!0},i),u=t[s];for(let e of(a(u)||(u=[u]),u)){if(null===e)continue;if(!l(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});let a={"@value":e};"@none"!==d&&(!s.match(x)&&i.eventHandler&&S({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:i}),a["@language"]=s.toLowerCase()),n&&(a["@direction"]=n),o.push(a)}}return o}(M,A,e,I)}else if(H.includes("@index")&&i(A)){let t=H.includes("@graph"),n=f(M,E,"@index")||"@index",r="@index"!==n&&h(e,n,{vocab:!0},I);D=await L({activeCtx:M,options:I,activeProperty:E,value:A,asGraph:t,indexKey:n,propertyIndex:r})}else if(H.includes("@id")&&i(A)){let e=H.includes("@graph");D=await L({activeCtx:M,options:I,activeProperty:E,value:A,asGraph:e,indexKey:"@id"})}else if(H.includes("@type")&&i(A))D=await L({activeCtx:M.revertToPreviousContext(),options:I,activeProperty:E,value:A,asGraph:!1,indexKey:"@type"});else{let r="@list"===C;if(r||"@set"===C){let e=t;r&&"@graph"===n&&(e=null),D=await O.expand({activeCtx:M,activeProperty:e,element:A,options:I,insideList:r})}else D="@json"===f(e,E,"@type")?{"@type":"@json","@value":A}:await O.expand({activeCtx:M,activeProperty:E,element:A,options:I,insideList:!1})}if(null!==D||"@value"===C){if("@list"!==C&&!d(D)&&H.includes("@list")&&(D={"@list":j(D)}),H.includes("@graph")&&!H.some(e=>"@id"===e||"@index"===e)){if(D=j(D),I.isFrame||(D=D.filter(e=>{let t=Object.keys(e).length;return null!==k({value:e,count:t,options:I})})),0===D.length)continue;D=D.map(e=>({"@graph":j(e)}))}if(M.mappings.has(E)&&M.mappings.get(E).reverse){let e=b["@reverse"]=b["@reverse"]||{};D=j(D);for(let t=0;t<D.length;++t){let n=D[t];if(u(n)||d(n))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:D});w(e,C,n,{propertyIsArray:!0})}continue}w(b,C,D,{propertyIsArray:!0})}}if("@value"in b){if("@json"===b["@type"]&&y(e,1.1));else if((i(T)||a(T))&&!I.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:T})}for(let o of _)for(let l of a(c[o])?c[o]:[c[o]]){if(!i(l)||Object.keys(l).some(t=>"@value"===h(e,t,{vocab:!0},I)))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:l});await E({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:l,expandedParent:b,options:I,insideList:D,typeScopedContext:R,typeKey:A})}}function D({activeCtx:e,activeProperty:t,value:n,options:r}){if(null==n)return null;let a=h(e,t,{vocab:!0},r);if("@id"===a)return h(e,n,{base:!0},r);if("@type"===a)return h(e,n,{vocab:!0,base:!0},{...r,typeExpansion:!0});let i=f(e,t,"@type");if(("@id"===i||"@graph"===a)&&l(n)){let a=h(e,n,{base:!0},r);return null===a&&n.match(b)&&r.eventHandler&&S({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:r}),{"@id":a}}if("@vocab"===i&&l(n))return{"@id":h(e,n,{vocab:!0,base:!0},r)};if(g(a))return n;let o={};if(i&&!["@id","@vocab","@none"].includes(i))o["@type"]=i;else if(l(n)){let n=f(e,t,"@language");null!==n&&(o["@language"]=n);let r=f(e,t,"@direction");null!==r&&(o["@direction"]=r)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),o["@value"]=n,o}async function L({activeCtx:e,options:t,activeProperty:n,value:i,asGraph:o,indexKey:l,propertyIndex:d}){let p=[],g=Object.keys(i).sort(),y="@type"===l;for(let m of g){let g;if(y){let n=f(e,m,"@context");s(n)||(e=await v({activeCtx:e,localCtx:n,propagate:!1,options:t}))}let x=i[m];for(let i of(a(x)||(x=[x]),x=await O.expand({activeCtx:e,activeProperty:n,element:x,options:t,insideList:!1,insideIndex:!0}),g=d?"@none"===m?"@none":D({activeCtx:e,activeProperty:l,value:m,options:t}):h(e,m,{vocab:!0},t),"@id"===l?m=h(e,m,{base:!0},t):y&&(m=g),x)){if(o&&!c(i)&&(i={"@graph":[i]}),"@type"===l)"@none"===g||(i["@type"]?i["@type"]=[m].concat(i["@type"]):i["@type"]=[m]);else if(u(i)&&!["@language","@type","@index"].includes(l))throw new r(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${l}".`,"jsonld.SyntaxError",{code:"invalid value object",value:i});else d?"@none"!==g&&w(i,d,g,{propertyIsArray:!0,prependValue:!0}):"@none"===g||l in i||(i[l]=m);p.push(i)}}return p}e.exports=O,O.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:d={},insideList:u=!1,insideIndex:c=!1,typeScopedContext:p=null})=>{if(null==n)return null;if("@default"===t&&(d=Object.assign({},d,{isFrame:!1})),!a(n)&&!i(n))return u||null!==t&&"@graph"!==h(e,t,{vocab:!0},d)?D({activeCtx:e,activeProperty:t,value:n,options:d}):(d.eventHandler&&S({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:d}),null);if(a(n)){let r=[],i=f(e,t,"@container")||[];u=u||i.includes("@list");for(let i=0;i<n.length;++i){let o=await O.expand({activeCtx:e,activeProperty:t,element:n[i],options:d,insideIndex:c,typeScopedContext:p});u&&a(o)&&(o={"@list":o}),null!==o&&(a(o)?r=r.concat(o):r.push(o))}return r}let g=h(e,t,{vocab:!0},d),x=f(e,t,"@context");p=p||(e.previousContext?e:null);let b=Object.keys(n).sort(),w=!c;if(w&&p&&b.length<=2&&!b.includes("@context"))for(let t of b){let n=h(p,t,{vocab:!0},d);if("@value"===n){w=!1,e=p;break}if("@id"===n&&1===b.length){w=!1;break}}w&&(e=e.revertToPreviousContext()),s(x)||(e=await v({activeCtx:e,localCtx:x,propagate:!0,overrideProtected:!0,options:d})),"@context"in n&&(e=await v({activeCtx:e,localCtx:n["@context"],options:d})),p=e;let N=null;for(let t of b)if("@type"===h(e,t,{vocab:!0},d)){N=N||t;let r=n[t];for(let t of Array.isArray(r)?r.length>1?r.slice().sort():r:[r]){let n=f(p,t,"@context");s(n)||(e=await v({activeCtx:e,localCtx:n,options:d,propagate:!1}))}}let L={};await E({activeCtx:e,activeProperty:t,expandedActiveProperty:g,element:n,expandedParent:L,options:d,insideList:u,typeKey:N,typeScopedContext:p});let A=(b=Object.keys(L)).length;if("@value"in L){if("@type"in L&&("@language"in L||"@direction"in L))throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:L});let t=A-1;if("@type"in L&&(t-=1),"@index"in L&&(t-=1),"@language"in L&&(t-=1),"@direction"in L&&(t-=1),0!==t)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:L});let n=null===L["@value"]?[]:j(L["@value"]),a=I(L,"@type");if(y(e,1.1)&&a.includes("@json")&&1===a.length);else if(0===n.length)d.eventHandler&&S({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:L}},options:d}),L=null;else if(!n.every(e=>l(e)||o(e))&&"@language"in L)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:L});else if(!a.every(e=>m(e)&&!(l(e)&&0===e.indexOf("_:"))||o(e)))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:L})}else if("@type"in L&&!a(L["@type"]))L["@type"]=[L["@type"]];else if("@set"in L||"@list"in L){if(A>1&&!(2===A&&"@index"in L))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:L});"@set"in L&&(A=(b=Object.keys(L=L["@set"])).length)}else 1===A&&"@language"in L&&(d.eventHandler&&S({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:L}},options:d}),L=null);return i(L)&&!d.keepFreeFloatingNodes&&!u&&(null===t||"@graph"===g||(f(e,t,"@container")||[]).includes("@graph"))&&(L=k({value:L,count:A,options:d})),L}},4561:(e,t,n)=>{"use strict";let{isSubjectReference:r}=n(5280),{createMergedNodeMap:a}=n(5345),i={};e.exports=i,i.flatten=e=>{let t=a(e),n=[],i=Object.keys(t).sort();for(let e=0;e<i.length;++e){let a=t[i[e]];r(a)||n.push(a)}return n}},3921:(e,t,n)=>{"use strict";let{isKeyword:r}=n(3828),a=n(5280),i=n(8798),o=n(3005),l=n(1970),s=n(2007),{createNodeMap:d,mergeNodeMapGraphs:u}=n(5345),c={};function p(e){let t={};for(let n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function h(e,t,n){let r="@"+n,a=r in e?e[r][0]:t[n];if("embed"===n){if(!0===a)a="@once";else if(!1===a)a="@never";else if("@always"!==a&&"@never"!==a&&"@link"!==a&&"@first"!==a&&"@last"!==a&&"@once"!==a)throw new s("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return a}function f(e){if(!i.isArray(e)||1!==e.length||!i.isObject(e[0]))throw new s("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(let t of o.asArray(e[0]["@id"]))if(!(i.isObject(t)||l.isAbsolute(t))||i.isString(t)&&0===t.indexOf("_:"))throw new s("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(let t of o.asArray(e[0]["@type"]))if(!(i.isObject(t)||l.isAbsolute(t)||"@json"===t)||i.isString(t)&&0===t.indexOf("_:"))throw new s("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function g(e,t,n,l){let s=!0,d=!1;for(let u in n){let c=!1,p=o.getValues(t,u),h=0===o.getValues(n,u).length;if("@id"===u){if(i.isEmptyObject(n["@id"][0]||{})?c=!0:n["@id"].length>=0&&(c=n["@id"].includes(p[0])),!l.requireAll)return c}else if("@type"===u){if(s=!1,h){if(p.length>0)return!1;c=!0}else if(1===n["@type"].length&&i.isEmptyObject(n["@type"][0]))c=p.length>0;else for(let e of n["@type"])c=!!i.isObject(e)&&"@default"in e||c||p.some(t=>t===e);if(!l.requireAll)return c}else{if(r(u))continue;let t=o.getValues(n,u)[0],d=!1;if(t&&(f([t]),d="@default"in t),s=!1,0===p.length&&d)continue;if(p.length>0&&h)return!1;if(void 0===t){if(p.length>0)return!1;c=!0}else if(a.isList(t)){let n=t["@list"][0];if(a.isList(p[0])){let t=p[0]["@list"];a.isValue(n)?c=t.some(e=>m(n,e)):(a.isSubject(n)||a.isSubjectReference(n))&&(c=t.some(t=>y(e,n,t,l)))}}else c=a.isValue(t)?p.some(e=>m(t,e)):a.isSubjectReference(t)?p.some(n=>y(e,t,n,l)):!!i.isObject(t)&&p.length>0}if(!c&&l.requireAll)return!1;d=d||c}return s||d}function v(e,t,n){i.isObject(e)?o.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function y(e,t,n,r){if(!("@id"in n))return!1;let a=e.subjects[n["@id"]];return a&&g(e,a,t,r)}function m(e,t){let n=t["@value"],r=t["@type"],a=t["@language"],o=e["@value"]?i.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],l=e["@type"]?i.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?i.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===l.length&&0===s.length||!!((o.includes(n)||i.isEmptyObject(o[0]))&&(!r&&0===l.length||l.includes(r)||r&&i.isEmptyObject(l[0]))&&(!a&&0===s.length||s.includes(a)||a&&i.isEmptyObject(s[0])))}e.exports=c,c.frameMergedOrDefault=(e,t,n)=>{let r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},l=new o.IdentifierIssuer("_:b");d(e,r.graphMap,"@default",l),n.merged&&(r.graphMap["@merged"]=u(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];let s=[];return c.frame(r,Object.keys(r.subjects).sort(),t,s),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(e=>1===r.bnodeMap[e].length)),n.link={},function e(t,n){if(i.isArray(t))return t.map(t=>e(t,n));if(i.isObject(t)){if("@preserve"in t)return t["@preserve"][0];if(a.isValue(t))return t;if(a.isList(t))return t["@list"]=e(t["@list"],n),t;if("@id"in t){let e=t["@id"];if(n.link.hasOwnProperty(e)){let r=n.link[e].indexOf(t);if(-1!==r)return n.link[e][r];n.link[e].push(t)}else n.link[e]=[t]}for(let r in t){if("@id"===r&&n.bnodesToClear.includes(t[r])){delete t["@id"];continue}t[r]=e(t[r],n)}}return t}(s,n)},c.frame=(e,t,n,l,d=null)=>{f(n),n=n[0];let u=e.options,y={embed:h(n,u,"embed"),explicit:h(n,u,"explicit"),requireAll:h(n,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});let x=e.link[e.graph],b=function(e,t,n,r){let a={};for(let i of t){let t=e.graphMap[e.graph][i];g(e,t,n,r)&&(a[i]=t)}return a}(e,t,n,y);for(let f of Object.keys(b).sort()){let g=b[f];if(null===d?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===y.embed&&f in x){v(l,d,x[f]);continue}let w={"@id":f};if(0===f.indexOf("_:")&&o.addValue(e.bnodeMap,f,w,{propertyIsArray:!0}),x[f]=w,("@first"===y.embed||"@last"===y.embed)&&e.is11)throw new s("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(f))){if(e.embedded&&("@never"===y.embed||function(e,t,n){for(let r=n.length-1;r>=0;--r){let a=n[r];if(a.graph===t&&a.subject["@id"]===e["@id"])return!0}return!1}(g,e.graph,e.subjectStack))||e.embedded&&("@first"==y.embed||"@once"==y.embed)&&e.uniqueEmbeds[e.graph].hasOwnProperty(f)){v(l,d,w);continue}if("@last"===y.embed&&f in e.uniqueEmbeds[e.graph]&&function(e,t){let n=e.uniqueEmbeds[e.graph],r=n[t],a=r.parent,l=r.property,s={"@id":t};if(i.isArray(a)){for(let e=0;e<a.length;++e)if(o.compareValues(a[e],s)){a[e]=s;break}}else{let e=i.isArray(a[l]);o.removeValue(a,l,s,{propertyIsArray:e}),o.addValue(a,l,s,{propertyIsArray:e})}let d=e=>{for(let t of Object.keys(n))t in n&&i.isObject(n[t].parent)&&n[t].parent["@id"]===e&&(delete n[t],d(t))};d(t)}(e,f),e.uniqueEmbeds[e.graph][f]={parent:l,property:d},e.subjectStack.push({subject:g,graph:e.graph}),f in e.graphMap){let t=!1,r=null;"@graph"in n?(r=n["@graph"][0],t=!("@merged"===f||"@default"===f),i.isObject(r)||(r={})):(t="@merged"!==e.graph,r={}),t&&c.frame({...e,graph:f,embedded:!1},Object.keys(e.graphMap[f]).sort(),[r],w,"@graph")}for(let i of("@included"in n&&c.frame({...e,embedded:!1},t,n["@included"],w,"@included"),Object.keys(g).sort())){if(r(i)){if(w[i]=o.clone(g[i]),"@type"===i)for(let t of g["@type"])0===t.indexOf("_:")&&o.addValue(e.bnodeMap,t,w,{propertyIsArray:!0});continue}if(!y.explicit||i in n)for(let t of g[i]){let r=i in n?n[i]:p(y);if(a.isList(t)){let r=n[i]&&n[i][0]&&n[i][0]["@list"]?n[i][0]["@list"]:p(y),l={"@list":[]};for(let n of(v(w,i,l),t["@list"]))a.isSubjectReference(n)?c.frame({...e,embedded:!0},[n["@id"]],r,l,"@list"):v(l,"@list",o.clone(n))}else a.isSubjectReference(t)?c.frame({...e,embedded:!0},[t["@id"]],r,w,i):m(r[0],t)&&v(w,i,o.clone(t))}}for(let e of Object.keys(n).sort()){if("@type"===e){if(!i.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(r(e))continue;let t=n[e][0]||{};if(!h(t,u,"omitDefault")&&!(e in w)){let n="@null";"@default"in t&&(n=o.clone(t["@default"])),i.isArray(n)||(n=[n]),w[e]=[{"@preserve":n}]}}for(let t of Object.keys(n["@reverse"]||{}).sort()){let r=n["@reverse"][t];for(let n of Object.keys(e.subjects))o.getValues(e.subjects[n],t).some(e=>e["@id"]===f)&&(w["@reverse"]=w["@reverse"]||{},o.addValue(w["@reverse"],t,[],{propertyIsArray:!0}),c.frame({...e,embedded:!0},[n],r,w["@reverse"][t],d))}v(l,d,w),e.subjectStack.pop()}}},c.cleanupNull=(e,t)=>{if(i.isArray(e))return e.map(e=>c.cleanupNull(e,t)).filter(e=>e);if("@null"===e)return null;if(i.isObject(e)){if("@id"in e){let n=e["@id"];if(t.link.hasOwnProperty(n)){let r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(let n in e)e[n]=c.cleanupNull(e[n],t)}return e}},8231:(e,t,n)=>{"use strict";let r=n(2007),a=n(5280),i=n(8798),{REGEX_BCP47:o,addValue:l}=n(3005),{handleEvent:s}=n(6056),{RDF_LIST:d,RDF_FIRST:u,RDF_REST:c,RDF_NIL:p,RDF_TYPE:h,RDF_JSON_LITERAL:f,XSD_BOOLEAN:g,XSD_DOUBLE:v,XSD_INTEGER:y,XSD_STRING:m}=n(746),x={};e.exports=x,x.fromRDF=async(e,t)=>{let{useRdfType:n=!1,useNativeTypes:x=!1,rdfDirection:b=null}=t,w={},j={"@default":w},I={};if(b){if("compound-literal"===b)throw new r("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:b});if("i18n-datatype"!==b)throw new r("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:b})}for(let a of e){let e="DefaultGraph"===a.graph.termType?"@default":a.graph.value;e in j||(j[e]={}),"@default"===e||e in w||(w[e]={"@id":e});let d=j[e],u=a.subject.value,c=a.predicate.value,N=a.object;u in d||(d[u]={"@id":u});let S=d[u],O=N.termType.endsWith("Node");if(!O||N.value in d||(d[N.value]={"@id":N.value}),c===h&&!n&&O){l(S,"@type",N.value,{propertyIsArray:!0});continue}let k=function(e,t,n,a){if(e.termType.endsWith("Node"))return{"@id":e.value};let l={"@value":e.value};if(e.language)!e.language.match(o)&&a.eventHandler&&s({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:a}),l["@language"]=e.language;else{let d=e.datatype.value;if(d||(d=m),d===f){d="@json";try{l["@value"]=JSON.parse(l["@value"])}catch(e){throw new r("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:l["@value"],cause:e})}}if(t){if(d===g)"true"===l["@value"]?l["@value"]=!0:"false"===l["@value"]&&(l["@value"]=!1);else if(i.isNumeric(l["@value"])){if(d===y){let e=parseInt(l["@value"],10);e.toFixed(0)===l["@value"]&&(l["@value"]=e)}else d===v&&(l["@value"]=parseFloat(l["@value"]))}[g,y,v,m].includes(d)||(l["@type"]=d)}else if("i18n-datatype"===n&&d.startsWith("https://www.w3.org/ns/i18n#")){let[,e,t]=d.split(/[#_]/);e.length>0&&(l["@language"]=e,!e.match(o)&&a.eventHandler&&s({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:a})),l["@direction"]=t}else d!==m&&(l["@type"]=d)}return l}(N,x,b,t);if(l(S,c,k,{propertyIsArray:!0}),O){if(N.value===p){let e=d[N.value];"usages"in e||(e.usages=[]),e.usages.push({node:S,property:c,value:k})}else N.value in I?I[N.value]=!1:I[N.value]={node:S,property:c,value:k}}}for(let e in j){let t=j[e];if(!(p in t))continue;let n=t[p];if(n.usages){for(let e of n.usages){let n=e.node,r=e.property,o=e.value,l=[],s=[],p=Object.keys(n).length;for(;r===c&&i.isObject(I[n["@id"]])&&i.isArray(n[u])&&1===n[u].length&&i.isArray(n[c])&&1===n[c].length&&(3===p||4===p&&i.isArray(n["@type"])&&1===n["@type"].length&&n["@type"][0]===d)&&(l.push(n[u][0]),s.push(n["@id"]),n=(e=I[n["@id"]]).node,r=e.property,o=e.value,p=Object.keys(n).length,a.isBlankNode(n)););for(let e of(delete o["@id"],o["@list"]=l.reverse(),s))delete t[e]}delete n.usages}}let N=[];for(let e of Object.keys(w).sort()){let t=w[e];if(e in j){let n=t["@graph"]=[],r=j[e];for(let e of Object.keys(r).sort()){let t=r[e];a.isSubjectReference(t)||n.push(t)}}a.isSubjectReference(t)||N.push(t)}return N}},5280:(e,t,n)=>{"use strict";let r=n(8798),a={};e.exports=a,a.isSubject=e=>!!r.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e)),a.isSubjectReference=e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e,a.isValue=e=>r.isObject(e)&&"@value"in e,a.isList=e=>r.isObject(e)&&"@list"in e,a.isGraph=e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,a.isSimpleGraph=e=>a.isGraph(e)&&!("@id"in e),a.isBlankNode=e=>{if(r.isObject(e)){if("@id"in e){let t=e["@id"];return!r.isString(t)||0===t.indexOf("_:")}return 0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)}return!1}},4827:(e,t,n)=>{let r=n(201),a=n(5275),i=n(3005),o=n(5854),l=i.IdentifierIssuer,s=n(2007),d=n(4261),u=n(7971),{expand:c}=n(5529),{flatten:p}=n(4561),{fromRDF:h}=n(8231),{toRDF:f}=n(6668),{frameMergedOrDefault:g,cleanupNull:v}=n(3921),{isArray:y,isObject:m,isString:x}=n(8798),{isSubjectReference:b}=n(5280),{expandIri:w,getInitialContext:j,process:I,processingMode:N}=n(3828),{compact:S,compactIri:O}=n(7498),{createNodeMap:k,createMergedNodeMap:E,mergeNodeMaps:D}=n(5345),{logEventHandler:L,logWarningEventHandler:A,safeEventHandler:R,setDefaultEventHandler:T,setupEventHandler:C,strictEventHandler:_,unhandledEventHandler:J}=n(6056),M=function(e){let t={},M=new d({max:100});function P(t,{documentLoader:n=e.documentLoader,...r}){if(t&&"compactionMap"in t)throw new s('"compactionMap" not supported.',"jsonld.OptionsError");if(t&&"expansionMap"in t)throw new s('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:n},r,t,{eventHandler:C({options:t})})}return e.compact=async function(t,n,r){let a;if(arguments.length<2)throw TypeError("Could not compact, too few arguments.");if(null===n)throw new s("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;(r=P(r,{base:x(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new l("_:b"),contextResolver:new o({sharedCache:M})})).link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,a=r.skipExpansion?t:await e.expand(t,r);let d=await e.processContext(j(r),n,r),u=await S({activeCtx:d,element:a,options:r});r.compactArrays&&!r.graph&&y(u)?1===u.length?u=u[0]:0===u.length&&(u={}):r.graph&&m(u)&&(u=[u]),m(n)&&"@context"in n&&(n=n["@context"]),y(n=i.clone(n))||(n=[n]);let c=n;n=[];for(let e=0;e<c.length;++e)(!m(c[e])||Object.keys(c[e]).length>0)&&n.push(c[e]);let p=n.length>0;if(1===n.length&&(n=n[0]),y(u)){let e=O({activeCtx:d,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},p&&(u["@context"]=n),u[e]=t}else if(m(u)&&p){let e=u;for(let t in u={"@context":n},e)u[t]=e[t]}return u},e.expand=async function(t,n){let r;if(arguments.length<1)throw TypeError("Could not expand, too few arguments.");n=P(n,{keepFreeFloatingNodes:!1,contextResolver:new o({sharedCache:M})});let a={},l=[];if("expandContext"in n){let e=i.clone(n.expandContext);m(e)&&"@context"in e?a.expandContext=e:a.expandContext={"@context":e},l.push(a.expandContext)}if(x(t)){let i=await e.get(t,n);r=i.documentUrl,a.input=i.document,i.contextUrl&&(a.remoteContext={"@context":i.contextUrl},l.push(a.remoteContext))}else a.input=i.clone(t);"base"in n||(n.base=r||"");let s=j(n);for(let e of l)s=await I({activeCtx:s,localCtx:e,options:n});let d=await c({activeCtx:s,element:a.input,options:n});return m(d)&&"@graph"in d&&1===Object.keys(d).length?d=d["@graph"]:null===d&&(d=[]),y(d)||(d=[d]),d},e.flatten=async function(t,n,r){if(arguments.length<1)return TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,r=P(r,{base:x(t)?t:"",contextResolver:new o({sharedCache:M})});let a=p(await e.expand(t,r));return null===n?a:(r.graph=!0,r.skipExpansion=!0,await e.compact(a,n,r))},e.frame=async function(t,n,r){if(arguments.length<2)throw TypeError("Could not frame, too few arguments.");if(r=P(r,{base:x(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new o({sharedCache:M})}),x(n)){let t=await e.get(n,r);if(n=t.document,t.contextUrl){let e=n["@context"];e?y(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}let a=n&&n["@context"]||{},i=await e.processContext(j(r),a,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=N(i,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=N(i,1.1));let l=await e.expand(t,r),s={...r};s.isFrame=!0,s.keepFreeFloatingNodes=!0;let d=await e.expand(n,s),u=Object.keys(n).map(e=>w(i,e,{vocab:!0}));s.merged=!u.includes("@graph"),s.is11=N(i,1.1);let c=g(l,d,s);s.graph=!r.omitGraph,s.skipExpansion=!0,s.link={},s.framing=!0;let p=await e.compact(c,a,s);return s.link={},p=v(p,s)},e.link=async function(t,n,r){let a={};return n&&(a["@context"]=n),a["@embed"]="@link",e.frame(t,a,r)},e.normalize=e.canonize=async function(t,n){if(arguments.length<1)throw TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=P(n,{base:x(t)?t:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new o({sharedCache:M})}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new s("Unknown canonicalization input format.","jsonld.CanonizeError");let e=u.parse(t);return r.canonize(e,n)}let a={...n};delete a.format,a.produceGeneralizedRdf=!1;let i=await e.toRDF(t,a);return r.canonize(i,n)},e.fromRDF=async function(e,n){if(arguments.length<1)throw TypeError("Could not convert from RDF, too few arguments.");let{format:r}=n=P(n,{format:x(e)?"application/n-quads":void 0}),{rdfParser:a}=n;if(r){if(!(a=a||t[r]))throw new s("Unknown input format.","jsonld.UnknownFormat",{format:r})}else a=()=>e;return h(await a(e),n)},e.toRDF=async function(t,n){if(arguments.length<1)throw TypeError("Could not convert to RDF, too few arguments.");let r=f((n=P(n,{base:x(t)?t:"",skipExpansion:!1,contextResolver:new o({sharedCache:M})})).skipExpansion?t:await e.expand(t,n),n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return u.serialize(r);throw new s("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return r},e.createNodeMap=async function(t,n){if(arguments.length<1)throw TypeError("Could not create node map, too few arguments.");return n=P(n,{base:x(t)?t:"",contextResolver:new o({sharedCache:M})}),E(await e.expand(t,n),n)},e.merge=async function(t,n,r){if(arguments.length<1)throw TypeError("Could not merge, too few arguments.");if(!y(t))throw TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,r=P(r,{contextResolver:new o({sharedCache:M})});let a=await Promise.all(t.map(t=>{let n={...r};return e.expand(t,n)})),s=!0;"mergeNodes"in r&&(s=r.mergeNodes);let d=r.issuer||new l("_:b"),u={"@default":{}};for(let e=0;e<a.length;++e){let t=i.relabelBlankNodes(a[e],{issuer:new l("_:b"+e+"-")}),n=s||0===e?u:{"@default":{}};if(k(t,n,"@default",d),n!==u)for(let e in n){let t=n[e];if(!(e in u)){u[e]=t;continue}let r=u[e];for(let e in t)e in r||(r[e]=t[e])}}let c=D(u),p=[],h=Object.keys(c).sort();for(let e=0;e<h.length;++e){let t=c[h[e]];b(t)||p.push(t)}return null===n?p:(r.graph=!0,r.skipExpansion=!0,await e.compact(p,n,r))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new s("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let r;r="function"==typeof n.documentLoader?n.documentLoader:e.documentLoader;let a=await r(t);try{if(!a.document)throw new s("No remote document found at the given URL.","jsonld.NullRemoteDocument");x(a.document)&&(a.document=JSON.parse(a.document))}catch(e){throw new s("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:a})}return a},e.processContext=async function(e,t,n){return(n=P(n,{base:"",contextResolver:new o({sharedCache:M})}),null===t)?j(n):(m(t=i.clone(t))&&"@context"in t||(t={"@context":t}),I({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=n(3828).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new s('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=n(1970),e.logEventHandler=L,e.logWarningEventHandler=A,e.safeEventHandler=R,e.setDefaultEventHandler=T,e.strictEventHandler=_,e.unhandledEventHandler=J,e.util=i,Object.assign(e,i),e.promises=e,e.RequestQueue=n(785),e.JsonLdProcessor=n(8025)(e),a.setupGlobals(e),a.setupDocumentLoaders(e),e},P=function(){return M(function(){return P()})};M(P),e.exports=P},5345:(e,t,n)=>{"use strict";let{isKeyword:r}=n(3828),a=n(5280),i=n(8798),o=n(3005),l=n(2007),s={};e.exports=s,s.createMergedNodeMap=(e,t)=>{let n=(t=t||{}).issuer||new o.IdentifierIssuer("_:b"),r={"@default":{}};return s.createNodeMap(e,r,"@default",n),s.mergeNodeMaps(r)},s.createNodeMap=(e,t,n,d,u,c)=>{if(i.isArray(e)){for(let r of e)s.createNodeMap(r,t,n,d,void 0,c);return}if(!i.isObject(e)){c&&c.push(e);return}if(a.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=d.getId(t))}c&&c.push(e);return}if(c&&a.isList(e)){let r=[];s.createNodeMap(e["@list"],t,n,d,u,r),c.push({"@list":r});return}if("@type"in e)for(let t of e["@type"])0===t.indexOf("_:")&&d.getId(t);i.isUndefined(u)&&(u=a.isBlankNode(e)?d.getId(e["@id"]):e["@id"]),c&&c.push({"@id":u});let p=t[n],h=p[u]=p[u]||{};for(let i of(h["@id"]=u,Object.keys(e).sort())){if("@id"===i)continue;if("@reverse"===i){let r={"@id":u},i=e["@reverse"];for(let e in i)for(let l of i[e]){let i=l["@id"];a.isBlankNode(l)&&(i=d.getId(i)),s.createNodeMap(l,t,n,d,i),o.addValue(p[i],e,r,{propertyIsArray:!0,allowDuplicate:!1})}continue}if("@graph"===i){u in t||(t[u]={}),s.createNodeMap(e[i],t,u,d);continue}if("@included"===i){s.createNodeMap(e[i],t,n,d);continue}if("@type"!==i&&r(i)){if("@index"===i&&i in h&&(e[i]!==h[i]||e[i]["@id"]!==h[i]["@id"]))throw new l("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[i]=e[i];continue}let c=e[i];if(0===i.indexOf("_:")&&(i=d.getId(i)),0===c.length){o.addValue(h,i,[],{propertyIsArray:!0});continue}for(let e of c)if("@type"===i&&(e=0===e.indexOf("_:")?d.getId(e):e),a.isSubject(e)||a.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;let r=a.isBlankNode(e)?d.getId(e["@id"]):e["@id"];o.addValue(h,i,{"@id":r},{propertyIsArray:!0,allowDuplicate:!1}),s.createNodeMap(e,t,n,d,r)}else if(a.isValue(e))o.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1});else if(a.isList(e)){let r=[];s.createNodeMap(e["@list"],t,n,d,u,r),e={"@list":r},o.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1})}else s.createNodeMap(e,t,n,d,u),o.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1})}},s.mergeNodeMapGraphs=e=>{let t={};for(let n of Object.keys(e).sort())for(let a of Object.keys(e[n]).sort()){let i=e[n][a];a in t||(t[a]={"@id":a});let l=t[a];for(let e of Object.keys(i).sort())if(r(e)&&"@type"!==e)l[e]=o.clone(i[e]);else for(let t of i[e])o.addValue(l,e,o.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},s.mergeNodeMaps=e=>{let t=e["@default"];for(let n of Object.keys(e).sort()){if("@default"===n)continue;let r=e[n],i=t[n];i?"@graph"in i||(i["@graph"]=[]):t[n]=i={"@id":n,"@graph":[]};let o=i["@graph"];for(let e of Object.keys(r).sort()){let t=r[e];a.isSubjectReference(t)||o.push(t)}}return t}},5275:(e,t,n)=>{"use strict";let r=n(3537),a={};e.exports=a,a.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=r,e.useDocumentLoader("xhr"))},a.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},6668:(e,t,n)=>{"use strict";let{createNodeMap:r}=n(5345),{isKeyword:a}=n(3828),i=n(5280),o=n(4247),l=n(2007),s=n(8798),d=n(3005),{handleEvent:u}=n(6056),{RDF_FIRST:c,RDF_REST:p,RDF_NIL:h,RDF_TYPE:f,RDF_JSON_LITERAL:g,RDF_LANGSTRING:v,XSD_BOOLEAN:y,XSD_DOUBLE:m,XSD_INTEGER:x,XSD_STRING:b}=n(746),{isAbsolute:w}=n(1970),j={};e.exports=j,j.toRDF=(e,t)=>{let n=new d.IdentifierIssuer("_:b"),j={"@default":{}};r(e,j,"@default",n);let I=[];for(let e of Object.keys(j).sort()){let r;if("@default"===e)r={termType:"DefaultGraph",value:""};else if(w(e))(r=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=e;else{t.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:e}},options:t});continue}(function(e,t,n,r,d){for(let j of Object.keys(t).sort()){let I=t[j];for(let t of Object.keys(I).sort()){let N=I[t];if("@type"===t)t=f;else if(a(t))continue;for(let a of N){let f={termType:j.startsWith("_:")?"BlankNode":"NamedNode",value:j};if(!w(j)){d.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:j}},options:d});continue}let I={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!w(t)){d.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:t}},options:d});continue}if("BlankNode"===I.termType&&!d.produceGeneralizedRdf){d.eventHandler&&u({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find(e=>r.getId(e)===t)}},options:d});continue}let N=function e(t,n,r,a,d,f){let j={};if(i.isValue(t)){j.termType="Literal",j.value=void 0,j.datatype={termType:"NamedNode"};let e=t["@value"],n=t["@type"]||null;if("@json"===n)j.value=o(e),j.datatype.value=g;else if(s.isBoolean(e))j.value=e.toString(),j.datatype.value=n||y;else if(s.isDouble(e)||n===m)s.isDouble(e)||(e=parseFloat(e)),j.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),j.datatype.value=n||m;else if(s.isNumber(e))j.value=e.toFixed(0),j.datatype.value=n||x;else if("@direction"in t&&"i18n-datatype"===d){let n=(t["@language"]||"").toLowerCase(),r=t["@direction"],a=`https://www.w3.org/ns/i18n#${n}_${r}`;j.datatype.value=a,j.value=e}else if("@direction"in t&&"compound-literal"===d)throw new l("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:d});else if("@direction"in t&&d)throw new l("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:d});else"@language"in t?("@direction"in t&&!d&&f.eventHandler&&u({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:j.value}},options:f}),j.value=e,j.datatype.value=n||v,j.language=t["@language"]):("@direction"in t&&!d&&f.eventHandler&&u({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:j.value}},options:f}),j.value=e,j.datatype.value=n||b)}else if(i.isList(t)){let i=function(t,n,r,a,i,o){let l={termType:"NamedNode",value:c},s={termType:"NamedNode",value:p},d={termType:"NamedNode",value:h},u=t.pop(),f=u?{termType:"BlankNode",value:n.getId()}:d,g=f;for(let d of t){let t=e(d,n,r,a,i,o),u={termType:"BlankNode",value:n.getId()};r.push({subject:g,predicate:l,object:t,graph:a}),r.push({subject:g,predicate:s,object:u,graph:a}),g=u}if(u){let t=e(u,n,r,a,i,o);r.push({subject:g,predicate:l,object:t,graph:a}),r.push({subject:g,predicate:s,object:d,graph:a})}return f}(t["@list"],n,r,a,d,f);j.termType=i.termType,j.value=i.value}else{let e=s.isObject(t)?t["@id"]:t;j.termType=e.startsWith("_:")?"BlankNode":"NamedNode",j.value=e}return"NamedNode"!==j.termType||w(j.value)?j:(f.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:j.value}},options:f}),null)}(a,r,e,n,d.rdfDirection,d);N&&e.push({subject:f,predicate:I,object:N,graph:n})}}}})(I,j[e],r,n,t)}return I}},8798:e=>{"use strict";let t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>void 0===e},1970:(e,t,n)=>{"use strict";let r=n(8798),a={};e.exports=a,a.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},a.parse=(e,t)=>{let n={},r=a.parsers[t||"full"],i=r.regex.exec(e),o=r.keys.length;for(;o--;)n[r.keys[o]]=void 0===i[o]?null:i[o];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=a.removeDotSegments(n.path),n},a.prependBase=(e,t)=>{if(null===e||a.isAbsolute(t))return t;(!e||r.isString(e))&&(e=a.parse(e||""));let n=a.parse(t),i={protocol:e.protocol||""};if(null!==n.authority)i.authority=n.authority,i.path=n.path,i.query=n.query;else if(i.authority=e.authority,""===n.path)i.path=e.path,null!==n.query?i.query=n.query:i.query=e.query;else{if(0===n.path.indexOf("/"))i.path=n.path;else{let t=e.path;((t=t.substr(0,t.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,i.path=t}i.query=n.query}""!==n.path&&(i.path=a.removeDotSegments(i.path));let o=i.protocol;return null!==i.authority&&(o+="//"+i.authority),o+=i.path,null!==i.query&&(o+="?"+i.query),null!==n.fragment&&(o+="#"+n.fragment),""===o&&(o="./"),o},a.removeBase=(e,t)=>{if(null===e)return t;(!e||r.isString(e))&&(e=a.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;let i=a.parse(t.substr(n.length)),o=e.normalizedPath.split("/"),l=i.normalizedPath.split("/"),s=i.fragment||i.query?0:1;for(;o.length>0&&l.length>s&&o[0]===l[0];)o.shift(),l.shift();let d="";if(o.length>0){o.pop();for(let e=0;e<o.length;++e)d+="../"}return d+=l.join("/"),null!==i.query&&(d+="?"+i.query),null!==i.fragment&&(d+="#"+i.fragment),""===d&&(d="./"),d},a.removeDotSegments=e=>{if(0===e.length)return"";let t=e.split("/"),n=[];for(;t.length>0;){let e=t.shift(),r=0===t.length;if("."===e){r&&n.push("");continue}if(".."===e){n.pop(),r&&n.push("");continue}n.push(e)}return("/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0])?"/":n.join("/")};let i=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;a.isAbsolute=e=>r.isString(e)&&i.test(e),a.isRelative=e=>r.isString(e)},3005:(e,t,n)=>{"use strict";let r=n(5280),a=n(8798),i=n(201).IdentifierIssuer,o=n(2007),l=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,s=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,d=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u={headers:{accept:"application/ld+json, application/json"}},c={};e.exports=c,c.IdentifierIssuer=i,c.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,c.REGEX_KEYWORD=/^@[a-zA-Z]+$/,c.clone=function(e){if(e&&"object"==typeof e){let t;if(a.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=c.clone(e[n])}else if(e instanceof Map)for(let[n,r]of(t=new Map,e))t.set(n,c.clone(r));else if(e instanceof Set)for(let n of(t=new Set,e))t.add(c.clone(n));else if(a.isObject(e))for(let n in t={},e)t[n]=c.clone(e[n]);else t=e.toString();return t}return e},c.asArray=function(e){return Array.isArray(e)?e:[e]},c.buildHeaders=(e={})=>{if(Object.keys(e).some(e=>"accept"===e.toLowerCase()))throw RangeError('Accept header may not be specified; only "'+u.headers.accept+'" is supported.');return Object.assign({Accept:u.headers.accept},e)},c.parseLinkHeader=e=>{let t={},n=e.match(l);for(let e=0;e<n.length;++e){let r=n[e].match(s);if(!r)continue;let a={target:r[1]},i=r[2];for(;r=d.exec(i);)a[r[1]]=void 0===r[2]?r[3]:r[2];let o=a.rel||"";Array.isArray(t[o])?t[o].push(a):t.hasOwnProperty(o)?t[o]=[t[o],a]:t[o]=a}return t},c.validateTypeValue=(e,t)=>{if(!(a.isString(e)||a.isArray(e)&&e.every(e=>a.isString(e)))){if(t&&a.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&c.asArray(e["@default"]).every(e=>a.isString(e)))return}throw new o('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},c.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){let n=e[t];return!a.isArray(n)||n.length>0}return!1},c.hasValue=(e,t,n)=>{if(c.hasProperty(e,t)){let i=e[t],o=r.isList(i);if(a.isArray(i)||o){o&&(i=i["@list"]);for(let e=0;e<i.length;++e)if(c.compareValues(n,i[e]))return!0}else if(!a.isArray(n))return c.compareValues(n,i)}return!1},c.addValue=(e,t,n,r)=>{if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(a.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let a=0;a<n.length;++a)c.addValue(e,t,n[a],r)}else if(e.hasOwnProperty(t)){let i=!r.allowDuplicate&&c.hasValue(e,t,n);a.isArray(e[t])||i&&!r.propertyIsArray||(e[t]=[e[t]]),i||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},c.getValues=(e,t)=>[].concat(e[t]||[]),c.removeProperty=(e,t)=>{delete e[t]},c.removeValue=(e,t,n,r)=>{"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);let a=c.getValues(e,t).filter(e=>!c.compareValues(e,n));0===a.length?c.removeProperty(e,t):1!==a.length||r.propertyIsArray?e[t]=a:e[t]=a[0]},c.relabelBlankNodes=(e,t)=>(function e(t,n){if(a.isArray(n))for(let r=0;r<n.length;++r)n[r]=e(t,n[r]);else if(r.isList(n))n["@list"]=e(t,n["@list"]);else if(a.isObject(n)){r.isBlankNode(n)&&(n["@id"]=t.getId(n["@id"]));let a=Object.keys(n).sort();for(let r=0;r<a.length;++r){let i=a[r];"@id"!==i&&(n[i]=e(t,n[i]))}}return n})((t=t||{}).issuer||new i("_:b"),e),c.compareValues=(e,t)=>!!(e===t||r.isValue(e)&&r.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"])||!!(a.isObject(e)&&"@id"in e&&a.isObject(t))&&"@id"in t&&e["@id"]===t["@id"],c.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},4261:(e,t,n)=>{"use strict";let r=n(8637),a=Symbol("max"),i=Symbol("length"),o=Symbol("lengthCalculator"),l=Symbol("allowStale"),s=Symbol("maxAge"),d=Symbol("dispose"),u=Symbol("noDisposeOnSet"),c=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1;class g{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[a]=e.max||1/0;let t=e.length||f;if(this[o]="function"!=typeof t?f:t,this[l]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[s]=e.maxAge||0,this[d]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[a]=e||1/0,m(this)}get max(){return this[a]}set allowStale(e){this[l]=!!e}get allowStale(){return this[l]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[s]=e,m(this)}get maxAge(){return this[s]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[o]&&(this[o]=e,this[i]=0,this[c].forEach(e=>{e.length=this[o](e.value,e.key),this[i]+=e.length})),m(this)}get lengthCalculator(){return this[o]}get length(){return this[i]}get itemCount(){return this[c].length}rforEach(e,t){t=t||this;for(let n=this[c].tail;null!==n;){let r=n.prev;w(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[c].head;null!==n;){let r=n.next;w(this,e,n,t),n=r}}keys(){return this[c].toArray().map(e=>e.key)}values(){return this[c].toArray().map(e=>e.value)}reset(){this[d]&&this[c]&&this[c].length&&this[c].forEach(e=>this[d](e.key,e.value)),this[p]=new Map,this[c]=new r,this[i]=0}dump(){return this[c].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[c]}set(e,t,n){if((n=n||this[s])&&"number"!=typeof n)throw TypeError("maxAge must be a number");let r=n?Date.now():0,l=this[o](t,e);if(this[p].has(e)){if(l>this[a])return x(this,this[p].get(e)),!1;let o=this[p].get(e).value;return this[d]&&!this[u]&&this[d](e,o.value),o.now=r,o.maxAge=n,o.value=t,this[i]+=l-o.length,o.length=l,this.get(e),m(this),!0}let h=new b(e,t,l,r,n);return h.length>this[a]?(this[d]&&this[d](e,t),!1):(this[i]+=h.length,this[c].unshift(h),this[p].set(e,this[c].head),m(this),!0)}has(e){return!!this[p].has(e)&&!y(this,this[p].get(e).value)}get(e){return v(this,e,!0)}peek(e){return v(this,e,!1)}pop(){let e=this[c].tail;return e?(x(this,e),e.value):null}del(e){x(this,this[p].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let r=e[n],a=r.e||0;if(0===a)this.set(r.k,r.v);else{let e=a-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[p].forEach((e,t)=>v(this,t,!1))}}let v=(e,t,n)=>{let r=e[p].get(t);if(r){let t=r.value;if(y(e,t)){if(x(e,r),!e[l])return}else n&&(e[h]&&(r.value.now=Date.now()),e[c].unshiftNode(r));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[s])return!1;let n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[s]&&n>e[s]},m=e=>{if(e[i]>e[a])for(let t=e[c].tail;e[i]>e[a]&&null!==t;){let n=t.prev;x(e,t),t=n}},x=(e,t)=>{if(t){let n=t.value;e[d]&&e[d](n.key,n.value),e[i]-=n.length,e[p].delete(n.key),e[c].removeNode(t)}};class b{constructor(e,t,n,r,a){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=a||0}}let w=(e,t,n,r)=>{let a=n.value;y(e,a)&&(x(e,n),e[l]||(a=void 0)),a&&t.call(r,a.value,a.key,e)};e.exports=g},522:(e,t,n)=>{var r=n(7358);"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//"),({189:function(){!function(e,t){"use strict";if(!e.setImmediate){var n,a,i,o,l,s=1,d={},u=!1,c=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);(p=p&&p.setTimeout?p:e,"[object process]"===({}).toString.call(e.process))?l=function(e){r.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(n="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(n)&&f(+t.data.slice(n.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),l=function(t){e.postMessage(n+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},l=function(e){i.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(o=c.documentElement,l=function(e){var t=c.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):l=function(e){setTimeout(f,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=Function(""+e));for(var t=Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return d[s]=r,l(s),s++},p.clearImmediate=h}function h(e){delete d[e]}function f(e){if(u)setTimeout(f,0,e);else{var n=d[e];if(n){u=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{h(e),u=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)}})[189](),e.exports={}},201:(e,t,n)=>{e.exports=n(7189)},5291:e=>{"use strict";e.exports=class e{constructor(e,t=new Map,n=0){this.prefix=e,this._existing=t,this.counter=n}clone(){let{prefix:t,_existing:n,counter:r}=this;return new e(t,new Map(n),r)}getId(e){let t=e&&this._existing.get(e);if(t)return t;let n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},9551:(e,t,n)=>{"use strict";n(522);let r=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!(r&&r.subtle))throw Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else if("sha1"===e)this.algorithm={name:"SHA-1"};else throw Error(`Unsupported algorithm "${e}".`);this._content=""}update(e){this._content+=e}async digest(){let e=new TextEncoder().encode(this._content),t=new Uint8Array(await r.subtle.digest(this.algorithm,e)),n="";for(let e=0;e<t.length;++e)n+=t[e].toString(16).padStart(2,"0");return n}}},9453:e=>{"use strict";let t="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",n="http://www.w3.org/2001/XMLSchema#string",r="NamedNode",a="BlankNode",i="Literal",o="DefaultGraph",l={};(()=>{let e="(?:<([^:]+:[^>]*)>)",t="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_",n=t+"0-9-\xb7̀-ͯ‿-⁀",r="(_:(?:["+t+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",a="[ \\t]+",i="[ \\t]*";l.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,l.empty=RegExp("^"+i+"$"),l.quad=RegExp("^"+i+("(?:"+e+"|")+r+")"+a+(e+a)+("(?:"+e+"|"+r+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+e)+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+i+("(?:\\.|(?:(?:"+e+"|"+r)+")"+i+"\\.))"+i+"$")})(),e.exports=class e{static parse(e){let s=[],u={},c=e.split(l.eoln),p=0;for(let e of c){if(p++,l.empty.test(e))continue;let c=e.match(l.quad);if(null===c)throw Error("N-Quads parse error on line "+p+".");let h={subject:null,predicate:null,object:null,graph:null};if(void 0!==c[1]?h.subject={termType:r,value:c[1]}:h.subject={termType:a,value:c[2]},h.predicate={termType:r,value:c[3]},void 0!==c[4]?h.object={termType:r,value:c[4]}:void 0!==c[5]?h.object={termType:a,value:c[5]}:(h.object={termType:i,value:void 0,datatype:{termType:r}},void 0!==c[7]?h.object.datatype.value=c[7]:void 0!==c[8]?(h.object.datatype.value=t,h.object.language=c[8]):h.object.datatype.value=n,h.object.value=c[6].replace(d,function(e,t,n,r){if(t)switch(t){case"t":return"	";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw Error("Unsupported U escape")})),void 0!==c[9]?h.graph={termType:r,value:c[9]}:void 0!==c[10]?h.graph={termType:a,value:c[10]}:h.graph={termType:o,value:""},h.graph.value in u){let e=!0,t=u[h.graph.value];for(let n of t)if(n.subject.termType===h.subject.termType&&n.object.termType===h.object.termType&&n.subject.value===h.subject.value&&n.predicate.value===h.predicate.value&&n.object.value===h.object.value&&(n.object.termType!==i||n.object.datatype.termType===h.object.datatype.termType&&n.object.language===h.object.language&&n.object.datatype.value===h.object.datatype.value)){e=!1;break}e&&(t.push(h),s.push(h))}else u[h.graph.value]=[h],s.push(h)}return s}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));let n=[];for(let r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(e,i,o,l){let d="";return e.termType===r?d+=`<${e.value}>`:d+=`${e.value}`,d+=` <${i.value}> `,o.termType===r?d+=`<${o.value}>`:o.termType===a?d+=o.value:(d+=`"${o.value.replace(s,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}"`,o.datatype.value===t?o.language&&(d+=`@${o.language}`):o.datatype.value!==n&&(d+=`^^<${o.datatype.value}>`)),l.termType===r?d+=` <${l.value}>`:l.termType===a&&(d+=` ${l.value}`),d+=" .\n"}static serializeQuad(t){return e.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(e){let l=[],s={"blank node":a,IRI:r,literal:i};for(let d in e)e[d].forEach(e=>{let u={};for(let a in e){let o=e[a],l={termType:s[o.type],value:o.value};l.termType!==i||(l.datatype={termType:r},"datatype"in o&&(l.datatype.value=o.datatype),"language"in o?("datatype"in o||(l.datatype.value=t),l.language=o.language):"datatype"in o||(l.datatype.value=n)),u[a]=l}"@default"===d?u.graph={termType:o,value:""}:u.graph={termType:d.startsWith("_:")?a:r,value:d},l.push(u)});return l}};let s=/["\\\n\r]/g,d=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},5099:e=>{"use strict";e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){let{current:e,dir:t}=this,n=e.slice(),r=null,a=0,i=e.length;for(let n=0;n<i;++n){let o=e[n],l=t.get(o);(null===r||o>r)&&(l&&n>0&&o>e[n-1]||!l&&n<i-1&&o>e[n+1])&&(r=o,a=n)}if(null===r)this.done=!0;else{let n=t.get(r)?a-1:a+1;for(let i of(e[a]=e[n],e[n]=r,e))i>r&&t.set(i,!t.get(i))}return n}}},8262:(e,t,n)=>{"use strict";let r=n(5291),a=n(9551),i=n(5099),o=n(9453);function l(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor({createMessageDigest:e=()=>new a("sha256"),canonicalIdMap:t=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n",t),this.createMessageDigest=e,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(e){for(let t of(this.deepIterations=new Map,this.quads=e,e))this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});let t=new Map,n=[...this.blankNodeInfo.keys()],a=0;for(let e of n)++a%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});let i=[...t.keys()].sort(),s=[];for(let e of i){let n=t.get(e);if(n.length>1){s.push(n);continue}let r=n[0];this.canonicalIssuer.getId(r)}for(let e of s){let t=[];for(let n of e){if(this.canonicalIssuer.hasId(n))continue;let e=new r("_:b");e.getId(n);let a=await this.hashNDegreeQuads(n,e);t.push(a)}for(let e of(t.sort(l),t))for(let t of e.issuer.getOldIds())this.canonicalIssuer.getId(t)}let d=[];for(let e of this.quads){let t=o.serializeQuadComponents(this._componentWithCanonicalId(e.subject),e.predicate,this._componentWithCanonicalId(e.object),this._componentWithCanonicalId(e.graph));d.push(t)}return d.sort(),d.join("")}async hashFirstDegreeQuads(e){let t=[],n=this.blankNodeInfo.get(e);for(let r of n.quads){let n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(o.serializeQuad(n))}t.sort();let r=this.createMessageDigest();for(let e of t)r.update(e);return n.hash=await r.digest(),n.hash}async hashRelatedBlankNode(e,t,n,r){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;let i=this.createMessageDigest();return i.update(r),"g"!==r&&i.update(this.getRelatedPredicate(t)),i.update(a),i.digest()}async hashNDegreeQuads(e,t){let n=this.deepIterations.get(e)||0;if(n>this.maxDeepIterations)throw Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(e,n+1);let r=this.createMessageDigest(),a=await this.createHashToRelated(e,t);for(let e of[...a.keys()].sort()){let n;r.update(e);let o="",l=new i(a.get(e)),s=0;for(;l.hasNext();){let e=l.next();++s%3==0&&await this._yield();let r=t.clone(),a="",i=[],d=!1;for(let t of e)if(this.canonicalIssuer.hasId(t)?a+=this.canonicalIssuer.getId(t):(r.hasId(t)||i.push(t),a+=r.getId(t)),0!==o.length&&a>o){d=!0;break}if(!d){for(let e of i){let t=await this.hashNDegreeQuads(e,r);if(a+=r.getId(e),a+=`<${t.hash}>`,r=t.issuer,0!==o.length&&a>o){d=!0;break}}!d&&(0===o.length||a<o)&&(o=a,n=r)}}r.update(o),t=n}return{hash:await r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){let n=new Map,r=this.blankNodeInfo.get(e).quads,a=0;for(let i of r)++a%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){let n=await this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;let n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:a,hashToRelated:i}){if(!("BlankNode"===t.termType&&t.value!==r))return;let o=t.value,l=await this.hashRelatedBlankNode(o,e,a,n),s=i.get(l);s?s.push(o):i.set(l,[o])}_componentWithCanonicalId(e){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise(e=>setImmediate(e))}}},2010:(e,t,n)=>{"use strict";let r=n(5291),a=n(9551),i=n(5099),o=n(9453);function l(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor({createMessageDigest:e=()=>new a("sha256"),canonicalIdMap:t=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n",t),this.createMessageDigest=e,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(e){for(let t of(this.deepIterations=new Map,this.quads=e,e))this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});let t=new Map;for(let e of[...this.blankNodeInfo.keys()])this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});let n=[...t.keys()].sort(),a=[];for(let e of n){let n=t.get(e);if(n.length>1){a.push(n);continue}let r=n[0];this.canonicalIssuer.getId(r)}for(let e of a){let t=[];for(let n of e){if(this.canonicalIssuer.hasId(n))continue;let e=new r("_:b");e.getId(n);let a=this.hashNDegreeQuads(n,e);t.push(a)}for(let e of(t.sort(l),t))for(let t of e.issuer.getOldIds())this.canonicalIssuer.getId(t)}let i=[];for(let e of this.quads){let t=o.serializeQuadComponents(this._componentWithCanonicalId({component:e.subject}),e.predicate,this._componentWithCanonicalId({component:e.object}),this._componentWithCanonicalId({component:e.graph}));i.push(t)}return i.sort(),i.join("")}hashFirstDegreeQuads(e){let t=[],n=this.blankNodeInfo.get(e);for(let r of n.quads){let n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(o.serializeQuad(n))}t.sort();let r=this.createMessageDigest();for(let e of t)r.update(e);return n.hash=r.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;let i=this.createMessageDigest();return i.update(r),"g"!==r&&i.update(this.getRelatedPredicate(t)),i.update(a),i.digest()}hashNDegreeQuads(e,t){let n=this.deepIterations.get(e)||0;if(n>this.maxDeepIterations)throw Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(e,n+1);let r=this.createMessageDigest(),a=this.createHashToRelated(e,t);for(let e of[...a.keys()].sort()){let n;r.update(e);let o="",l=new i(a.get(e));for(;l.hasNext();){let e=l.next(),r=t.clone(),a="",i=[],s=!1;for(let t of e)if(this.canonicalIssuer.hasId(t)?a+=this.canonicalIssuer.getId(t):(r.hasId(t)||i.push(t),a+=r.getId(t)),0!==o.length&&a>o){s=!0;break}if(!s){for(let e of i){let t=this.hashNDegreeQuads(e,r);if(a+=r.getId(e),a+=`<${t.hash}>`,r=t.issuer,0!==o.length&&a>o){s=!0;break}}!s&&(0===o.length||a<o)&&(o=a,n=r)}}r.update(o),t=n}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){let n=new Map;for(let r of this.blankNodeInfo.get(e).quads)this._addRelatedBlankNodeHash({quad:r,component:r.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:r,component:r.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:r,component:r.graph,position:"g",id:e,issuer:t,hashToRelated:n});return n}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){let n=this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;let n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:a,hashToRelated:i}){if(!("BlankNode"===t.termType&&t.value!==r))return;let o=t.value,l=this.hashRelatedBlankNode(o,e,a,n),s=i.get(l);s?s.push(o):i.set(l,[o])}_componentWithCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},3869:(e,t,n)=>{"use strict";let r=n(9551),a=n(8262);e.exports=class extends a{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r("sha1")}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){let n=new Map,r=this.blankNodeInfo.get(e).quads,a=0;for(let i of r){let r,o;if("BlankNode"===i.subject.termType&&i.subject.value!==e)o=i.subject.value,r="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;o=i.object.value,r="r"}++a%100==0&&await this._yield();let l=await this.hashRelatedBlankNode(o,i,t,r),s=n.get(l);s?s.push(o):n.set(l,[o])}return n}}},8198:(e,t,n)=>{"use strict";let r=n(9551),a=n(2010);e.exports=class extends a{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r("sha1")}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){let n=new Map;for(let r of this.blankNodeInfo.get(e).quads){let a,i;if("BlankNode"===r.subject.termType&&r.subject.value!==e)i=r.subject.value,a="p";else{if("BlankNode"!==r.object.termType||r.object.value===e)continue;i=r.object.value,a="r"}let o=this.hashRelatedBlankNode(i,r,t,a),l=n.get(o);l?l.push(i):n.set(o,[i])}return n}}},7189:(e,t,n)=>{"use strict";let r;let a=n(8262),i=n(3869),o=n(2010),l=n(8198);try{r=n(7789)}catch(e){}function s(e){return Array.isArray(e)?e:t.NQuads.legacyDatasetToQuads(e)}t.NQuads=n(9453),t.IdentifierIssuer=n(5291),t._rdfCanonizeNative=function(e){return e&&(r=e),r},t.canonize=async function(e,t){let n=s(e,t);if(t.useNative){if(!r)throw Error("rdf-canonize-native not available");if(t.createMessageDigest)throw Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((e,a)=>r.canonize(n,t,(t,n)=>t?a(t):e(n)))}if("URDNA2015"===t.algorithm)return new a(t).main(n);if("URGNA2012"===t.algorithm){if(t.createMessageDigest)throw Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(t).main(n)}if(!("algorithm"in t))throw Error("No RDF Dataset Canonicalization algorithm specified.");throw Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},t._canonizeSync=function(e,t){let n=s(e,t);if(t.useNative){if(!r)throw Error("rdf-canonize-native not available");if(t.createMessageDigest)throw Error('"createMessageDigest" cannot be used with "useNative".');return r.canonizeSync(n,t)}if("URDNA2015"===t.algorithm)return new o(t).main(n);if("URGNA2012"===t.algorithm){if(t.createMessageDigest)throw Error('"createMessageDigest" cannot be used with "URGNA2012".');return new l(t).main(n)}if(!("algorithm"in t))throw Error("No RDF Dataset Canonicalization algorithm specified.");throw Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},4303:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},8637:(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var n=0,a=arguments.length;n<a;n++)t.push(arguments[n]);return t}function a(e,t,n,r){if(!(this instanceof a))return new a(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e,t=0,n=arguments.length;t<n;t++)e=arguments[t],this.tail=new a(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},r.prototype.unshift=function(){for(var e,t=0,n=arguments.length;t<n;t++)e=arguments[t],this.head=new a(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,a=this.head;null!==a;)n.push(e.call(t,a.value,this)),a=a.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,a=this.tail;null!==a;)n.push(e.call(t,a.value,this)),a=a.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var a=0;null!==r;a++)n=e(n,r.value,a),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;null!==r;a--)n=e(n,r.value,a),r=r.prev;return n},r.prototype.toArray=function(){for(var e=Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=0,i=this.head;null!==i&&a<e;a++)i=i.next;for(;null!==i&&a<t;a++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=this.length,i=this.tail;null!==i&&a>t;a--)i=i.prev;for(;null!==i&&a>e;a--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=function(e,t,n){var r=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}(this,i,n[r]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(4303)(r)}catch(e){}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{413:function(e,t,n){e.exports=n(912)},418:function(e,t,n){},458:function(e,t){},460:function(e,t){},523:function(e,t){},524:function(e,t){},615:function(e,t){},616:function(e,t){},716:function(e,t){},778:function(e,t,n){var r={"./N3Lexer":171,"./N3Lexer.js":171,"./N3Parser":172,"./N3Parser.js":172,"./N3Store":359,"./N3Store.js":359,"./N3StreamParser":360,"./N3StreamParser.js":360,"./N3StreamWriter":361,"./N3StreamWriter.js":361,"./N3Util":173,"./N3Util.js":173,"./N3Writer":174,"./N3Writer.js":174};function a(e){var t=c(e);return n(t)}function c(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id=778},786:function(e,t){},788:function(e,t){},832:function(e,t){},833:function(e,t){},835:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=835},870:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=870},897:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=897},912:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n.n(r),c=n(407),o=n.n(c),i=(n(418),n(5)),s=n.n(i),u=n(26),l=n(408),d=n(409),p=n(411),m=n(410),f=n(412),v=n(35),h=n(38),w=n.n(h),y=n(54),b=function(e){var t=e.links;return r.createElement("ul",null,t.sort(N).map(g))};function N(e,t){return t.created.getTime()-e.created.getTime()}function g(e,t){return r.createElement("li",{key:t,className:"card section"},r.createElement("p",{className:"content is-large"},r.createElement("a",{href:e.url,title:"View ".concat(e.title||e.url)},e.title||e.url)))}var E=n(16),k=E.Namespace("http://www.w3.org/ns/solid/terms#"),O=E.Namespace("http://www.w3.org/2002/01/bookmark#"),x=E.Namespace("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),j=(E.Namespace("https://www.w3.org/ns/activitystreams#"),E.Namespace("http://www.w3.org/ns/ldp#"),E.Namespace("http://www.w3.org/2001/XMLSchema#")),S=E.Namespace("http://www.w3.org/ns/pim/space#"),L=E.Namespace("http://purl.org/dc/terms/");function D(e,t){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(s.a.mark(function e(t,n){var r,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n);case 2:return r=e.sent,e.next=5,B(t,r);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e,t){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(s.a.mark(function e(t,n){var r,a,c,o,i,u,l,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sym(n),a=new E.Fetcher(t,{}),c=t.any(r,k("publicTypeIndex"),void 0,void 0),e.next=5,a.load(c);case 5:return"undefined"===typeof(o=t.any(void 0,k("forClass"),O("Bookmark"),void 0))&&(i=t.any(r,S("storage"),void 0,void 0),u="".concat(i.value,"public/poddit.ttl"),l=E.sym("".concat(c.value,"#poddit")),d=[E.st(c,L("references"),l,c),E.st(l,x("type"),k("TypeRegistration"),l.doc()),E.st(l,k("forClass"),O("Bookmark"),l.doc()),E.st(l,k("instance"),E.sym(u),l.doc())],new E.UpdateManager(t).update([],d,function(e,t,n){}),o=t.any(l,k("instance"),void 0,void 0)),e.abrupt("return",o);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e,t){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(s.a.mark(function e(t,n){var r,a,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new E.Fetcher(t,{}),a=t.any(n,k("instance"),void 0,void 0),e.prev=2,e.next=5,r.load(a);case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),c=E.sym(a.value),e.next=12,r.putBack(c);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e,null,[[2,7]])}))).apply(this,arguments)}function W(e,t,n){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(s.a.mark(function e(t,n,r){var a,c,o,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,n);case 2:if(a=e.sent,c=new E.Fetcher(t,{}),"undefined"!==typeof(o=t.any(void 0,O("recalls"),r.url,void 0))){e.next=15;break}return i=E.sym(a.value+"#"+Math.random()+".ttl"),t.add(a,L("references"),i,a),t.add(i,x("type"),O("Bookmark"),i.doc()),t.add(i,L("created"),E.lit(r.created.toISOString(),null,j("dateTime")),i.doc()),t.add(i,O("recalls"),E.lit(r.url,null,j("string")),i.doc()),t.add(i,L("title"),E.lit(r.title,null,j("string")),i.doc()),e.next=14,c.putBack(i);case 14:o=t.any(void 0,O("recalls"),void 0,void 0);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,t){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(s.a.mark(function e(t,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,n);case 2:return r=t.each(void 0,x("type"),O("Bookmark"),void 0),e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var P=function(){var e=Object(v.useWebId)(),t=Object(v.useLDflexValue)("[".concat(e,"].name")),n=r.useState(),a=Object(y.a)(n,2),c=a[0],o=a[1],i=r.useState(),l=Object(y.a)(i,2),d=l[0],p=l[1],m=r.useReducer(function(e,t){return e.concat(t)},[]),f=Object(y.a)(m,2),h=f[0],w=f[1],N=function(){var e=Object(v.useWebId)(),t=r.useState(),n=Object(y.a)(t,2),a=n[0],c=n[1];return r.useEffect(function(){if(e){var t=E.graph(),n=t.sym(e),r=new E.Fetcher(t,{});Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.load(n.doc());case 2:c(t);case 3:case"end":return e.stop()}},e)}))()}},[e]),a}(),g=function(e){var t=Object(v.useWebId)(),n=r.useState(),a=Object(y.a)(n,2),c=a[0],o=a[1];return r.useEffect(function(){e&&t&&Object(u.a)(s.a.mark(function n(){var r,a;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I(e,t);case 2:return r=n.sent,a=new E.Fetcher(e),n.next=6,a.load(r.map(function(e){return e.value}));case 6:o(r);case 7:case"end":return n.stop()}},n)}))()},[e,t]),c}(N),k=[];function x(){return(x=Object(u.a)(s.a.mark(function t(n){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),N&&e&&c&&d){t.next=3;break}return t.abrupt("return");case 3:return r={url:c,title:d,created:new Date},w(r),t.next=7,W(N,e,r);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}N&&g&&(k=g.map(function(e){var t=N.any(e,O("recalls"),void 0,void 0),n=N.any(e,L("title"),void 0,void 0),r=N.any(e,L("created"),void 0,void 0);return{url:t.value,title:n?n.value:t.value,created:r?new Date(r.value):new Date(0)}}));var j=t?"".concat(t.toString(),"'s links"):"Your links";return r.createElement(r.Fragment,null,r.createElement("header",{className:"hero is-info"},r.createElement("div",{className:"hero-body"},r.createElement("p",{className:"container"},r.createElement("h2",{className:"title"},j)))),r.createElement("section",{className:"section"},r.createElement("div",{className:"container"},r.createElement("form",{onSubmit:function(e){return x.apply(this,arguments)},className:"field is-horizontal"},r.createElement("div",{className:"field-body"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"shareLink",className:"label"},"URL"),r.createElement("div",{className:"control"},r.createElement("input",{id:"shareLink",required:!0,className:"input is-large",type:"url",placeholder:"e.g. `https://solid.community`",onChange:function(e){return o(e.target.value)}}))),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"shareTitle",className:"label"},"Title"),r.createElement("div",{className:"control"},r.createElement("input",{id:"shareTitle",required:!0,className:"input is-large",type:"text",placeholder:"e.g. `Solid prototype server`",onChange:function(e){return p(e.target.value)}}))),r.createElement("div",{className:"control pageSubmit"},r.createElement("input",{type:"submit",className:"button is-large is-primary",value:"Add link"})))),r.createElement(b,{links:h.concat(k)}))))},R=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"login",value:function(){var e=Object(u.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w.a.currentSession();case 4:e.sent||w.a.login(t);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(URLSearchParams&&document.location.search.length>0){var e=new URLSearchParams(document.location.search.substring(1));if(e.has("idp"))return this.login(e.get("idp")),a.a.createElement("div",null,"Logging you in, please stand by\u2026")}return a.a.createElement("div",null,a.a.createElement(v.LoggedIn,null,a.a.createElement(P,null),a.a.createElement("footer",{className:"footer"},a.a.createElement("div",{className:"container"},a.a.createElement(v.LogoutButton,{className:"button is-pulled-right"},"Disconnect")))),a.a.createElement(v.LoggedOut,null,a.a.createElement("section",{className:"section"},a.a.createElement("div",{className:"container"},a.a.createElement(v.LoginButton,{popup:"popup.html",className:"button is-large is-primary"},"Connect to start bookmarking")))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[413,1,2]]]);
//# sourceMappingURL=main.831f3296.chunk.js.map